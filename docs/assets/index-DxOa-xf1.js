function Vw(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function yl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var hg={exports:{}},vl={},pg={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var na=Symbol.for("react.element"),Kw=Symbol.for("react.portal"),Xw=Symbol.for("react.fragment"),Yw=Symbol.for("react.strict_mode"),qw=Symbol.for("react.profiler"),Jw=Symbol.for("react.provider"),Zw=Symbol.for("react.context"),eA=Symbol.for("react.forward_ref"),tA=Symbol.for("react.suspense"),nA=Symbol.for("react.memo"),rA=Symbol.for("react.lazy"),Hh=Symbol.iterator;function iA(e){return e===null||typeof e!="object"?null:(e=Hh&&e[Hh]||e["@@iterator"],typeof e=="function"?e:null)}var mg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gg=Object.assign,yg={};function Ei(e,t,n){this.props=e,this.context=t,this.refs=yg,this.updater=n||mg}Ei.prototype.isReactComponent={};Ei.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ei.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function vg(){}vg.prototype=Ei.prototype;function jf(e,t,n){this.props=e,this.context=t,this.refs=yg,this.updater=n||mg}var Mf=jf.prototype=new vg;Mf.constructor=jf;gg(Mf,Ei.prototype);Mf.isPureReactComponent=!0;var Vh=Array.isArray,wg=Object.prototype.hasOwnProperty,Uf={current:null},Ag={key:!0,ref:!0,__self:!0,__source:!0};function _g(e,t,n){var r,i={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)wg.call(t,r)&&!Ag.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:na,type:e,key:s,ref:a,props:i,_owner:Uf.current}}function sA(e,t){return{$$typeof:na,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Qf(e){return typeof e=="object"&&e!==null&&e.$$typeof===na}function aA(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Kh=/\/+/g;function ru(e,t){return typeof e=="object"&&e!==null&&e.key!=null?aA(""+e.key):t.toString(36)}function uo(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case na:case Kw:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+ru(a,0):r,Vh(i)?(n="",e!=null&&(n=e.replace(Kh,"$&/")+"/"),uo(i,t,n,"",function(c){return c})):i!=null&&(Qf(i)&&(i=sA(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Kh,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",Vh(e))for(var o=0;o<e.length;o++){s=e[o];var l=r+ru(s,o);a+=uo(s,t,n,l,i)}else if(l=iA(e),typeof l=="function")for(e=l.call(e),o=0;!(s=e.next()).done;)s=s.value,l=r+ru(s,o++),a+=uo(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function xa(e,t,n){if(e==null)return e;var r=[],i=0;return uo(e,r,"","",function(s){return t.call(n,s,i++)}),r}function oA(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Je={current:null},co={transition:null},lA={ReactCurrentDispatcher:Je,ReactCurrentBatchConfig:co,ReactCurrentOwner:Uf};function xg(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:xa,forEach:function(e,t,n){xa(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return xa(e,function(){t++}),t},toArray:function(e){return xa(e,function(t){return t})||[]},only:function(e){if(!Qf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Component=Ei;Z.Fragment=Xw;Z.Profiler=qw;Z.PureComponent=jf;Z.StrictMode=Yw;Z.Suspense=tA;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lA;Z.act=xg;Z.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=gg({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=Uf.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)wg.call(t,l)&&!Ag.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:na,type:e.type,key:i,ref:s,props:r,_owner:a}};Z.createContext=function(e){return e={$$typeof:Zw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Jw,_context:e},e.Consumer=e};Z.createElement=_g;Z.createFactory=function(e){var t=_g.bind(null,e);return t.type=e,t};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:eA,render:e}};Z.isValidElement=Qf;Z.lazy=function(e){return{$$typeof:rA,_payload:{_status:-1,_result:e},_init:oA}};Z.memo=function(e,t){return{$$typeof:nA,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=co.transition;co.transition={};try{e()}finally{co.transition=t}};Z.unstable_act=xg;Z.useCallback=function(e,t){return Je.current.useCallback(e,t)};Z.useContext=function(e){return Je.current.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e){return Je.current.useDeferredValue(e)};Z.useEffect=function(e,t){return Je.current.useEffect(e,t)};Z.useId=function(){return Je.current.useId()};Z.useImperativeHandle=function(e,t,n){return Je.current.useImperativeHandle(e,t,n)};Z.useInsertionEffect=function(e,t){return Je.current.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return Je.current.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return Je.current.useMemo(e,t)};Z.useReducer=function(e,t,n){return Je.current.useReducer(e,t,n)};Z.useRef=function(e){return Je.current.useRef(e)};Z.useState=function(e){return Je.current.useState(e)};Z.useSyncExternalStore=function(e,t,n){return Je.current.useSyncExternalStore(e,t,n)};Z.useTransition=function(){return Je.current.useTransition()};Z.version="18.3.1";pg.exports=Z;var j=pg.exports;const Pn=yl(j),uA=Vw({__proto__:null,default:Pn},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cA=j,fA=Symbol.for("react.element"),dA=Symbol.for("react.fragment"),hA=Object.prototype.hasOwnProperty,pA=cA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mA={key:!0,ref:!0,__self:!0,__source:!0};function Eg(e,t,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)hA.call(t,r)&&!mA.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:fA,type:e,key:s,ref:a,props:i,_owner:pA.current}}vl.Fragment=dA;vl.jsx=Eg;vl.jsxs=Eg;hg.exports=vl;var b=hg.exports,nc={},Sg={exports:{}},yt={},Cg={exports:{}},Ig={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,B){var T=k.length;k.push(B);e:for(;0<T;){var M=T-1>>>1,D=k[M];if(0<i(D,B))k[M]=B,k[T]=D,T=M;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var B=k[0],T=k.pop();if(T!==B){k[0]=T;e:for(var M=0,D=k.length,Q=D>>>1;M<Q;){var V=2*(M+1)-1,K=k[V],ve=V+1,He=k[ve];if(0>i(K,T))ve<D&&0>i(He,K)?(k[M]=He,k[ve]=T,M=ve):(k[M]=K,k[V]=T,M=V);else if(ve<D&&0>i(He,T))k[M]=He,k[ve]=T,M=ve;else break e}}return B}function i(k,B){var T=k.sortIndex-B.sortIndex;return T!==0?T:k.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,f=null,d=3,p=!1,y=!1,m=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(k){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=k)r(c),B.sortIndex=B.expirationTime,t(l,B);else break;B=n(c)}}function E(k){if(m=!1,v(k),!y)if(n(l)!==null)y=!0,R(w);else{var B=n(c);B!==null&&O(E,B.startTime-k)}}function w(k,B){y=!1,m&&(m=!1,g(S),S=-1),p=!0;var T=d;try{for(v(B),f=n(l);f!==null&&(!(f.expirationTime>B)||k&&!P());){var M=f.callback;if(typeof M=="function"){f.callback=null,d=f.priorityLevel;var D=M(f.expirationTime<=B);B=e.unstable_now(),typeof D=="function"?f.callback=D:f===n(l)&&r(l),v(B)}else r(l);f=n(l)}if(f!==null)var Q=!0;else{var V=n(c);V!==null&&O(E,V.startTime-B),Q=!1}return Q}finally{f=null,d=T,p=!1}}var A=!1,_=null,S=-1,C=5,I=-1;function P(){return!(e.unstable_now()-I<C)}function F(){if(_!==null){var k=e.unstable_now();I=k;var B=!0;try{B=_(!0,k)}finally{B?N():(A=!1,_=null)}}else A=!1}var N;if(typeof h=="function")N=function(){h(F)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,$=L.port2;L.port1.onmessage=F,N=function(){$.postMessage(null)}}else N=function(){x(F,0)};function R(k){_=k,A||(A=!0,N())}function O(k,B){S=x(function(){k(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,R(w))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(k){switch(d){case 1:case 2:case 3:var B=3;break;default:B=d}var T=d;d=B;try{return k()}finally{d=T}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,B){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var T=d;d=k;try{return B()}finally{d=T}},e.unstable_scheduleCallback=function(k,B,T){var M=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?M+T:M):T=M,k){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=T+D,k={id:u++,callback:B,priorityLevel:k,startTime:T,expirationTime:D,sortIndex:-1},T>M?(k.sortIndex=T,t(c,k),n(l)===null&&k===n(c)&&(m?(g(S),S=-1):m=!0,O(E,T-M))):(k.sortIndex=D,t(l,k),y||p||(y=!0,R(w))),k},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(k){var B=d;return function(){var T=d;d=B;try{return k.apply(this,arguments)}finally{d=T}}}})(Ig);Cg.exports=Ig;var gA=Cg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yA=j,mt=gA;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bg=new Set,bs={};function Rr(e,t){mi(e,t),mi(e+"Capture",t)}function mi(e,t){for(bs[e]=t,e=0;e<t.length;e++)bg.add(t[e])}var mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rc=Object.prototype.hasOwnProperty,vA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xh={},Yh={};function wA(e){return rc.call(Yh,e)?!0:rc.call(Xh,e)?!1:vA.test(e)?Yh[e]=!0:(Xh[e]=!0,!1)}function AA(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _A(e,t,n,r){if(t===null||typeof t>"u"||AA(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ze(e,t,n,r,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var De={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){De[e]=new Ze(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];De[t]=new Ze(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){De[e]=new Ze(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){De[e]=new Ze(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){De[e]=new Ze(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){De[e]=new Ze(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){De[e]=new Ze(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){De[e]=new Ze(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){De[e]=new Ze(e,5,!1,e.toLowerCase(),null,!1,!1)});var zf=/[\-:]([a-z])/g;function Gf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(zf,Gf);De[t]=new Ze(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(zf,Gf);De[t]=new Ze(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(zf,Gf);De[t]=new Ze(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){De[e]=new Ze(e,1,!1,e.toLowerCase(),null,!1,!1)});De.xlinkHref=new Ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){De[e]=new Ze(e,1,!1,e.toLowerCase(),null,!0,!0)});function Wf(e,t,n,r){var i=De.hasOwnProperty(t)?De[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_A(t,n,i,r)&&(n=null),r||i===null?wA(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var An=yA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ea=Symbol.for("react.element"),Gr=Symbol.for("react.portal"),Wr=Symbol.for("react.fragment"),Hf=Symbol.for("react.strict_mode"),ic=Symbol.for("react.profiler"),kg=Symbol.for("react.provider"),Rg=Symbol.for("react.context"),Vf=Symbol.for("react.forward_ref"),sc=Symbol.for("react.suspense"),ac=Symbol.for("react.suspense_list"),Kf=Symbol.for("react.memo"),bn=Symbol.for("react.lazy"),Pg=Symbol.for("react.offscreen"),qh=Symbol.iterator;function Mi(e){return e===null||typeof e!="object"?null:(e=qh&&e[qh]||e["@@iterator"],typeof e=="function"?e:null)}var pe=Object.assign,iu;function Zi(e){if(iu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);iu=t&&t[1]||""}return`
`+iu+e}var su=!1;function au(e,t){if(!e||su)return"";su=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o);break}}}finally{su=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Zi(e):""}function xA(e){switch(e.tag){case 5:return Zi(e.type);case 16:return Zi("Lazy");case 13:return Zi("Suspense");case 19:return Zi("SuspenseList");case 0:case 2:case 15:return e=au(e.type,!1),e;case 11:return e=au(e.type.render,!1),e;case 1:return e=au(e.type,!0),e;default:return""}}function oc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Wr:return"Fragment";case Gr:return"Portal";case ic:return"Profiler";case Hf:return"StrictMode";case sc:return"Suspense";case ac:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Rg:return(e.displayName||"Context")+".Consumer";case kg:return(e._context.displayName||"Context")+".Provider";case Vf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Kf:return t=e.displayName||null,t!==null?t:oc(e.type)||"Memo";case bn:t=e._payload,e=e._init;try{return oc(e(t))}catch{}}return null}function EA(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oc(t);case 8:return t===Hf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Hn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Bg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function SA(e){var t=Bg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Sa(e){e._valueTracker||(e._valueTracker=SA(e))}function Tg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Bg(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function $o(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function lc(e,t){var n=t.checked;return pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Jh(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Hn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Og(e,t){t=t.checked,t!=null&&Wf(e,"checked",t,!1)}function uc(e,t){Og(e,t);var n=Hn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?cc(e,t.type,n):t.hasOwnProperty("defaultValue")&&cc(e,t.type,Hn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Zh(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function cc(e,t,n){(t!=="number"||$o(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var es=Array.isArray;function ri(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Hn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function fc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ep(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(U(92));if(es(n)){if(1<n.length)throw Error(U(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Hn(n)}}function Lg(e,t){var n=Hn(t.value),r=Hn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function tp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function $g(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?$g(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ca,Ng=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ca=Ca||document.createElement("div"),Ca.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ca.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ks(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var fs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},CA=["Webkit","ms","Moz","O"];Object.keys(fs).forEach(function(e){CA.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fs[t]=fs[e]})});function Dg(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||fs.hasOwnProperty(e)&&fs[e]?(""+t).trim():t+"px"}function Fg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Dg(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var IA=pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hc(e,t){if(t){if(IA[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function pc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mc=null;function Xf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gc=null,ii=null,si=null;function np(e){if(e=sa(e)){if(typeof gc!="function")throw Error(U(280));var t=e.stateNode;t&&(t=El(t),gc(e.stateNode,e.type,t))}}function jg(e){ii?si?si.push(e):si=[e]:ii=e}function Mg(){if(ii){var e=ii,t=si;if(si=ii=null,np(e),t)for(e=0;e<t.length;e++)np(t[e])}}function Ug(e,t){return e(t)}function Qg(){}var ou=!1;function zg(e,t,n){if(ou)return e(t,n);ou=!0;try{return Ug(e,t,n)}finally{ou=!1,(ii!==null||si!==null)&&(Qg(),Mg())}}function Rs(e,t){var n=e.stateNode;if(n===null)return null;var r=El(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(U(231,t,typeof n));return n}var yc=!1;if(mn)try{var Ui={};Object.defineProperty(Ui,"passive",{get:function(){yc=!0}}),window.addEventListener("test",Ui,Ui),window.removeEventListener("test",Ui,Ui)}catch{yc=!1}function bA(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var ds=!1,No=null,Do=!1,vc=null,kA={onError:function(e){ds=!0,No=e}};function RA(e,t,n,r,i,s,a,o,l){ds=!1,No=null,bA.apply(kA,arguments)}function PA(e,t,n,r,i,s,a,o,l){if(RA.apply(this,arguments),ds){if(ds){var c=No;ds=!1,No=null}else throw Error(U(198));Do||(Do=!0,vc=c)}}function Pr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Gg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function rp(e){if(Pr(e)!==e)throw Error(U(188))}function BA(e){var t=e.alternate;if(!t){if(t=Pr(e),t===null)throw Error(U(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return rp(i),e;if(s===r)return rp(i),t;s=s.sibling}throw Error(U(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?e:t}function Wg(e){return e=BA(e),e!==null?Hg(e):null}function Hg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Hg(e);if(t!==null)return t;e=e.sibling}return null}var Vg=mt.unstable_scheduleCallback,ip=mt.unstable_cancelCallback,TA=mt.unstable_shouldYield,OA=mt.unstable_requestPaint,we=mt.unstable_now,LA=mt.unstable_getCurrentPriorityLevel,Yf=mt.unstable_ImmediatePriority,Kg=mt.unstable_UserBlockingPriority,Fo=mt.unstable_NormalPriority,$A=mt.unstable_LowPriority,Xg=mt.unstable_IdlePriority,wl=null,qt=null;function NA(e){if(qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(wl,e,void 0,(e.current.flags&128)===128)}catch{}}var $t=Math.clz32?Math.clz32:jA,DA=Math.log,FA=Math.LN2;function jA(e){return e>>>=0,e===0?32:31-(DA(e)/FA|0)|0}var Ia=64,ba=4194304;function ts(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function jo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=ts(o):(s&=a,s!==0&&(r=ts(s)))}else a=n&~i,a!==0?r=ts(a):s!==0&&(r=ts(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-$t(t),i=1<<n,r|=e[n],t&=~i;return r}function MA(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function UA(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-$t(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=MA(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}function wc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Yg(){var e=Ia;return Ia<<=1,!(Ia&4194240)&&(Ia=64),e}function lu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ra(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-$t(t),e[t]=n}function QA(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-$t(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function qf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-$t(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var te=0;function qg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Jg,Jf,Zg,ey,ty,Ac=!1,ka=[],Dn=null,Fn=null,jn=null,Ps=new Map,Bs=new Map,Bn=[],zA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sp(e,t){switch(e){case"focusin":case"focusout":Dn=null;break;case"dragenter":case"dragleave":Fn=null;break;case"mouseover":case"mouseout":jn=null;break;case"pointerover":case"pointerout":Ps.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bs.delete(t.pointerId)}}function Qi(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=sa(t),t!==null&&Jf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function GA(e,t,n,r,i){switch(t){case"focusin":return Dn=Qi(Dn,e,t,n,r,i),!0;case"dragenter":return Fn=Qi(Fn,e,t,n,r,i),!0;case"mouseover":return jn=Qi(jn,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ps.set(s,Qi(Ps.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Bs.set(s,Qi(Bs.get(s)||null,e,t,n,r,i)),!0}return!1}function ny(e){var t=lr(e.target);if(t!==null){var n=Pr(t);if(n!==null){if(t=n.tag,t===13){if(t=Gg(n),t!==null){e.blockedOn=t,ty(e.priority,function(){Zg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=_c(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);mc=r,n.target.dispatchEvent(r),mc=null}else return t=sa(n),t!==null&&Jf(t),e.blockedOn=n,!1;t.shift()}return!0}function ap(e,t,n){fo(e)&&n.delete(t)}function WA(){Ac=!1,Dn!==null&&fo(Dn)&&(Dn=null),Fn!==null&&fo(Fn)&&(Fn=null),jn!==null&&fo(jn)&&(jn=null),Ps.forEach(ap),Bs.forEach(ap)}function zi(e,t){e.blockedOn===t&&(e.blockedOn=null,Ac||(Ac=!0,mt.unstable_scheduleCallback(mt.unstable_NormalPriority,WA)))}function Ts(e){function t(i){return zi(i,e)}if(0<ka.length){zi(ka[0],e);for(var n=1;n<ka.length;n++){var r=ka[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Dn!==null&&zi(Dn,e),Fn!==null&&zi(Fn,e),jn!==null&&zi(jn,e),Ps.forEach(t),Bs.forEach(t),n=0;n<Bn.length;n++)r=Bn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Bn.length&&(n=Bn[0],n.blockedOn===null);)ny(n),n.blockedOn===null&&Bn.shift()}var ai=An.ReactCurrentBatchConfig,Mo=!0;function HA(e,t,n,r){var i=te,s=ai.transition;ai.transition=null;try{te=1,Zf(e,t,n,r)}finally{te=i,ai.transition=s}}function VA(e,t,n,r){var i=te,s=ai.transition;ai.transition=null;try{te=4,Zf(e,t,n,r)}finally{te=i,ai.transition=s}}function Zf(e,t,n,r){if(Mo){var i=_c(e,t,n,r);if(i===null)vu(e,t,r,Uo,n),sp(e,r);else if(GA(i,e,t,n,r))r.stopPropagation();else if(sp(e,r),t&4&&-1<zA.indexOf(e)){for(;i!==null;){var s=sa(i);if(s!==null&&Jg(s),s=_c(e,t,n,r),s===null&&vu(e,t,r,Uo,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else vu(e,t,r,null,n)}}var Uo=null;function _c(e,t,n,r){if(Uo=null,e=Xf(r),e=lr(e),e!==null)if(t=Pr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Gg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Uo=e,null}function ry(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(LA()){case Yf:return 1;case Kg:return 4;case Fo:case $A:return 16;case Xg:return 536870912;default:return 16}default:return 16}}var Ln=null,ed=null,ho=null;function iy(){if(ho)return ho;var e,t=ed,n=t.length,r,i="value"in Ln?Ln.value:Ln.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[s-r];r++);return ho=i.slice(e,1<r?1-r:void 0)}function po(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ra(){return!0}function op(){return!1}function vt(e){function t(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ra:op,this.isPropagationStopped=op,this}return pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ra)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ra)},persist:function(){},isPersistent:Ra}),t}var Si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=vt(Si),ia=pe({},Si,{view:0,detail:0}),KA=vt(ia),uu,cu,Gi,Al=pe({},ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gi&&(Gi&&e.type==="mousemove"?(uu=e.screenX-Gi.screenX,cu=e.screenY-Gi.screenY):cu=uu=0,Gi=e),uu)},movementY:function(e){return"movementY"in e?e.movementY:cu}}),lp=vt(Al),XA=pe({},Al,{dataTransfer:0}),YA=vt(XA),qA=pe({},ia,{relatedTarget:0}),fu=vt(qA),JA=pe({},Si,{animationName:0,elapsedTime:0,pseudoElement:0}),ZA=vt(JA),e1=pe({},Si,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),t1=vt(e1),n1=pe({},Si,{data:0}),up=vt(n1),r1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},i1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},s1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function a1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=s1[e])?!!t[e]:!1}function nd(){return a1}var o1=pe({},ia,{key:function(e){if(e.key){var t=r1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=po(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?i1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nd,charCode:function(e){return e.type==="keypress"?po(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?po(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),l1=vt(o1),u1=pe({},Al,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cp=vt(u1),c1=pe({},ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nd}),f1=vt(c1),d1=pe({},Si,{propertyName:0,elapsedTime:0,pseudoElement:0}),h1=vt(d1),p1=pe({},Al,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),m1=vt(p1),g1=[9,13,27,32],rd=mn&&"CompositionEvent"in window,hs=null;mn&&"documentMode"in document&&(hs=document.documentMode);var y1=mn&&"TextEvent"in window&&!hs,sy=mn&&(!rd||hs&&8<hs&&11>=hs),fp=" ",dp=!1;function ay(e,t){switch(e){case"keyup":return g1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hr=!1;function v1(e,t){switch(e){case"compositionend":return oy(t);case"keypress":return t.which!==32?null:(dp=!0,fp);case"textInput":return e=t.data,e===fp&&dp?null:e;default:return null}}function w1(e,t){if(Hr)return e==="compositionend"||!rd&&ay(e,t)?(e=iy(),ho=ed=Ln=null,Hr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return sy&&t.locale!=="ko"?null:t.data;default:return null}}var A1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!A1[e.type]:t==="textarea"}function ly(e,t,n,r){jg(r),t=Qo(t,"onChange"),0<t.length&&(n=new td("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ps=null,Os=null;function _1(e){wy(e,0)}function _l(e){var t=Xr(e);if(Tg(t))return e}function x1(e,t){if(e==="change")return t}var uy=!1;if(mn){var du;if(mn){var hu="oninput"in document;if(!hu){var pp=document.createElement("div");pp.setAttribute("oninput","return;"),hu=typeof pp.oninput=="function"}du=hu}else du=!1;uy=du&&(!document.documentMode||9<document.documentMode)}function mp(){ps&&(ps.detachEvent("onpropertychange",cy),Os=ps=null)}function cy(e){if(e.propertyName==="value"&&_l(Os)){var t=[];ly(t,Os,e,Xf(e)),zg(_1,t)}}function E1(e,t,n){e==="focusin"?(mp(),ps=t,Os=n,ps.attachEvent("onpropertychange",cy)):e==="focusout"&&mp()}function S1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _l(Os)}function C1(e,t){if(e==="click")return _l(t)}function I1(e,t){if(e==="input"||e==="change")return _l(t)}function b1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ft=typeof Object.is=="function"?Object.is:b1;function Ls(e,t){if(Ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!rc.call(t,i)||!Ft(e[i],t[i]))return!1}return!0}function gp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yp(e,t){var n=gp(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gp(n)}}function fy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function dy(){for(var e=window,t=$o();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=$o(e.document)}return t}function id(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function k1(e){var t=dy(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fy(n.ownerDocument.documentElement,n)){if(r!==null&&id(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=yp(n,s);var a=yp(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var R1=mn&&"documentMode"in document&&11>=document.documentMode,Vr=null,xc=null,ms=null,Ec=!1;function vp(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ec||Vr==null||Vr!==$o(r)||(r=Vr,"selectionStart"in r&&id(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ms&&Ls(ms,r)||(ms=r,r=Qo(xc,"onSelect"),0<r.length&&(t=new td("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Vr)))}function Pa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Kr={animationend:Pa("Animation","AnimationEnd"),animationiteration:Pa("Animation","AnimationIteration"),animationstart:Pa("Animation","AnimationStart"),transitionend:Pa("Transition","TransitionEnd")},pu={},hy={};mn&&(hy=document.createElement("div").style,"AnimationEvent"in window||(delete Kr.animationend.animation,delete Kr.animationiteration.animation,delete Kr.animationstart.animation),"TransitionEvent"in window||delete Kr.transitionend.transition);function xl(e){if(pu[e])return pu[e];if(!Kr[e])return e;var t=Kr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in hy)return pu[e]=t[n];return e}var py=xl("animationend"),my=xl("animationiteration"),gy=xl("animationstart"),yy=xl("transitionend"),vy=new Map,wp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qn(e,t){vy.set(e,t),Rr(t,[e])}for(var mu=0;mu<wp.length;mu++){var gu=wp[mu],P1=gu.toLowerCase(),B1=gu[0].toUpperCase()+gu.slice(1);qn(P1,"on"+B1)}qn(py,"onAnimationEnd");qn(my,"onAnimationIteration");qn(gy,"onAnimationStart");qn("dblclick","onDoubleClick");qn("focusin","onFocus");qn("focusout","onBlur");qn(yy,"onTransitionEnd");mi("onMouseEnter",["mouseout","mouseover"]);mi("onMouseLeave",["mouseout","mouseover"]);mi("onPointerEnter",["pointerout","pointerover"]);mi("onPointerLeave",["pointerout","pointerover"]);Rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ns="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T1=new Set("cancel close invalid load scroll toggle".split(" ").concat(ns));function Ap(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,PA(r,t,void 0,e),e.currentTarget=null}function wy(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Ap(i,o,c),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Ap(i,o,c),s=l}}}if(Do)throw e=vc,Do=!1,vc=null,e}function ae(e,t){var n=t[kc];n===void 0&&(n=t[kc]=new Set);var r=e+"__bubble";n.has(r)||(Ay(t,e,2,!1),n.add(r))}function yu(e,t,n){var r=0;t&&(r|=4),Ay(n,e,r,t)}var Ba="_reactListening"+Math.random().toString(36).slice(2);function $s(e){if(!e[Ba]){e[Ba]=!0,bg.forEach(function(n){n!=="selectionchange"&&(T1.has(n)||yu(n,!1,e),yu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ba]||(t[Ba]=!0,yu("selectionchange",!1,t))}}function Ay(e,t,n,r){switch(ry(t)){case 1:var i=HA;break;case 4:i=VA;break;default:i=Zf}n=i.bind(null,t,n,e),i=void 0,!yc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function vu(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=lr(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}zg(function(){var c=s,u=Xf(n),f=[];e:{var d=vy.get(e);if(d!==void 0){var p=td,y=e;switch(e){case"keypress":if(po(n)===0)break e;case"keydown":case"keyup":p=l1;break;case"focusin":y="focus",p=fu;break;case"focusout":y="blur",p=fu;break;case"beforeblur":case"afterblur":p=fu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=lp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=YA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=f1;break;case py:case my:case gy:p=ZA;break;case yy:p=h1;break;case"scroll":p=KA;break;case"wheel":p=m1;break;case"copy":case"cut":case"paste":p=t1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=cp}var m=(t&4)!==0,x=!m&&e==="scroll",g=m?d!==null?d+"Capture":null:d;m=[];for(var h=c,v;h!==null;){v=h;var E=v.stateNode;if(v.tag===5&&E!==null&&(v=E,g!==null&&(E=Rs(h,g),E!=null&&m.push(Ns(h,E,v)))),x)break;h=h.return}0<m.length&&(d=new p(d,y,null,n,u),f.push({event:d,listeners:m}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",d&&n!==mc&&(y=n.relatedTarget||n.fromElement)&&(lr(y)||y[gn]))break e;if((p||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=c,y=y?lr(y):null,y!==null&&(x=Pr(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=c),p!==y)){if(m=lp,E="onMouseLeave",g="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(m=cp,E="onPointerLeave",g="onPointerEnter",h="pointer"),x=p==null?d:Xr(p),v=y==null?d:Xr(y),d=new m(E,h+"leave",p,n,u),d.target=x,d.relatedTarget=v,E=null,lr(u)===c&&(m=new m(g,h+"enter",y,n,u),m.target=v,m.relatedTarget=x,E=m),x=E,p&&y)t:{for(m=p,g=y,h=0,v=m;v;v=Or(v))h++;for(v=0,E=g;E;E=Or(E))v++;for(;0<h-v;)m=Or(m),h--;for(;0<v-h;)g=Or(g),v--;for(;h--;){if(m===g||g!==null&&m===g.alternate)break t;m=Or(m),g=Or(g)}m=null}else m=null;p!==null&&_p(f,d,p,m,!1),y!==null&&x!==null&&_p(f,x,y,m,!0)}}e:{if(d=c?Xr(c):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var w=x1;else if(hp(d))if(uy)w=I1;else{w=S1;var A=E1}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(w=C1);if(w&&(w=w(e,c))){ly(f,w,n,u);break e}A&&A(e,d,c),e==="focusout"&&(A=d._wrapperState)&&A.controlled&&d.type==="number"&&cc(d,"number",d.value)}switch(A=c?Xr(c):window,e){case"focusin":(hp(A)||A.contentEditable==="true")&&(Vr=A,xc=c,ms=null);break;case"focusout":ms=xc=Vr=null;break;case"mousedown":Ec=!0;break;case"contextmenu":case"mouseup":case"dragend":Ec=!1,vp(f,n,u);break;case"selectionchange":if(R1)break;case"keydown":case"keyup":vp(f,n,u)}var _;if(rd)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Hr?ay(e,n)&&(S="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(sy&&n.locale!=="ko"&&(Hr||S!=="onCompositionStart"?S==="onCompositionEnd"&&Hr&&(_=iy()):(Ln=u,ed="value"in Ln?Ln.value:Ln.textContent,Hr=!0)),A=Qo(c,S),0<A.length&&(S=new up(S,e,null,n,u),f.push({event:S,listeners:A}),_?S.data=_:(_=oy(n),_!==null&&(S.data=_)))),(_=y1?v1(e,n):w1(e,n))&&(c=Qo(c,"onBeforeInput"),0<c.length&&(u=new up("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=_))}wy(f,t)})}function Ns(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qo(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Rs(e,n),s!=null&&r.unshift(Ns(e,s,i)),s=Rs(e,t),s!=null&&r.push(Ns(e,s,i))),e=e.return}return r}function Or(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function _p(e,t,n,r,i){for(var s=t._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=Rs(n,s),l!=null&&a.unshift(Ns(n,l,o))):i||(l=Rs(n,s),l!=null&&a.push(Ns(n,l,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var O1=/\r\n?/g,L1=/\u0000|\uFFFD/g;function xp(e){return(typeof e=="string"?e:""+e).replace(O1,`
`).replace(L1,"")}function Ta(e,t,n){if(t=xp(t),xp(e)!==t&&n)throw Error(U(425))}function zo(){}var Sc=null,Cc=null;function Ic(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bc=typeof setTimeout=="function"?setTimeout:void 0,$1=typeof clearTimeout=="function"?clearTimeout:void 0,Ep=typeof Promise=="function"?Promise:void 0,N1=typeof queueMicrotask=="function"?queueMicrotask:typeof Ep<"u"?function(e){return Ep.resolve(null).then(e).catch(D1)}:bc;function D1(e){setTimeout(function(){throw e})}function wu(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Ts(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ts(t)}function Mn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Sp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ci=Math.random().toString(36).slice(2),Kt="__reactFiber$"+Ci,Ds="__reactProps$"+Ci,gn="__reactContainer$"+Ci,kc="__reactEvents$"+Ci,F1="__reactListeners$"+Ci,j1="__reactHandles$"+Ci;function lr(e){var t=e[Kt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[gn]||n[Kt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Sp(e);e!==null;){if(n=e[Kt])return n;e=Sp(e)}return t}e=n,n=e.parentNode}return null}function sa(e){return e=e[Kt]||e[gn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Xr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function El(e){return e[Ds]||null}var Rc=[],Yr=-1;function Jn(e){return{current:e}}function le(e){0>Yr||(e.current=Rc[Yr],Rc[Yr]=null,Yr--)}function se(e,t){Yr++,Rc[Yr]=e.current,e.current=t}var Vn={},We=Jn(Vn),it=Jn(!1),wr=Vn;function gi(e,t){var n=e.type.contextTypes;if(!n)return Vn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function st(e){return e=e.childContextTypes,e!=null}function Go(){le(it),le(We)}function Cp(e,t,n){if(We.current!==Vn)throw Error(U(168));se(We,t),se(it,n)}function _y(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(U(108,EA(e)||"Unknown",i));return pe({},n,r)}function Wo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vn,wr=We.current,se(We,e),se(it,it.current),!0}function Ip(e,t,n){var r=e.stateNode;if(!r)throw Error(U(169));n?(e=_y(e,t,wr),r.__reactInternalMemoizedMergedChildContext=e,le(it),le(We),se(We,e)):le(it),se(it,n)}var an=null,Sl=!1,Au=!1;function xy(e){an===null?an=[e]:an.push(e)}function M1(e){Sl=!0,xy(e)}function Zn(){if(!Au&&an!==null){Au=!0;var e=0,t=te;try{var n=an;for(te=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}an=null,Sl=!1}catch(i){throw an!==null&&(an=an.slice(e+1)),Vg(Yf,Zn),i}finally{te=t,Au=!1}}return null}var qr=[],Jr=0,Ho=null,Vo=0,wt=[],At=0,Ar=null,un=1,cn="";function ir(e,t){qr[Jr++]=Vo,qr[Jr++]=Ho,Ho=e,Vo=t}function Ey(e,t,n){wt[At++]=un,wt[At++]=cn,wt[At++]=Ar,Ar=e;var r=un;e=cn;var i=32-$t(r)-1;r&=~(1<<i),n+=1;var s=32-$t(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,un=1<<32-$t(t)+i|n<<i|r,cn=s+e}else un=1<<s|n<<i|r,cn=e}function sd(e){e.return!==null&&(ir(e,1),Ey(e,1,0))}function ad(e){for(;e===Ho;)Ho=qr[--Jr],qr[Jr]=null,Vo=qr[--Jr],qr[Jr]=null;for(;e===Ar;)Ar=wt[--At],wt[At]=null,cn=wt[--At],wt[At]=null,un=wt[--At],wt[At]=null}var pt=null,ht=null,ce=!1,Ot=null;function Sy(e,t){var n=_t(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function bp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,pt=e,ht=Mn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,pt=e,ht=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ar!==null?{id:un,overflow:cn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=_t(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,pt=e,ht=null,!0):!1;default:return!1}}function Pc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Bc(e){if(ce){var t=ht;if(t){var n=t;if(!bp(e,t)){if(Pc(e))throw Error(U(418));t=Mn(n.nextSibling);var r=pt;t&&bp(e,t)?Sy(r,n):(e.flags=e.flags&-4097|2,ce=!1,pt=e)}}else{if(Pc(e))throw Error(U(418));e.flags=e.flags&-4097|2,ce=!1,pt=e}}}function kp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pt=e}function Oa(e){if(e!==pt)return!1;if(!ce)return kp(e),ce=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ic(e.type,e.memoizedProps)),t&&(t=ht)){if(Pc(e))throw Cy(),Error(U(418));for(;t;)Sy(e,t),t=Mn(t.nextSibling)}if(kp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ht=Mn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ht=null}}else ht=pt?Mn(e.stateNode.nextSibling):null;return!0}function Cy(){for(var e=ht;e;)e=Mn(e.nextSibling)}function yi(){ht=pt=null,ce=!1}function od(e){Ot===null?Ot=[e]:Ot.push(e)}var U1=An.ReactCurrentBatchConfig;function Wi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,e))}return e}function La(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Rp(e){var t=e._init;return t(e._payload)}function Iy(e){function t(g,h){if(e){var v=g.deletions;v===null?(g.deletions=[h],g.flags|=16):v.push(h)}}function n(g,h){if(!e)return null;for(;h!==null;)t(g,h),h=h.sibling;return null}function r(g,h){for(g=new Map;h!==null;)h.key!==null?g.set(h.key,h):g.set(h.index,h),h=h.sibling;return g}function i(g,h){return g=Gn(g,h),g.index=0,g.sibling=null,g}function s(g,h,v){return g.index=v,e?(v=g.alternate,v!==null?(v=v.index,v<h?(g.flags|=2,h):v):(g.flags|=2,h)):(g.flags|=1048576,h)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,h,v,E){return h===null||h.tag!==6?(h=bu(v,g.mode,E),h.return=g,h):(h=i(h,v),h.return=g,h)}function l(g,h,v,E){var w=v.type;return w===Wr?u(g,h,v.props.children,E,v.key):h!==null&&(h.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===bn&&Rp(w)===h.type)?(E=i(h,v.props),E.ref=Wi(g,h,v),E.return=g,E):(E=_o(v.type,v.key,v.props,null,g.mode,E),E.ref=Wi(g,h,v),E.return=g,E)}function c(g,h,v,E){return h===null||h.tag!==4||h.stateNode.containerInfo!==v.containerInfo||h.stateNode.implementation!==v.implementation?(h=ku(v,g.mode,E),h.return=g,h):(h=i(h,v.children||[]),h.return=g,h)}function u(g,h,v,E,w){return h===null||h.tag!==7?(h=pr(v,g.mode,E,w),h.return=g,h):(h=i(h,v),h.return=g,h)}function f(g,h,v){if(typeof h=="string"&&h!==""||typeof h=="number")return h=bu(""+h,g.mode,v),h.return=g,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Ea:return v=_o(h.type,h.key,h.props,null,g.mode,v),v.ref=Wi(g,null,h),v.return=g,v;case Gr:return h=ku(h,g.mode,v),h.return=g,h;case bn:var E=h._init;return f(g,E(h._payload),v)}if(es(h)||Mi(h))return h=pr(h,g.mode,v,null),h.return=g,h;La(g,h)}return null}function d(g,h,v,E){var w=h!==null?h.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return w!==null?null:o(g,h,""+v,E);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ea:return v.key===w?l(g,h,v,E):null;case Gr:return v.key===w?c(g,h,v,E):null;case bn:return w=v._init,d(g,h,w(v._payload),E)}if(es(v)||Mi(v))return w!==null?null:u(g,h,v,E,null);La(g,v)}return null}function p(g,h,v,E,w){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(v)||null,o(h,g,""+E,w);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ea:return g=g.get(E.key===null?v:E.key)||null,l(h,g,E,w);case Gr:return g=g.get(E.key===null?v:E.key)||null,c(h,g,E,w);case bn:var A=E._init;return p(g,h,v,A(E._payload),w)}if(es(E)||Mi(E))return g=g.get(v)||null,u(h,g,E,w,null);La(h,E)}return null}function y(g,h,v,E){for(var w=null,A=null,_=h,S=h=0,C=null;_!==null&&S<v.length;S++){_.index>S?(C=_,_=null):C=_.sibling;var I=d(g,_,v[S],E);if(I===null){_===null&&(_=C);break}e&&_&&I.alternate===null&&t(g,_),h=s(I,h,S),A===null?w=I:A.sibling=I,A=I,_=C}if(S===v.length)return n(g,_),ce&&ir(g,S),w;if(_===null){for(;S<v.length;S++)_=f(g,v[S],E),_!==null&&(h=s(_,h,S),A===null?w=_:A.sibling=_,A=_);return ce&&ir(g,S),w}for(_=r(g,_);S<v.length;S++)C=p(_,g,S,v[S],E),C!==null&&(e&&C.alternate!==null&&_.delete(C.key===null?S:C.key),h=s(C,h,S),A===null?w=C:A.sibling=C,A=C);return e&&_.forEach(function(P){return t(g,P)}),ce&&ir(g,S),w}function m(g,h,v,E){var w=Mi(v);if(typeof w!="function")throw Error(U(150));if(v=w.call(v),v==null)throw Error(U(151));for(var A=w=null,_=h,S=h=0,C=null,I=v.next();_!==null&&!I.done;S++,I=v.next()){_.index>S?(C=_,_=null):C=_.sibling;var P=d(g,_,I.value,E);if(P===null){_===null&&(_=C);break}e&&_&&P.alternate===null&&t(g,_),h=s(P,h,S),A===null?w=P:A.sibling=P,A=P,_=C}if(I.done)return n(g,_),ce&&ir(g,S),w;if(_===null){for(;!I.done;S++,I=v.next())I=f(g,I.value,E),I!==null&&(h=s(I,h,S),A===null?w=I:A.sibling=I,A=I);return ce&&ir(g,S),w}for(_=r(g,_);!I.done;S++,I=v.next())I=p(_,g,S,I.value,E),I!==null&&(e&&I.alternate!==null&&_.delete(I.key===null?S:I.key),h=s(I,h,S),A===null?w=I:A.sibling=I,A=I);return e&&_.forEach(function(F){return t(g,F)}),ce&&ir(g,S),w}function x(g,h,v,E){if(typeof v=="object"&&v!==null&&v.type===Wr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Ea:e:{for(var w=v.key,A=h;A!==null;){if(A.key===w){if(w=v.type,w===Wr){if(A.tag===7){n(g,A.sibling),h=i(A,v.props.children),h.return=g,g=h;break e}}else if(A.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===bn&&Rp(w)===A.type){n(g,A.sibling),h=i(A,v.props),h.ref=Wi(g,A,v),h.return=g,g=h;break e}n(g,A);break}else t(g,A);A=A.sibling}v.type===Wr?(h=pr(v.props.children,g.mode,E,v.key),h.return=g,g=h):(E=_o(v.type,v.key,v.props,null,g.mode,E),E.ref=Wi(g,h,v),E.return=g,g=E)}return a(g);case Gr:e:{for(A=v.key;h!==null;){if(h.key===A)if(h.tag===4&&h.stateNode.containerInfo===v.containerInfo&&h.stateNode.implementation===v.implementation){n(g,h.sibling),h=i(h,v.children||[]),h.return=g,g=h;break e}else{n(g,h);break}else t(g,h);h=h.sibling}h=ku(v,g.mode,E),h.return=g,g=h}return a(g);case bn:return A=v._init,x(g,h,A(v._payload),E)}if(es(v))return y(g,h,v,E);if(Mi(v))return m(g,h,v,E);La(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,h!==null&&h.tag===6?(n(g,h.sibling),h=i(h,v),h.return=g,g=h):(n(g,h),h=bu(v,g.mode,E),h.return=g,g=h),a(g)):n(g,h)}return x}var vi=Iy(!0),by=Iy(!1),Ko=Jn(null),Xo=null,Zr=null,ld=null;function ud(){ld=Zr=Xo=null}function cd(e){var t=Ko.current;le(Ko),e._currentValue=t}function Tc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function oi(e,t){Xo=e,ld=Zr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(rt=!0),e.firstContext=null)}function St(e){var t=e._currentValue;if(ld!==e)if(e={context:e,memoizedValue:t,next:null},Zr===null){if(Xo===null)throw Error(U(308));Zr=e,Xo.dependencies={lanes:0,firstContext:e}}else Zr=Zr.next=e;return t}var ur=null;function fd(e){ur===null?ur=[e]:ur.push(e)}function ky(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,fd(t)):(n.next=i.next,i.next=n),t.interleaved=n,yn(e,r)}function yn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var kn=!1;function dd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ry(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function dn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Un(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ee&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,yn(e,n)}return i=r.interleaved,i===null?(t.next=t,fd(r)):(t.next=i.next,i.next=t),r.interleaved=t,yn(e,n)}function mo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,qf(e,n)}}function Pp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Yo(e,t,n,r){var i=e.updateQueue;kn=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;a=0,u=c=l=null,o=s;do{var d=o.lane,p=o.eventTime;if((r&d)===d){u!==null&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=e,m=o;switch(d=t,p=n,m.tag){case 1:if(y=m.payload,typeof y=="function"){f=y.call(p,f,d);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=m.payload,d=typeof y=="function"?y.call(p,f,d):y,d==null)break e;f=pe({},f,d);break e;case 2:kn=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[o]:d.push(o))}else p={eventTime:p,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,a|=d;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;d=o,o=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);xr|=a,e.lanes=a,e.memoizedState=f}}function Bp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(U(191,i));i.call(r)}}}var aa={},Jt=Jn(aa),Fs=Jn(aa),js=Jn(aa);function cr(e){if(e===aa)throw Error(U(174));return e}function hd(e,t){switch(se(js,t),se(Fs,e),se(Jt,aa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:dc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=dc(t,e)}le(Jt),se(Jt,t)}function wi(){le(Jt),le(Fs),le(js)}function Py(e){cr(js.current);var t=cr(Jt.current),n=dc(t,e.type);t!==n&&(se(Fs,e),se(Jt,n))}function pd(e){Fs.current===e&&(le(Jt),le(Fs))}var de=Jn(0);function qo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var _u=[];function md(){for(var e=0;e<_u.length;e++)_u[e]._workInProgressVersionPrimary=null;_u.length=0}var go=An.ReactCurrentDispatcher,xu=An.ReactCurrentBatchConfig,_r=0,he=null,Ie=null,Be=null,Jo=!1,gs=!1,Ms=0,Q1=0;function je(){throw Error(U(321))}function gd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ft(e[n],t[n]))return!1;return!0}function yd(e,t,n,r,i,s){if(_r=s,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,go.current=e===null||e.memoizedState===null?H1:V1,e=n(r,i),gs){s=0;do{if(gs=!1,Ms=0,25<=s)throw Error(U(301));s+=1,Be=Ie=null,t.updateQueue=null,go.current=K1,e=n(r,i)}while(gs)}if(go.current=Zo,t=Ie!==null&&Ie.next!==null,_r=0,Be=Ie=he=null,Jo=!1,t)throw Error(U(300));return e}function vd(){var e=Ms!==0;return Ms=0,e}function Gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?he.memoizedState=Be=e:Be=Be.next=e,Be}function Ct(){if(Ie===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=Ie.next;var t=Be===null?he.memoizedState:Be.next;if(t!==null)Be=t,Ie=e;else{if(e===null)throw Error(U(310));Ie=e,e={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},Be===null?he.memoizedState=Be=e:Be=Be.next=e}return Be}function Us(e,t){return typeof t=="function"?t(e):t}function Eu(e){var t=Ct(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=Ie,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,c=s;do{var u=c.lane;if((_r&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,a=r):l=l.next=f,he.lanes|=u,xr|=u}c=c.next}while(c!==null&&c!==s);l===null?a=r:l.next=o,Ft(r,t.memoizedState)||(rt=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,he.lanes|=s,xr|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Su(e){var t=Ct(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);Ft(s,t.memoizedState)||(rt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function By(){}function Ty(e,t){var n=he,r=Ct(),i=t(),s=!Ft(r.memoizedState,i);if(s&&(r.memoizedState=i,rt=!0),r=r.queue,wd($y.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Be!==null&&Be.memoizedState.tag&1){if(n.flags|=2048,Qs(9,Ly.bind(null,n,r,i,t),void 0,null),Te===null)throw Error(U(349));_r&30||Oy(n,t,i)}return i}function Oy(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ly(e,t,n,r){t.value=n,t.getSnapshot=r,Ny(t)&&Dy(e)}function $y(e,t,n){return n(function(){Ny(t)&&Dy(e)})}function Ny(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ft(e,n)}catch{return!0}}function Dy(e){var t=yn(e,1);t!==null&&Nt(t,e,1,-1)}function Tp(e){var t=Gt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Us,lastRenderedState:e},t.queue=e,e=e.dispatch=W1.bind(null,he,e),[t.memoizedState,e]}function Qs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Fy(){return Ct().memoizedState}function yo(e,t,n,r){var i=Gt();he.flags|=e,i.memoizedState=Qs(1|t,n,void 0,r===void 0?null:r)}function Cl(e,t,n,r){var i=Ct();r=r===void 0?null:r;var s=void 0;if(Ie!==null){var a=Ie.memoizedState;if(s=a.destroy,r!==null&&gd(r,a.deps)){i.memoizedState=Qs(t,n,s,r);return}}he.flags|=e,i.memoizedState=Qs(1|t,n,s,r)}function Op(e,t){return yo(8390656,8,e,t)}function wd(e,t){return Cl(2048,8,e,t)}function jy(e,t){return Cl(4,2,e,t)}function My(e,t){return Cl(4,4,e,t)}function Uy(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Qy(e,t,n){return n=n!=null?n.concat([e]):null,Cl(4,4,Uy.bind(null,t,e),n)}function Ad(){}function zy(e,t){var n=Ct();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&gd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Gy(e,t){var n=Ct();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&gd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wy(e,t,n){return _r&21?(Ft(n,t)||(n=Yg(),he.lanes|=n,xr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,rt=!0),e.memoizedState=n)}function z1(e,t){var n=te;te=n!==0&&4>n?n:4,e(!0);var r=xu.transition;xu.transition={};try{e(!1),t()}finally{te=n,xu.transition=r}}function Hy(){return Ct().memoizedState}function G1(e,t,n){var r=zn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Vy(e))Ky(t,n);else if(n=ky(e,t,n,r),n!==null){var i=Ye();Nt(n,e,r,i),Xy(n,t,r)}}function W1(e,t,n){var r=zn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vy(e))Ky(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Ft(o,a)){var l=t.interleaved;l===null?(i.next=i,fd(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=ky(e,t,i,r),n!==null&&(i=Ye(),Nt(n,e,r,i),Xy(n,t,r))}}function Vy(e){var t=e.alternate;return e===he||t!==null&&t===he}function Ky(e,t){gs=Jo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xy(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,qf(e,n)}}var Zo={readContext:St,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useInsertionEffect:je,useLayoutEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useMutableSource:je,useSyncExternalStore:je,useId:je,unstable_isNewReconciler:!1},H1={readContext:St,useCallback:function(e,t){return Gt().memoizedState=[e,t===void 0?null:t],e},useContext:St,useEffect:Op,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,yo(4194308,4,Uy.bind(null,t,e),n)},useLayoutEffect:function(e,t){return yo(4194308,4,e,t)},useInsertionEffect:function(e,t){return yo(4,2,e,t)},useMemo:function(e,t){var n=Gt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Gt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=G1.bind(null,he,e),[r.memoizedState,e]},useRef:function(e){var t=Gt();return e={current:e},t.memoizedState=e},useState:Tp,useDebugValue:Ad,useDeferredValue:function(e){return Gt().memoizedState=e},useTransition:function(){var e=Tp(!1),t=e[0];return e=z1.bind(null,e[1]),Gt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=he,i=Gt();if(ce){if(n===void 0)throw Error(U(407));n=n()}else{if(n=t(),Te===null)throw Error(U(349));_r&30||Oy(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Op($y.bind(null,r,s,e),[e]),r.flags|=2048,Qs(9,Ly.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Gt(),t=Te.identifierPrefix;if(ce){var n=cn,r=un;n=(r&~(1<<32-$t(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ms++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Q1++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},V1={readContext:St,useCallback:zy,useContext:St,useEffect:wd,useImperativeHandle:Qy,useInsertionEffect:jy,useLayoutEffect:My,useMemo:Gy,useReducer:Eu,useRef:Fy,useState:function(){return Eu(Us)},useDebugValue:Ad,useDeferredValue:function(e){var t=Ct();return Wy(t,Ie.memoizedState,e)},useTransition:function(){var e=Eu(Us)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:By,useSyncExternalStore:Ty,useId:Hy,unstable_isNewReconciler:!1},K1={readContext:St,useCallback:zy,useContext:St,useEffect:wd,useImperativeHandle:Qy,useInsertionEffect:jy,useLayoutEffect:My,useMemo:Gy,useReducer:Su,useRef:Fy,useState:function(){return Su(Us)},useDebugValue:Ad,useDeferredValue:function(e){var t=Ct();return Ie===null?t.memoizedState=e:Wy(t,Ie.memoizedState,e)},useTransition:function(){var e=Su(Us)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:By,useSyncExternalStore:Ty,useId:Hy,unstable_isNewReconciler:!1};function Pt(e,t){if(e&&e.defaultProps){t=pe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Oc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:pe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Il={isMounted:function(e){return(e=e._reactInternals)?Pr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ye(),i=zn(e),s=dn(r,i);s.payload=t,n!=null&&(s.callback=n),t=Un(e,s,i),t!==null&&(Nt(t,e,i,r),mo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ye(),i=zn(e),s=dn(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Un(e,s,i),t!==null&&(Nt(t,e,i,r),mo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ye(),r=zn(e),i=dn(n,r);i.tag=2,t!=null&&(i.callback=t),t=Un(e,i,r),t!==null&&(Nt(t,e,r,n),mo(t,e,r))}};function Lp(e,t,n,r,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!Ls(n,r)||!Ls(i,s):!0}function Yy(e,t,n){var r=!1,i=Vn,s=t.contextType;return typeof s=="object"&&s!==null?s=St(s):(i=st(t)?wr:We.current,r=t.contextTypes,s=(r=r!=null)?gi(e,i):Vn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Il,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function $p(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Il.enqueueReplaceState(t,t.state,null)}function Lc(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},dd(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=St(s):(s=st(t)?wr:We.current,i.context=gi(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Oc(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Il.enqueueReplaceState(i,i.state,null),Yo(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ai(e,t){try{var n="",r=t;do n+=xA(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Cu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function $c(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var X1=typeof WeakMap=="function"?WeakMap:Map;function qy(e,t,n){n=dn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){tl||(tl=!0,Wc=r),$c(e,t)},n}function Jy(e,t,n){n=dn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){$c(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){$c(e,t),typeof r!="function"&&(Qn===null?Qn=new Set([this]):Qn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Np(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new X1;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=u_.bind(null,e,t,n),t.then(e,e))}function Dp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Fp(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=dn(-1,1),t.tag=2,Un(n,t,1))),n.lanes|=1),e)}var Y1=An.ReactCurrentOwner,rt=!1;function Ke(e,t,n,r){t.child=e===null?by(t,null,n,r):vi(t,e.child,n,r)}function jp(e,t,n,r,i){n=n.render;var s=t.ref;return oi(t,i),r=yd(e,t,n,r,s,i),n=vd(),e!==null&&!rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,vn(e,t,i)):(ce&&n&&sd(t),t.flags|=1,Ke(e,t,r,i),t.child)}function Mp(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!kd(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Zy(e,t,s,r,i)):(e=_o(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ls,n(a,r)&&e.ref===t.ref)return vn(e,t,i)}return t.flags|=1,e=Gn(s,r),e.ref=t.ref,e.return=t,t.child=e}function Zy(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Ls(s,r)&&e.ref===t.ref)if(rt=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(rt=!0);else return t.lanes=e.lanes,vn(e,t,i)}return Nc(e,t,n,r,i)}function e0(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},se(ti,dt),dt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,se(ti,dt),dt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,se(ti,dt),dt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,se(ti,dt),dt|=r;return Ke(e,t,i,n),t.child}function t0(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Nc(e,t,n,r,i){var s=st(n)?wr:We.current;return s=gi(t,s),oi(t,i),n=yd(e,t,n,r,s,i),r=vd(),e!==null&&!rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,vn(e,t,i)):(ce&&r&&sd(t),t.flags|=1,Ke(e,t,n,i),t.child)}function Up(e,t,n,r,i){if(st(n)){var s=!0;Wo(t)}else s=!1;if(oi(t,i),t.stateNode===null)vo(e,t),Yy(t,n,r),Lc(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=St(c):(c=st(n)?wr:We.current,c=gi(t,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==c)&&$p(t,a,r,c),kn=!1;var d=t.memoizedState;a.state=d,Yo(t,r,a,i),l=t.memoizedState,o!==r||d!==l||it.current||kn?(typeof u=="function"&&(Oc(t,n,u,r),l=t.memoizedState),(o=kn||Lp(t,n,o,r,d,l,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ry(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Pt(t.type,o),a.props=c,f=t.pendingProps,d=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=St(l):(l=st(n)?wr:We.current,l=gi(t,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||d!==l)&&$p(t,a,r,l),kn=!1,d=t.memoizedState,a.state=d,Yo(t,r,a,i);var y=t.memoizedState;o!==f||d!==y||it.current||kn?(typeof p=="function"&&(Oc(t,n,p,r),y=t.memoizedState),(c=kn||Lp(t,n,c,r,d,y,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,y,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,y,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),a.props=r,a.state=y,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Dc(e,t,n,r,s,i)}function Dc(e,t,n,r,i,s){t0(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&Ip(t,n,!1),vn(e,t,s);r=t.stateNode,Y1.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=vi(t,e.child,null,s),t.child=vi(t,null,o,s)):Ke(e,t,o,s),t.memoizedState=r.state,i&&Ip(t,n,!0),t.child}function n0(e){var t=e.stateNode;t.pendingContext?Cp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Cp(e,t.context,!1),hd(e,t.containerInfo)}function Qp(e,t,n,r,i){return yi(),od(i),t.flags|=256,Ke(e,t,n,r),t.child}var Fc={dehydrated:null,treeContext:null,retryLane:0};function jc(e){return{baseLanes:e,cachePool:null,transitions:null}}function r0(e,t,n){var r=t.pendingProps,i=de.current,s=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),se(de,i&1),e===null)return Bc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Rl(a,r,0,null),e=pr(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=jc(n),t.memoizedState=Fc,e):_d(t,a));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return q1(e,t,a,r,o,i,n);if(s){s=r.fallback,a=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Gn(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Gn(o,s):(s=pr(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?jc(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=Fc,r}return s=e.child,e=s.sibling,r=Gn(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function _d(e,t){return t=Rl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function $a(e,t,n,r){return r!==null&&od(r),vi(t,e.child,null,n),e=_d(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function q1(e,t,n,r,i,s,a){if(n)return t.flags&256?(t.flags&=-257,r=Cu(Error(U(422))),$a(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Rl({mode:"visible",children:r.children},i,0,null),s=pr(s,i,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&vi(t,e.child,null,a),t.child.memoizedState=jc(a),t.memoizedState=Fc,s);if(!(t.mode&1))return $a(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(U(419)),r=Cu(s,r,void 0),$a(e,t,a,r)}if(o=(a&e.childLanes)!==0,rt||o){if(r=Te,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,yn(e,i),Nt(r,e,i,-1))}return bd(),r=Cu(Error(U(421))),$a(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=c_.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ht=Mn(i.nextSibling),pt=t,ce=!0,Ot=null,e!==null&&(wt[At++]=un,wt[At++]=cn,wt[At++]=Ar,un=e.id,cn=e.overflow,Ar=t),t=_d(t,r.children),t.flags|=4096,t)}function zp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Tc(e.return,t,n)}function Iu(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function i0(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Ke(e,t,r.children,n),r=de.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zp(e,n,t);else if(e.tag===19)zp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(se(de,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&qo(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Iu(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&qo(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Iu(t,!0,n,null,s);break;case"together":Iu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function vo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),xr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,n=Gn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Gn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function J1(e,t,n){switch(t.tag){case 3:n0(t),yi();break;case 5:Py(t);break;case 1:st(t.type)&&Wo(t);break;case 4:hd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;se(Ko,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(se(de,de.current&1),t.flags|=128,null):n&t.child.childLanes?r0(e,t,n):(se(de,de.current&1),e=vn(e,t,n),e!==null?e.sibling:null);se(de,de.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return i0(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),se(de,de.current),r)break;return null;case 22:case 23:return t.lanes=0,e0(e,t,n)}return vn(e,t,n)}var s0,Mc,a0,o0;s0=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Mc=function(){};a0=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,cr(Jt.current);var s=null;switch(n){case"input":i=lc(e,i),r=lc(e,r),s=[];break;case"select":i=pe({},i,{value:void 0}),r=pe({},r,{value:void 0}),s=[];break;case"textarea":i=fc(e,i),r=fc(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=zo)}hc(n,r);var a;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(bs.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(bs.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ae("scroll",e),s||o===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};o0=function(e,t,n,r){n!==r&&(t.flags|=4)};function Hi(e,t){if(!ce)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Me(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Z1(e,t,n){var r=t.pendingProps;switch(ad(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(t),null;case 1:return st(t.type)&&Go(),Me(t),null;case 3:return r=t.stateNode,wi(),le(it),le(We),md(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Oa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ot!==null&&(Kc(Ot),Ot=null))),Mc(e,t),Me(t),null;case 5:pd(t);var i=cr(js.current);if(n=t.type,e!==null&&t.stateNode!=null)a0(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(U(166));return Me(t),null}if(e=cr(Jt.current),Oa(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Kt]=t,r[Ds]=s,e=(t.mode&1)!==0,n){case"dialog":ae("cancel",r),ae("close",r);break;case"iframe":case"object":case"embed":ae("load",r);break;case"video":case"audio":for(i=0;i<ns.length;i++)ae(ns[i],r);break;case"source":ae("error",r);break;case"img":case"image":case"link":ae("error",r),ae("load",r);break;case"details":ae("toggle",r);break;case"input":Jh(r,s),ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ae("invalid",r);break;case"textarea":ep(r,s),ae("invalid",r)}hc(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&Ta(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Ta(r.textContent,o,e),i=["children",""+o]):bs.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&ae("scroll",r)}switch(n){case"input":Sa(r),Zh(r,s,!0);break;case"textarea":Sa(r),tp(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=zo)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=$g(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Kt]=t,e[Ds]=r,s0(e,t,!1,!1),t.stateNode=e;e:{switch(a=pc(n,r),n){case"dialog":ae("cancel",e),ae("close",e),i=r;break;case"iframe":case"object":case"embed":ae("load",e),i=r;break;case"video":case"audio":for(i=0;i<ns.length;i++)ae(ns[i],e);i=r;break;case"source":ae("error",e),i=r;break;case"img":case"image":case"link":ae("error",e),ae("load",e),i=r;break;case"details":ae("toggle",e),i=r;break;case"input":Jh(e,r),i=lc(e,r),ae("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=pe({},r,{value:void 0}),ae("invalid",e);break;case"textarea":ep(e,r),i=fc(e,r),ae("invalid",e);break;default:i=r}hc(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?Fg(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ng(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ks(e,l):typeof l=="number"&&ks(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(bs.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ae("scroll",e):l!=null&&Wf(e,s,l,a))}switch(n){case"input":Sa(e),Zh(e,r,!1);break;case"textarea":Sa(e),tp(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Hn(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?ri(e,!!r.multiple,s,!1):r.defaultValue!=null&&ri(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=zo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Me(t),null;case 6:if(e&&t.stateNode!=null)o0(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(U(166));if(n=cr(js.current),cr(Jt.current),Oa(t)){if(r=t.stateNode,n=t.memoizedProps,r[Kt]=t,(s=r.nodeValue!==n)&&(e=pt,e!==null))switch(e.tag){case 3:Ta(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ta(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Kt]=t,t.stateNode=r}return Me(t),null;case 13:if(le(de),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ce&&ht!==null&&t.mode&1&&!(t.flags&128))Cy(),yi(),t.flags|=98560,s=!1;else if(s=Oa(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(U(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[Kt]=t}else yi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Me(t),s=!1}else Ot!==null&&(Kc(Ot),Ot=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||de.current&1?be===0&&(be=3):bd())),t.updateQueue!==null&&(t.flags|=4),Me(t),null);case 4:return wi(),Mc(e,t),e===null&&$s(t.stateNode.containerInfo),Me(t),null;case 10:return cd(t.type._context),Me(t),null;case 17:return st(t.type)&&Go(),Me(t),null;case 19:if(le(de),s=t.memoizedState,s===null)return Me(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)Hi(s,!1);else{if(be!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=qo(e),a!==null){for(t.flags|=128,Hi(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return se(de,de.current&1|2),t.child}e=e.sibling}s.tail!==null&&we()>_i&&(t.flags|=128,r=!0,Hi(s,!1),t.lanes=4194304)}else{if(!r)if(e=qo(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Hi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!ce)return Me(t),null}else 2*we()-s.renderingStartTime>_i&&n!==1073741824&&(t.flags|=128,r=!0,Hi(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=we(),t.sibling=null,n=de.current,se(de,r?n&1|2:n&1),t):(Me(t),null);case 22:case 23:return Id(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?dt&1073741824&&(Me(t),t.subtreeFlags&6&&(t.flags|=8192)):Me(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function e_(e,t){switch(ad(t),t.tag){case 1:return st(t.type)&&Go(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wi(),le(it),le(We),md(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return pd(t),null;case 13:if(le(de),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));yi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return le(de),null;case 4:return wi(),null;case 10:return cd(t.type._context),null;case 22:case 23:return Id(),null;case 24:return null;default:return null}}var Na=!1,Qe=!1,t_=typeof WeakSet=="function"?WeakSet:Set,G=null;function ei(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ye(e,t,r)}else n.current=null}function Uc(e,t,n){try{n()}catch(r){ye(e,t,r)}}var Gp=!1;function n_(e,t){if(Sc=Mo,e=dy(),id(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,c=0,u=0,f=e,d=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(o=a+i),f!==s||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++c===i&&(o=a),d===s&&++u===r&&(l=a),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Cc={focusedElem:e,selectionRange:n},Mo=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var m=y.memoizedProps,x=y.memoizedState,g=t.stateNode,h=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:Pt(t.type,m),x);g.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(E){ye(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return y=Gp,Gp=!1,y}function ys(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Uc(t,n,s)}i=i.next}while(i!==r)}}function bl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Qc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function l0(e){var t=e.alternate;t!==null&&(e.alternate=null,l0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Kt],delete t[Ds],delete t[kc],delete t[F1],delete t[j1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function u0(e){return e.tag===5||e.tag===3||e.tag===4}function Wp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||u0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=zo));else if(r!==4&&(e=e.child,e!==null))for(zc(e,t,n),e=e.sibling;e!==null;)zc(e,t,n),e=e.sibling}function Gc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Gc(e,t,n),e=e.sibling;e!==null;)Gc(e,t,n),e=e.sibling}var Le=null,Tt=!1;function xn(e,t,n){for(n=n.child;n!==null;)c0(e,t,n),n=n.sibling}function c0(e,t,n){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(wl,n)}catch{}switch(n.tag){case 5:Qe||ei(n,t);case 6:var r=Le,i=Tt;Le=null,xn(e,t,n),Le=r,Tt=i,Le!==null&&(Tt?(e=Le,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Le.removeChild(n.stateNode));break;case 18:Le!==null&&(Tt?(e=Le,n=n.stateNode,e.nodeType===8?wu(e.parentNode,n):e.nodeType===1&&wu(e,n),Ts(e)):wu(Le,n.stateNode));break;case 4:r=Le,i=Tt,Le=n.stateNode.containerInfo,Tt=!0,xn(e,t,n),Le=r,Tt=i;break;case 0:case 11:case 14:case 15:if(!Qe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Uc(n,t,a),i=i.next}while(i!==r)}xn(e,t,n);break;case 1:if(!Qe&&(ei(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){ye(n,t,o)}xn(e,t,n);break;case 21:xn(e,t,n);break;case 22:n.mode&1?(Qe=(r=Qe)||n.memoizedState!==null,xn(e,t,n),Qe=r):xn(e,t,n);break;default:xn(e,t,n)}}function Hp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new t_),t.forEach(function(r){var i=f_.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function It(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Le=o.stateNode,Tt=!1;break e;case 3:Le=o.stateNode.containerInfo,Tt=!0;break e;case 4:Le=o.stateNode.containerInfo,Tt=!0;break e}o=o.return}if(Le===null)throw Error(U(160));c0(s,a,i),Le=null,Tt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){ye(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)f0(t,e),t=t.sibling}function f0(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(It(t,e),Ut(e),r&4){try{ys(3,e,e.return),bl(3,e)}catch(m){ye(e,e.return,m)}try{ys(5,e,e.return)}catch(m){ye(e,e.return,m)}}break;case 1:It(t,e),Ut(e),r&512&&n!==null&&ei(n,n.return);break;case 5:if(It(t,e),Ut(e),r&512&&n!==null&&ei(n,n.return),e.flags&32){var i=e.stateNode;try{ks(i,"")}catch(m){ye(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&Og(i,s),pc(o,a);var c=pc(o,s);for(a=0;a<l.length;a+=2){var u=l[a],f=l[a+1];u==="style"?Fg(i,f):u==="dangerouslySetInnerHTML"?Ng(i,f):u==="children"?ks(i,f):Wf(i,u,f,c)}switch(o){case"input":uc(i,s);break;case"textarea":Lg(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?ri(i,!!s.multiple,p,!1):d!==!!s.multiple&&(s.defaultValue!=null?ri(i,!!s.multiple,s.defaultValue,!0):ri(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ds]=s}catch(m){ye(e,e.return,m)}}break;case 6:if(It(t,e),Ut(e),r&4){if(e.stateNode===null)throw Error(U(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){ye(e,e.return,m)}}break;case 3:if(It(t,e),Ut(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ts(t.containerInfo)}catch(m){ye(e,e.return,m)}break;case 4:It(t,e),Ut(e);break;case 13:It(t,e),Ut(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Sd=we())),r&4&&Hp(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Qe=(c=Qe)||u,It(t,e),Qe=c):It(t,e),Ut(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(G=e,u=e.child;u!==null;){for(f=G=u;G!==null;){switch(d=G,p=d.child,d.tag){case 0:case 11:case 14:case 15:ys(4,d,d.return);break;case 1:ei(d,d.return);var y=d.stateNode;if(typeof y.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(m){ye(r,n,m)}}break;case 5:ei(d,d.return);break;case 22:if(d.memoizedState!==null){Kp(f);continue}}p!==null?(p.return=d,G=p):Kp(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Dg("display",a))}catch(m){ye(e,e.return,m)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){ye(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:It(t,e),Ut(e),r&4&&Hp(e);break;case 21:break;default:It(t,e),Ut(e)}}function Ut(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(u0(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ks(i,""),r.flags&=-33);var s=Wp(e);Gc(e,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=Wp(e);zc(e,o,a);break;default:throw Error(U(161))}}catch(l){ye(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function r_(e,t,n){G=e,d0(e)}function d0(e,t,n){for(var r=(e.mode&1)!==0;G!==null;){var i=G,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Na;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Qe;o=Na;var c=Qe;if(Na=a,(Qe=l)&&!c)for(G=i;G!==null;)a=G,l=a.child,a.tag===22&&a.memoizedState!==null?Xp(i):l!==null?(l.return=a,G=l):Xp(i);for(;s!==null;)G=s,d0(s),s=s.sibling;G=i,Na=o,Qe=c}Vp(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,G=s):Vp(e)}}function Vp(e){for(;G!==null;){var t=G;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qe||bl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Qe)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Pt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Bp(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Bp(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Ts(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Qe||t.flags&512&&Qc(t)}catch(d){ye(t,t.return,d)}}if(t===e){G=null;break}if(n=t.sibling,n!==null){n.return=t.return,G=n;break}G=t.return}}function Kp(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var n=t.sibling;if(n!==null){n.return=t.return,G=n;break}G=t.return}}function Xp(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{bl(4,t)}catch(l){ye(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){ye(t,i,l)}}var s=t.return;try{Qc(t)}catch(l){ye(t,s,l)}break;case 5:var a=t.return;try{Qc(t)}catch(l){ye(t,a,l)}}}catch(l){ye(t,t.return,l)}if(t===e){G=null;break}var o=t.sibling;if(o!==null){o.return=t.return,G=o;break}G=t.return}}var i_=Math.ceil,el=An.ReactCurrentDispatcher,xd=An.ReactCurrentOwner,Et=An.ReactCurrentBatchConfig,ee=0,Te=null,Ae=null,Ne=0,dt=0,ti=Jn(0),be=0,zs=null,xr=0,kl=0,Ed=0,vs=null,nt=null,Sd=0,_i=1/0,sn=null,tl=!1,Wc=null,Qn=null,Da=!1,$n=null,nl=0,ws=0,Hc=null,wo=-1,Ao=0;function Ye(){return ee&6?we():wo!==-1?wo:wo=we()}function zn(e){return e.mode&1?ee&2&&Ne!==0?Ne&-Ne:U1.transition!==null?(Ao===0&&(Ao=Yg()),Ao):(e=te,e!==0||(e=window.event,e=e===void 0?16:ry(e.type)),e):1}function Nt(e,t,n,r){if(50<ws)throw ws=0,Hc=null,Error(U(185));ra(e,n,r),(!(ee&2)||e!==Te)&&(e===Te&&(!(ee&2)&&(kl|=n),be===4&&Tn(e,Ne)),at(e,r),n===1&&ee===0&&!(t.mode&1)&&(_i=we()+500,Sl&&Zn()))}function at(e,t){var n=e.callbackNode;UA(e,t);var r=jo(e,e===Te?Ne:0);if(r===0)n!==null&&ip(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ip(n),t===1)e.tag===0?M1(Yp.bind(null,e)):xy(Yp.bind(null,e)),N1(function(){!(ee&6)&&Zn()}),n=null;else{switch(qg(r)){case 1:n=Yf;break;case 4:n=Kg;break;case 16:n=Fo;break;case 536870912:n=Xg;break;default:n=Fo}n=A0(n,h0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function h0(e,t){if(wo=-1,Ao=0,ee&6)throw Error(U(327));var n=e.callbackNode;if(li()&&e.callbackNode!==n)return null;var r=jo(e,e===Te?Ne:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=rl(e,r);else{t=r;var i=ee;ee|=2;var s=m0();(Te!==e||Ne!==t)&&(sn=null,_i=we()+500,hr(e,t));do try{o_();break}catch(o){p0(e,o)}while(!0);ud(),el.current=s,ee=i,Ae!==null?t=0:(Te=null,Ne=0,t=be)}if(t!==0){if(t===2&&(i=wc(e),i!==0&&(r=i,t=Vc(e,i))),t===1)throw n=zs,hr(e,0),Tn(e,r),at(e,we()),n;if(t===6)Tn(e,r);else{if(i=e.current.alternate,!(r&30)&&!s_(i)&&(t=rl(e,r),t===2&&(s=wc(e),s!==0&&(r=s,t=Vc(e,s))),t===1))throw n=zs,hr(e,0),Tn(e,r),at(e,we()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(U(345));case 2:sr(e,nt,sn);break;case 3:if(Tn(e,r),(r&130023424)===r&&(t=Sd+500-we(),10<t)){if(jo(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ye(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=bc(sr.bind(null,e,nt,sn),t);break}sr(e,nt,sn);break;case 4:if(Tn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-$t(r);s=1<<a,a=t[a],a>i&&(i=a),r&=~s}if(r=i,r=we()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*i_(r/1960))-r,10<r){e.timeoutHandle=bc(sr.bind(null,e,nt,sn),r);break}sr(e,nt,sn);break;case 5:sr(e,nt,sn);break;default:throw Error(U(329))}}}return at(e,we()),e.callbackNode===n?h0.bind(null,e):null}function Vc(e,t){var n=vs;return e.current.memoizedState.isDehydrated&&(hr(e,t).flags|=256),e=rl(e,t),e!==2&&(t=nt,nt=n,t!==null&&Kc(t)),e}function Kc(e){nt===null?nt=e:nt.push.apply(nt,e)}function s_(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ft(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Tn(e,t){for(t&=~Ed,t&=~kl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-$t(t),r=1<<n;e[n]=-1,t&=~r}}function Yp(e){if(ee&6)throw Error(U(327));li();var t=jo(e,0);if(!(t&1))return at(e,we()),null;var n=rl(e,t);if(e.tag!==0&&n===2){var r=wc(e);r!==0&&(t=r,n=Vc(e,r))}if(n===1)throw n=zs,hr(e,0),Tn(e,t),at(e,we()),n;if(n===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,sr(e,nt,sn),at(e,we()),null}function Cd(e,t){var n=ee;ee|=1;try{return e(t)}finally{ee=n,ee===0&&(_i=we()+500,Sl&&Zn())}}function Er(e){$n!==null&&$n.tag===0&&!(ee&6)&&li();var t=ee;ee|=1;var n=Et.transition,r=te;try{if(Et.transition=null,te=1,e)return e()}finally{te=r,Et.transition=n,ee=t,!(ee&6)&&Zn()}}function Id(){dt=ti.current,le(ti)}function hr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,$1(n)),Ae!==null)for(n=Ae.return;n!==null;){var r=n;switch(ad(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Go();break;case 3:wi(),le(it),le(We),md();break;case 5:pd(r);break;case 4:wi();break;case 13:le(de);break;case 19:le(de);break;case 10:cd(r.type._context);break;case 22:case 23:Id()}n=n.return}if(Te=e,Ae=e=Gn(e.current,null),Ne=dt=t,be=0,zs=null,Ed=kl=xr=0,nt=vs=null,ur!==null){for(t=0;t<ur.length;t++)if(n=ur[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}ur=null}return e}function p0(e,t){do{var n=Ae;try{if(ud(),go.current=Zo,Jo){for(var r=he.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Jo=!1}if(_r=0,Be=Ie=he=null,gs=!1,Ms=0,xd.current=null,n===null||n.return===null){be=1,zs=t,Ae=null;break}e:{var s=e,a=n.return,o=n,l=t;if(t=Ne,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Dp(a);if(p!==null){p.flags&=-257,Fp(p,a,o,s,t),p.mode&1&&Np(s,c,t),t=p,l=c;var y=t.updateQueue;if(y===null){var m=new Set;m.add(l),t.updateQueue=m}else y.add(l);break e}else{if(!(t&1)){Np(s,c,t),bd();break e}l=Error(U(426))}}else if(ce&&o.mode&1){var x=Dp(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Fp(x,a,o,s,t),od(Ai(l,o));break e}}s=l=Ai(l,o),be!==4&&(be=2),vs===null?vs=[s]:vs.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=qy(s,l,t);Pp(s,g);break e;case 1:o=l;var h=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof h.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Qn===null||!Qn.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t;var E=Jy(s,o,t);Pp(s,E);break e}}s=s.return}while(s!==null)}y0(n)}catch(w){t=w,Ae===n&&n!==null&&(Ae=n=n.return);continue}break}while(!0)}function m0(){var e=el.current;return el.current=Zo,e===null?Zo:e}function bd(){(be===0||be===3||be===2)&&(be=4),Te===null||!(xr&268435455)&&!(kl&268435455)||Tn(Te,Ne)}function rl(e,t){var n=ee;ee|=2;var r=m0();(Te!==e||Ne!==t)&&(sn=null,hr(e,t));do try{a_();break}catch(i){p0(e,i)}while(!0);if(ud(),ee=n,el.current=r,Ae!==null)throw Error(U(261));return Te=null,Ne=0,be}function a_(){for(;Ae!==null;)g0(Ae)}function o_(){for(;Ae!==null&&!TA();)g0(Ae)}function g0(e){var t=w0(e.alternate,e,dt);e.memoizedProps=e.pendingProps,t===null?y0(e):Ae=t,xd.current=null}function y0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=e_(n,t),n!==null){n.flags&=32767,Ae=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{be=6,Ae=null;return}}else if(n=Z1(n,t,dt),n!==null){Ae=n;return}if(t=t.sibling,t!==null){Ae=t;return}Ae=t=e}while(t!==null);be===0&&(be=5)}function sr(e,t,n){var r=te,i=Et.transition;try{Et.transition=null,te=1,l_(e,t,n,r)}finally{Et.transition=i,te=r}return null}function l_(e,t,n,r){do li();while($n!==null);if(ee&6)throw Error(U(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(QA(e,s),e===Te&&(Ae=Te=null,Ne=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Da||(Da=!0,A0(Fo,function(){return li(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Et.transition,Et.transition=null;var a=te;te=1;var o=ee;ee|=4,xd.current=null,n_(e,n),f0(n,e),k1(Cc),Mo=!!Sc,Cc=Sc=null,e.current=n,r_(n),OA(),ee=o,te=a,Et.transition=s}else e.current=n;if(Da&&(Da=!1,$n=e,nl=i),s=e.pendingLanes,s===0&&(Qn=null),NA(n.stateNode),at(e,we()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(tl)throw tl=!1,e=Wc,Wc=null,e;return nl&1&&e.tag!==0&&li(),s=e.pendingLanes,s&1?e===Hc?ws++:(ws=0,Hc=e):ws=0,Zn(),null}function li(){if($n!==null){var e=qg(nl),t=Et.transition,n=te;try{if(Et.transition=null,te=16>e?16:e,$n===null)var r=!1;else{if(e=$n,$n=null,nl=0,ee&6)throw Error(U(331));var i=ee;for(ee|=4,G=e.current;G!==null;){var s=G,a=s.child;if(G.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(G=c;G!==null;){var u=G;switch(u.tag){case 0:case 11:case 15:ys(8,u,s)}var f=u.child;if(f!==null)f.return=u,G=f;else for(;G!==null;){u=G;var d=u.sibling,p=u.return;if(l0(u),u===c){G=null;break}if(d!==null){d.return=p,G=d;break}G=p}}}var y=s.alternate;if(y!==null){var m=y.child;if(m!==null){y.child=null;do{var x=m.sibling;m.sibling=null,m=x}while(m!==null)}}G=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,G=a;else e:for(;G!==null;){if(s=G,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ys(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,G=g;break e}G=s.return}}var h=e.current;for(G=h;G!==null;){a=G;var v=a.child;if(a.subtreeFlags&2064&&v!==null)v.return=a,G=v;else e:for(a=h;G!==null;){if(o=G,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:bl(9,o)}}catch(w){ye(o,o.return,w)}if(o===a){G=null;break e}var E=o.sibling;if(E!==null){E.return=o.return,G=E;break e}G=o.return}}if(ee=i,Zn(),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(wl,e)}catch{}r=!0}return r}finally{te=n,Et.transition=t}}return!1}function qp(e,t,n){t=Ai(n,t),t=qy(e,t,1),e=Un(e,t,1),t=Ye(),e!==null&&(ra(e,1,t),at(e,t))}function ye(e,t,n){if(e.tag===3)qp(e,e,n);else for(;t!==null;){if(t.tag===3){qp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qn===null||!Qn.has(r))){e=Ai(n,e),e=Jy(t,e,1),t=Un(t,e,1),e=Ye(),t!==null&&(ra(t,1,e),at(t,e));break}}t=t.return}}function u_(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ye(),e.pingedLanes|=e.suspendedLanes&n,Te===e&&(Ne&n)===n&&(be===4||be===3&&(Ne&130023424)===Ne&&500>we()-Sd?hr(e,0):Ed|=n),at(e,t)}function v0(e,t){t===0&&(e.mode&1?(t=ba,ba<<=1,!(ba&130023424)&&(ba=4194304)):t=1);var n=Ye();e=yn(e,t),e!==null&&(ra(e,t,n),at(e,n))}function c_(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),v0(e,n)}function f_(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(t),v0(e,n)}var w0;w0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||it.current)rt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return rt=!1,J1(e,t,n);rt=!!(e.flags&131072)}else rt=!1,ce&&t.flags&1048576&&Ey(t,Vo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;vo(e,t),e=t.pendingProps;var i=gi(t,We.current);oi(t,n),i=yd(null,t,r,e,i,n);var s=vd();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,st(r)?(s=!0,Wo(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,dd(t),i.updater=Il,t.stateNode=i,i._reactInternals=t,Lc(t,r,e,n),t=Dc(null,t,r,!0,s,n)):(t.tag=0,ce&&s&&sd(t),Ke(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(vo(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=h_(r),e=Pt(r,e),i){case 0:t=Nc(null,t,r,e,n);break e;case 1:t=Up(null,t,r,e,n);break e;case 11:t=jp(null,t,r,e,n);break e;case 14:t=Mp(null,t,r,Pt(r.type,e),n);break e}throw Error(U(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pt(r,i),Nc(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pt(r,i),Up(e,t,r,i,n);case 3:e:{if(n0(t),e===null)throw Error(U(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Ry(e,t),Yo(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Ai(Error(U(423)),t),t=Qp(e,t,r,n,i);break e}else if(r!==i){i=Ai(Error(U(424)),t),t=Qp(e,t,r,n,i);break e}else for(ht=Mn(t.stateNode.containerInfo.firstChild),pt=t,ce=!0,Ot=null,n=by(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(yi(),r===i){t=vn(e,t,n);break e}Ke(e,t,r,n)}t=t.child}return t;case 5:return Py(t),e===null&&Bc(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,Ic(r,i)?a=null:s!==null&&Ic(r,s)&&(t.flags|=32),t0(e,t),Ke(e,t,a,n),t.child;case 6:return e===null&&Bc(t),null;case 13:return r0(e,t,n);case 4:return hd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=vi(t,null,r,n):Ke(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pt(r,i),jp(e,t,r,i,n);case 7:return Ke(e,t,t.pendingProps,n),t.child;case 8:return Ke(e,t,t.pendingProps.children,n),t.child;case 12:return Ke(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,se(Ko,r._currentValue),r._currentValue=a,s!==null)if(Ft(s.value,a)){if(s.children===i.children&&!it.current){t=vn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=dn(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Tc(s.return,n,t),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(U(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),Tc(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Ke(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,oi(t,n),i=St(i),r=r(i),t.flags|=1,Ke(e,t,r,n),t.child;case 14:return r=t.type,i=Pt(r,t.pendingProps),i=Pt(r.type,i),Mp(e,t,r,i,n);case 15:return Zy(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pt(r,i),vo(e,t),t.tag=1,st(r)?(e=!0,Wo(t)):e=!1,oi(t,n),Yy(t,r,i),Lc(t,r,i,n),Dc(null,t,r,!0,e,n);case 19:return i0(e,t,n);case 22:return e0(e,t,n)}throw Error(U(156,t.tag))};function A0(e,t){return Vg(e,t)}function d_(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(e,t,n,r){return new d_(e,t,n,r)}function kd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function h_(e){if(typeof e=="function")return kd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Vf)return 11;if(e===Kf)return 14}return 2}function Gn(e,t){var n=e.alternate;return n===null?(n=_t(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function _o(e,t,n,r,i,s){var a=2;if(r=e,typeof e=="function")kd(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Wr:return pr(n.children,i,s,t);case Hf:a=8,i|=8;break;case ic:return e=_t(12,n,t,i|2),e.elementType=ic,e.lanes=s,e;case sc:return e=_t(13,n,t,i),e.elementType=sc,e.lanes=s,e;case ac:return e=_t(19,n,t,i),e.elementType=ac,e.lanes=s,e;case Pg:return Rl(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kg:a=10;break e;case Rg:a=9;break e;case Vf:a=11;break e;case Kf:a=14;break e;case bn:a=16,r=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=_t(a,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function pr(e,t,n,r){return e=_t(7,e,r,t),e.lanes=n,e}function Rl(e,t,n,r){return e=_t(22,e,r,t),e.elementType=Pg,e.lanes=n,e.stateNode={isHidden:!1},e}function bu(e,t,n){return e=_t(6,e,null,t),e.lanes=n,e}function ku(e,t,n){return t=_t(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function p_(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lu(0),this.expirationTimes=lu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Rd(e,t,n,r,i,s,a,o,l){return e=new p_(e,t,n,o,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=_t(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},dd(s),e}function m_(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function _0(e){if(!e)return Vn;e=e._reactInternals;e:{if(Pr(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(st(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var n=e.type;if(st(n))return _y(e,n,t)}return t}function x0(e,t,n,r,i,s,a,o,l){return e=Rd(n,r,!0,e,i,s,a,o,l),e.context=_0(null),n=e.current,r=Ye(),i=zn(n),s=dn(r,i),s.callback=t??null,Un(n,s,i),e.current.lanes=i,ra(e,i,r),at(e,r),e}function Pl(e,t,n,r){var i=t.current,s=Ye(),a=zn(i);return n=_0(n),t.context===null?t.context=n:t.pendingContext=n,t=dn(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Un(i,t,a),e!==null&&(Nt(e,i,a,s),mo(e,i,a)),a}function il(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Jp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Pd(e,t){Jp(e,t),(e=e.alternate)&&Jp(e,t)}function g_(){return null}var E0=typeof reportError=="function"?reportError:function(e){console.error(e)};function Bd(e){this._internalRoot=e}Bl.prototype.render=Bd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));Pl(e,t,null,null)};Bl.prototype.unmount=Bd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Er(function(){Pl(null,e,null,null)}),t[gn]=null}};function Bl(e){this._internalRoot=e}Bl.prototype.unstable_scheduleHydration=function(e){if(e){var t=ey();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Bn.length&&t!==0&&t<Bn[n].priority;n++);Bn.splice(n,0,e),n===0&&ny(e)}};function Td(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Tl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Zp(){}function y_(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=il(a);s.call(c)}}var a=x0(t,r,e,0,null,!1,!1,"",Zp);return e._reactRootContainer=a,e[gn]=a.current,$s(e.nodeType===8?e.parentNode:e),Er(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=il(l);o.call(c)}}var l=Rd(e,0,!1,null,null,!1,!1,"",Zp);return e._reactRootContainer=l,e[gn]=l.current,$s(e.nodeType===8?e.parentNode:e),Er(function(){Pl(t,l,n,r)}),l}function Ol(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=il(a);o.call(l)}}Pl(t,a,e,i)}else a=y_(n,t,e,i,r);return il(a)}Jg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ts(t.pendingLanes);n!==0&&(qf(t,n|1),at(t,we()),!(ee&6)&&(_i=we()+500,Zn()))}break;case 13:Er(function(){var r=yn(e,1);if(r!==null){var i=Ye();Nt(r,e,1,i)}}),Pd(e,1)}};Jf=function(e){if(e.tag===13){var t=yn(e,134217728);if(t!==null){var n=Ye();Nt(t,e,134217728,n)}Pd(e,134217728)}};Zg=function(e){if(e.tag===13){var t=zn(e),n=yn(e,t);if(n!==null){var r=Ye();Nt(n,e,t,r)}Pd(e,t)}};ey=function(){return te};ty=function(e,t){var n=te;try{return te=e,t()}finally{te=n}};gc=function(e,t,n){switch(t){case"input":if(uc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=El(r);if(!i)throw Error(U(90));Tg(r),uc(r,i)}}}break;case"textarea":Lg(e,n);break;case"select":t=n.value,t!=null&&ri(e,!!n.multiple,t,!1)}};Ug=Cd;Qg=Er;var v_={usingClientEntryPoint:!1,Events:[sa,Xr,El,jg,Mg,Cd]},Vi={findFiberByHostInstance:lr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},w_={bundleType:Vi.bundleType,version:Vi.version,rendererPackageName:Vi.rendererPackageName,rendererConfig:Vi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:An.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Wg(e),e===null?null:e.stateNode},findFiberByHostInstance:Vi.findFiberByHostInstance||g_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fa.isDisabled&&Fa.supportsFiber)try{wl=Fa.inject(w_),qt=Fa}catch{}}yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=v_;yt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Td(t))throw Error(U(200));return m_(e,t,null,n)};yt.createRoot=function(e,t){if(!Td(e))throw Error(U(299));var n=!1,r="",i=E0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Rd(e,1,!1,null,null,n,!1,r,i),e[gn]=t.current,$s(e.nodeType===8?e.parentNode:e),new Bd(t)};yt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=Wg(t),e=e===null?null:e.stateNode,e};yt.flushSync=function(e){return Er(e)};yt.hydrate=function(e,t,n){if(!Tl(t))throw Error(U(200));return Ol(null,e,t,!0,n)};yt.hydrateRoot=function(e,t,n){if(!Td(e))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=E0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=x0(t,null,e,1,n??null,i,!1,s,a),e[gn]=t.current,$s(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Bl(t)};yt.render=function(e,t,n){if(!Tl(t))throw Error(U(200));return Ol(null,e,t,!1,n)};yt.unmountComponentAtNode=function(e){if(!Tl(e))throw Error(U(40));return e._reactRootContainer?(Er(function(){Ol(null,null,e,!1,function(){e._reactRootContainer=null,e[gn]=null})}),!0):!1};yt.unstable_batchedUpdates=Cd;yt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Tl(n))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return Ol(e,t,n,!1,r)};yt.version="18.3.1-next-f1338f8080-20240426";function S0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(S0)}catch(e){console.error(e)}}S0(),Sg.exports=yt;var A_=Sg.exports,em=A_;nc.createRoot=em.createRoot,nc.hydrateRoot=em.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gs(){return Gs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gs.apply(this,arguments)}var Nn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Nn||(Nn={}));const tm="popstate";function __(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:a,hash:o}=r.location;return Xc("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:C0(i)}return E_(t,n,null,e)}function _e(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Od(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function x_(){return Math.random().toString(36).substr(2,8)}function nm(e,t){return{usr:e.state,key:e.key,idx:t}}function Xc(e,t,n,r){return n===void 0&&(n=null),Gs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ii(t):t,{state:n,key:t&&t.key||r||x_()})}function C0(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ii(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function E_(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=Nn.Pop,l=null,c=u();c==null&&(c=0,a.replaceState(Gs({},a.state,{idx:c}),""));function u(){return(a.state||{idx:null}).idx}function f(){o=Nn.Pop;let x=u(),g=x==null?null:x-c;c=x,l&&l({action:o,location:m.location,delta:g})}function d(x,g){o=Nn.Push;let h=Xc(m.location,x,g);c=u()+1;let v=nm(h,c),E=m.createHref(h);try{a.pushState(v,"",E)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(E)}s&&l&&l({action:o,location:m.location,delta:1})}function p(x,g){o=Nn.Replace;let h=Xc(m.location,x,g);c=u();let v=nm(h,c),E=m.createHref(h);a.replaceState(v,"",E),s&&l&&l({action:o,location:m.location,delta:0})}function y(x){let g=i.location.origin!=="null"?i.location.origin:i.location.href,h=typeof x=="string"?x:C0(x);return h=h.replace(/ $/,"%20"),_e(g,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,g)}let m={get action(){return o},get location(){return e(i,a)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(tm,f),l=x,()=>{i.removeEventListener(tm,f),l=null}},createHref(x){return t(i,x)},createURL:y,encodeLocation(x){let g=y(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:d,replace:p,go(x){return a.go(x)}};return m}var rm;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(rm||(rm={}));function S_(e,t,n){return n===void 0&&(n="/"),C_(e,t,n)}function C_(e,t,n,r){let i=typeof t=="string"?Ii(t):t,s=k0(i.pathname||"/",n);if(s==null)return null;let a=I0(e);I_(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=F_(s);o=$_(a[l],c)}return o}function I0(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(_e(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=mr([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(_e(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),I0(s.children,t,u,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:O_(c,s.index),routesMeta:u})};return e.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of b0(s.path))i(s,a,l)}),t}function b0(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=b0(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function I_(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:L_(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const b_=/^:[\w-]+$/,k_=3,R_=2,P_=1,B_=10,T_=-2,im=e=>e==="*";function O_(e,t){let n=e.split("/"),r=n.length;return n.some(im)&&(r+=T_),t&&(r+=R_),n.filter(i=>!im(i)).reduce((i,s)=>i+(b_.test(s)?k_:s===""?P_:B_),r)}function L_(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function $_(e,t,n){let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,u=s==="/"?t:t.slice(s.length)||"/",f=N_({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),d=l.route;if(!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:mr([s,f.pathname]),pathnameBase:z_(mr([s,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(s=mr([s,f.pathnameBase]))}return a}function N_(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=D_(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,u,f)=>{let{paramName:d,isOptional:p}=u;if(d==="*"){let m=o[f]||"";a=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const y=o[f];return p&&!y?c[d]=void 0:c[d]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:e}}function D_(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Od(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function F_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Od(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function k0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const j_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,M_=e=>j_.test(e);function U_(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Ii(e):e,s;if(n)if(M_(n))s=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),Od(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?s=sm(n.substring(1),"/"):s=sm(n,t)}else s=t;return{pathname:s,search:G_(r),hash:W_(i)}}function sm(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ru(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Q_(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function R0(e,t){let n=Q_(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function P0(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Ii(e):(i=Gs({},e),_e(!i.pathname||!i.pathname.includes("?"),Ru("?","pathname","search",i)),_e(!i.pathname||!i.pathname.includes("#"),Ru("#","pathname","hash",i)),_e(!i.search||!i.search.includes("#"),Ru("#","search","hash",i)));let s=e===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}o=f>=0?t[f]:"/"}let l=U_(i,o),c=a&&a!=="/"&&a.endsWith("/"),u=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const mr=e=>e.join("/").replace(/\/\/+/g,"/"),z_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),G_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,W_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function H_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const B0=["post","put","patch","delete"];new Set(B0);const V_=["get",...B0];new Set(V_);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ws(){return Ws=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ws.apply(this,arguments)}const Ld=j.createContext(null),K_=j.createContext(null),oa=j.createContext(null),Ll=j.createContext(null),Br=j.createContext({outlet:null,matches:[],isDataRoute:!1}),T0=j.createContext(null);function la(){return j.useContext(Ll)!=null}function $d(){return la()||_e(!1),j.useContext(Ll).location}function O0(e){j.useContext(oa).static||j.useLayoutEffect(e)}function ua(){let{isDataRoute:e}=j.useContext(Br);return e?ox():X_()}function X_(){la()||_e(!1);let e=j.useContext(Ld),{basename:t,future:n,navigator:r}=j.useContext(oa),{matches:i}=j.useContext(Br),{pathname:s}=$d(),a=JSON.stringify(R0(i,n.v7_relativeSplatPath)),o=j.useRef(!1);return O0(()=>{o.current=!0}),j.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let f=P0(c,JSON.parse(a),s,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:mr([t,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[t,r,a,s,e])}function Y_(e,t){return q_(e,t)}function q_(e,t,n,r){la()||_e(!1);let{navigator:i}=j.useContext(oa),{matches:s}=j.useContext(Br),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=$d(),u;if(t){var f;let x=typeof t=="string"?Ii(t):t;l==="/"||(f=x.pathname)!=null&&f.startsWith(l)||_e(!1),u=x}else u=c;let d=u.pathname||"/",p=d;if(l!=="/"){let x=l.replace(/^\//,"").split("/");p="/"+d.replace(/^\//,"").split("/").slice(x.length).join("/")}let y=S_(e,{pathname:p}),m=nx(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:mr([l,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:mr([l,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,r);return t&&m?j.createElement(Ll.Provider,{value:{location:Ws({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Nn.Pop}},m):m}function J_(){let e=ax(),t=H_(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),n?j.createElement("pre",{style:i},n):null,null)}const Z_=j.createElement(J_,null);class ex extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?j.createElement(Br.Provider,{value:this.props.routeContext},j.createElement(T0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function tx(e){let{routeContext:t,match:n,children:r}=e,i=j.useContext(Ld);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(Br.Provider,{value:t},r)}function nx(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=(i=n)==null?void 0:i.errors;if(o!=null){let u=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);u>=0||_e(!1),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<a.length;u++){let f=a[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:d,errors:p}=n,y=f.route.loader&&d[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||y){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((u,f,d)=>{let p,y=!1,m=null,x=null;n&&(p=o&&f.route.id?o[f.route.id]:void 0,m=f.route.errorElement||Z_,l&&(c<0&&d===0?(lx("route-fallback"),y=!0,x=null):c===d&&(y=!0,x=f.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,d+1)),h=()=>{let v;return p?v=m:y?v=x:f.route.Component?v=j.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=u,j.createElement(tx,{match:f,routeContext:{outlet:u,matches:g,isDataRoute:n!=null},children:v})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?j.createElement(ex,{location:n.location,revalidation:n.revalidation,component:m,error:p,children:h(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):h()},null)}var L0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(L0||{}),$0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}($0||{});function rx(e){let t=j.useContext(Ld);return t||_e(!1),t}function ix(e){let t=j.useContext(K_);return t||_e(!1),t}function sx(e){let t=j.useContext(Br);return t||_e(!1),t}function N0(e){let t=sx(),n=t.matches[t.matches.length-1];return n.route.id||_e(!1),n.route.id}function ax(){var e;let t=j.useContext(T0),n=ix(),r=N0();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function ox(){let{router:e}=rx(L0.UseNavigateStable),t=N0($0.UseNavigateStable),n=j.useRef(!1);return O0(()=>{n.current=!0}),j.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Ws({fromRouteId:t},s)))},[e,t])}const am={};function lx(e,t,n){am[e]||(am[e]=!0)}function ux(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function cx(e){let{to:t,replace:n,state:r,relative:i}=e;la()||_e(!1);let{future:s,static:a}=j.useContext(oa),{matches:o}=j.useContext(Br),{pathname:l}=$d(),c=ua(),u=P0(t,R0(o,s.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(u);return j.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function ar(e){_e(!1)}function fx(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Nn.Pop,navigator:s,static:a=!1,future:o}=e;la()&&_e(!1);let l=t.replace(/^\/*/,"/"),c=j.useMemo(()=>({basename:l,navigator:s,static:a,future:Ws({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof r=="string"&&(r=Ii(r));let{pathname:u="/",search:f="",hash:d="",state:p=null,key:y="default"}=r,m=j.useMemo(()=>{let x=k0(u,l);return x==null?null:{location:{pathname:x,search:f,hash:d,state:p,key:y},navigationType:i}},[l,u,f,d,p,y,i]);return m==null?null:j.createElement(oa.Provider,{value:c},j.createElement(Ll.Provider,{children:n,value:m}))}function dx(e){let{children:t,location:n}=e;return Y_(Yc(t),n)}new Promise(()=>{});function Yc(e,t){t===void 0&&(t=[]);let n=[];return j.Children.forEach(e,(r,i)=>{if(!j.isValidElement(r))return;let s=[...t,i];if(r.type===j.Fragment){n.push.apply(n,Yc(r.props.children,s));return}r.type!==ar&&_e(!1),!r.props.index||!r.props.children||_e(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Yc(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const hx="6";try{window.__reactRouterVersion=hx}catch{}const px="startTransition",om=uA[px];function mx(e){let{basename:t,children:n,future:r,window:i}=e,s=j.useRef();s.current==null&&(s.current=__({window:i,v5Compat:!0}));let a=s.current,[o,l]=j.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},u=j.useCallback(f=>{c&&om?om(()=>l(f)):l(f)},[l,c]);return j.useLayoutEffect(()=>a.listen(u),[a,u]),j.useEffect(()=>ux(r),[r]),j.createElement(fx,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}var lm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(lm||(lm={}));var um;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(um||(um={}));function gx(){const[e,t]=j.useState(typeof navigator<"u"?navigator.onLine:!0);return j.useEffect(()=>{function n(){t(!0)}function r(){t(!1)}return window.addEventListener("online",n),window.addEventListener("offline",r),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}},[]),e}const oe=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,xe=Object.keys,Ge=Array.isArray;function qe(e,t){return typeof t!="object"||xe(t).forEach(function(n){e[n]=t[n]}),e}typeof Promise>"u"||oe.Promise||(oe.Promise=Promise);const Hs=Object.getPrototypeOf,yx={}.hasOwnProperty;function gt(e,t){return yx.call(e,t)}function xi(e,t){typeof t=="function"&&(t=t(Hs(e))),(typeof Reflect>"u"?xe:Reflect.ownKeys)(t).forEach(n=>{hn(e,n,t[n])})}const D0=Object.defineProperty;function hn(e,t,n,r){D0(e,t,qe(n&&gt(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function ui(e){return{from:function(t){return e.prototype=Object.create(t.prototype),hn(e.prototype,"constructor",e),{extend:xi.bind(null,e.prototype)}}}}const vx=Object.getOwnPropertyDescriptor;function Nd(e,t){let n;return vx(e,t)||(n=Hs(e))&&Nd(n,t)}const wx=[].slice;function sl(e,t,n){return wx.call(e,t,n)}function F0(e,t){return t(e)}function rs(e){if(!e)throw new Error("Assertion Failed")}function j0(e){oe.setImmediate?setImmediate(e):setTimeout(e,0)}function M0(e,t){return e.reduce((n,r,i)=>{var s=t(r,i);return s&&(n[s[0]]=s[1]),n},{})}function pn(e,t){if(typeof t=="string"&&gt(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var n=[],r=0,i=t.length;r<i;++r){var s=pn(e,t[r]);n.push(s)}return n}var a=t.indexOf(".");if(a!==-1){var o=e[t.substr(0,a)];return o==null?void 0:pn(o,t.substr(a+1))}}function Dt(e,t,n){if(e&&t!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){rs(typeof n!="string"&&"length"in n);for(var r=0,i=t.length;r<i;++r)Dt(e,t[r],n[r])}else{var s=t.indexOf(".");if(s!==-1){var a=t.substr(0,s),o=t.substr(s+1);if(o==="")n===void 0?Ge(e)&&!isNaN(parseInt(a))?e.splice(a,1):delete e[a]:e[a]=n;else{var l=e[a];l&&gt(e,a)||(l=e[a]={}),Dt(l,o,n)}}else n===void 0?Ge(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function U0(e){var t={};for(var n in e)gt(e,n)&&(t[n]=e[n]);return t}const Ax=[].concat;function Q0(e){return Ax.apply([],e)}const z0="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Q0([8,16,32,64].map(e=>["Int","Uint","Float"].map(t=>t+e+"Array")))).filter(e=>oe[e]),_x=z0.map(e=>oe[e]);M0(z0,e=>[e,!0]);let Rn=null;function ca(e){Rn=typeof WeakMap<"u"&&new WeakMap;const t=qc(e);return Rn=null,t}function qc(e){if(!e||typeof e!="object")return e;let t=Rn&&Rn.get(e);if(t)return t;if(Ge(e)){t=[],Rn&&Rn.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(qc(e[n]))}else if(_x.indexOf(e.constructor)>=0)t=e;else{const s=Hs(e);for(var i in t=s===Object.prototype?{}:Object.create(s),Rn&&Rn.set(e,t),e)gt(e,i)&&(t[i]=qc(e[i]))}return t}const{toString:xx}={};function Jc(e){return xx.call(e).slice(8,-1)}const Zc=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Ex=typeof Zc=="symbol"?function(e){var t;return e!=null&&(t=e[Zc])&&t.apply(e)}:function(){return null},Ur={};function ln(e){var t,n,r,i;if(arguments.length===1){if(Ge(e))return e.slice();if(this===Ur&&typeof e=="string")return[e];if(i=Ex(e)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(e==null)return[e];if(typeof(t=e.length)=="number"){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}const Dd=typeof Symbol<"u"?e=>e[Symbol.toStringTag]==="AsyncFunction":()=>!1;var Zt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function G0(e,t){Zt=e,W0=t}var W0=()=>!0;const Sx=!new Error("").stack;function Tr(){if(Sx)try{throw Tr.arguments,new Error}catch(e){return e}return new Error}function ef(e,t){var n=e.stack;return n?(t=t||0,n.indexOf(e.name)===0&&(t+=(e.name+e.message).split(`
`).length),n.split(`
`).slice(t).filter(W0).map(r=>`
`+r).join("")):""}var H0=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Fd=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(H0),Cx={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ci(e,t){this._e=Tr(),this.name=e,this.message=t}function V0(e,t){return e+". Errors: "+Object.keys(t).map(n=>t[n].toString()).filter((n,r,i)=>i.indexOf(n)===r).join(`
`)}function al(e,t,n,r){this._e=Tr(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=V0(e,t)}function As(e,t){this._e=Tr(),this.name="BulkError",this.failures=Object.keys(t).map(n=>t[n]),this.failuresByPos=t,this.message=V0(e,t)}ui(ci).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+ef(this._e,2))}},toString:function(){return this.name+": "+this.message}}),ui(al).from(ci),ui(As).from(ci);var jd=Fd.reduce((e,t)=>(e[t]=t+"Error",e),{});const Ix=ci;var Y=Fd.reduce((e,t)=>{var n=t+"Error";function r(i,s){this._e=Tr(),this.name=n,i?typeof i=="string"?(this.message=`${i}${s?`
 `+s:""}`,this.inner=s||null):typeof i=="object"&&(this.message=`${i.name} ${i.message}`,this.inner=i):(this.message=Cx[t]||n,this.inner=null)}return ui(r).from(Ix),e[t]=r,e},{});Y.Syntax=SyntaxError,Y.Type=TypeError,Y.Range=RangeError;var cm=H0.reduce((e,t)=>(e[t+"Error"]=Y[t],e),{}),xo=Fd.reduce((e,t)=>(["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=Y[t]),e),{});function ie(){}function Vs(e){return e}function bx(e,t){return e==null||e===Vs?t:function(n){return t(e(n))}}function Sr(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function kx(e,t){return e===ie?t:function(){var n=e.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var s=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?Sr(r,this.onsuccess):r),i&&(this.onerror=this.onerror?Sr(i,this.onerror):i),s!==void 0?s:n}}function Rx(e,t){return e===ie?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?Sr(n,this.onsuccess):n),r&&(this.onerror=this.onerror?Sr(r,this.onerror):r)}}function Px(e,t){return e===ie?t:function(n){var r=e.apply(this,arguments);qe(n,r);var i=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?Sr(i,this.onsuccess):i),s&&(this.onerror=this.onerror?Sr(s,this.onerror):s),r===void 0?a===void 0?void 0:a:qe(r,a)}}function Bx(e,t){return e===ie?t:function(){return t.apply(this,arguments)!==!1&&e.apply(this,arguments)}}function Md(e,t){return e===ie?t:function(){var n=e.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,i=arguments.length,s=new Array(i);i--;)s[i]=arguments[i];return n.then(function(){return t.apply(r,s)})}return t.apply(this,arguments)}}xo.ModifyError=al,xo.DexieError=ci,xo.BulkError=As;var Ks={};const K0=100,[tf,ol,nf]=typeof Promise>"u"?[]:(()=>{let e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,Hs(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,Hs(t),e]})(),X0=ol&&ol.then,Eo=tf&&tf.constructor,Ud=!!nf;var rf=!1,Tx=nf?()=>{nf.then(ja)}:oe.setImmediate?setImmediate.bind(null,ja):oe.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver(()=>{ja(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(ja,0)},_s=function(e,t){is.push([e,t]),ll&&(Tx(),ll=!1)},sf=!0,ll=!0,gr=[],So=[],af=null,of=Vs,fi={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:hm,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(e=>{try{hm(e[0],e[1])}catch{}})}},H=fi,is=[],yr=0,Co=[];function z(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=ie,this._lib=!1;var t=this._PSD=H;if(Zt&&(this._stackHolder=Tr(),this._prev=null,this._numPrev=0),typeof e!="function"){if(e!==Ks)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&uf(this,this._value))}this._state=null,this._value=null,++t.ref,q0(this,e)}const lf={get:function(){var e=H,t=ul;function n(r,i){var s=!e.global&&(e!==H||t!==ul);const a=s&&!wn();var o=new z((l,c)=>{Qd(this,new Y0(cl(r,e,s,a),cl(i,e,s,a),l,c,e))});return Zt&&ev(o,this),o}return n.prototype=Ks,n},set:function(e){hn(this,"then",e&&e.prototype===Ks?lf:{get:function(){return e},set:lf.set})}};function Y0(e,t,n,r,i){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=n,this.reject=r,this.psd=i}function q0(e,t){try{t(n=>{if(e._state===null){if(n===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&fa();n&&typeof n.then=="function"?q0(e,(i,s)=>{n instanceof z?n._then(i,s):n.then(i,s)}):(e._state=!0,e._value=n,J0(e)),r&&da()}},uf.bind(null,e))}catch(n){uf(e,n)}}function uf(e,t){if(So.push(t),e._state===null){var n=e._lib&&fa();t=of(t),e._state=!1,e._value=t,Zt&&t!==null&&typeof t=="object"&&!t._promise&&function(r,i,s){try{r.apply(null,s)}catch{}}(()=>{var r=Nd(t,"stack");t._promise=e,hn(t,"stack",{get:()=>rf?r&&(r.get?r.get.apply(t):r.value):e.stack})}),function(r){gr.some(i=>i._value===r._value)||gr.push(r)}(e),J0(e),n&&da()}}function J0(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Qd(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),yr===0&&(++yr,_s(()=>{--yr==0&&zd()},[]))}function Qd(e,t){if(e._state!==null){var n=e._state?t.onFulfilled:t.onRejected;if(n===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++yr,_s(Ox,[n,e,t])}else e._listeners.push(t)}function Ox(e,t,n){try{af=t;var r,i=t._value;t._state?r=e(i):(So.length&&(So=[]),r=e(i),So.indexOf(i)===-1&&function(s){for(var a=gr.length;a;)if(gr[--a]._value===s._value)return void gr.splice(a,1)}(t)),n.resolve(r)}catch(s){n.reject(s)}finally{af=null,--yr==0&&zd(),--n.psd.ref||n.psd.finalize()}}function Z0(e,t,n){if(t.length===n)return t;var r="";if(e._state===!1){var i,s,a=e._value;a!=null?(i=a.name||"Error",s=a.message||a,r=ef(a,0)):(i=a,s=""),t.push(i+(s?": "+s:"")+r)}return Zt&&((r=ef(e._stackHolder,2))&&t.indexOf(r)===-1&&t.push(r),e._prev&&Z0(e._prev,t,n)),t}function ev(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function ja(){fa()&&da()}function fa(){var e=sf;return sf=!1,ll=!1,e}function da(){var e,t,n;do for(;is.length>0;)for(e=is,is=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}while(is.length>0);sf=!0,ll=!0}function zd(){var e=gr;gr=[],e.forEach(r=>{r._PSD.onunhandled.call(null,r._value,r)});for(var t=Co.slice(0),n=t.length;n;)t[--n]()}function Ma(e){return new z(Ks,!1,e)}function ue(e,t){var n=H;return function(){var r=fa(),i=H;try{return Xn(n,!0),e.apply(this,arguments)}catch(s){t&&t(s)}finally{Xn(i,!1),r&&da()}}}xi(z.prototype,{then:lf,_then:function(e,t){Qd(this,new Y0(null,null,e,t,H))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],n=arguments[1];return typeof t=="function"?this.then(null,r=>r instanceof t?n(r):Ma(r)):this.then(null,r=>r&&r.name===t?n(r):Ma(r))},finally:function(e){return this.then(t=>(e(),t),t=>(e(),Ma(t)))},stack:{get:function(){if(this._stack)return this._stack;try{rf=!0;var e=Z0(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=e),e}finally{rf=!1}}},timeout:function(e,t){return e<1/0?new z((n,r)=>{var i=setTimeout(()=>r(new Y.Timeout(t)),e);this.then(n,r).finally(clearTimeout.bind(null,i))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&hn(z.prototype,Symbol.toStringTag,"Dexie.Promise"),fi.env=tv(),xi(z,{all:function(){var e=ln.apply(null,arguments).map(Ua);return new z(function(t,n){e.length===0&&t([]);var r=e.length;e.forEach((i,s)=>z.resolve(i).then(a=>{e[s]=a,--r||t(e)},n))})},resolve:e=>{if(e instanceof z)return e;if(e&&typeof e.then=="function")return new z((n,r)=>{e.then(n,r)});var t=new z(Ks,!0,e);return ev(t,af),t},reject:Ma,race:function(){var e=ln.apply(null,arguments).map(Ua);return new z((t,n)=>{e.map(r=>z.resolve(r).then(t,n))})},PSD:{get:()=>H,set:e=>H=e},totalEchoes:{get:()=>ul},newPSD:Kn,usePSD:ki,scheduler:{get:()=>_s,set:e=>{_s=e}},rejectionMapper:{get:()=>of,set:e=>{of=e}},follow:(e,t)=>new z((n,r)=>Kn((i,s)=>{var a=H;a.unhandleds=[],a.onunhandled=s,a.finalize=Sr(function(){(function(o){function l(){o(),Co.splice(Co.indexOf(l),1)}Co.push(l),++yr,_s(()=>{--yr==0&&zd()},[])})(()=>{this.unhandleds.length===0?i():s(this.unhandleds[0])})},a.finalize),e()},t,n,r))}),Eo&&(Eo.allSettled&&hn(z,"allSettled",function(){const e=ln.apply(null,arguments).map(Ua);return new z(t=>{e.length===0&&t([]);let n=e.length;const r=new Array(n);e.forEach((i,s)=>z.resolve(i).then(a=>r[s]={status:"fulfilled",value:a},a=>r[s]={status:"rejected",reason:a}).then(()=>--n||t(r)))})}),Eo.any&&typeof AggregateError<"u"&&hn(z,"any",function(){const e=ln.apply(null,arguments).map(Ua);return new z((t,n)=>{e.length===0&&n(new AggregateError([]));let r=e.length;const i=new Array(r);e.forEach((s,a)=>z.resolve(s).then(o=>t(o),o=>{i[a]=o,--r||n(new AggregateError(i))}))})}));const ze={awaits:0,echoes:0,id:0};var Lx=0,Io=[],Pu=0,ul=0,$x=0;function Kn(e,t,n,r){var i=H,s=Object.create(i);s.parent=i,s.ref=0,s.global=!1,s.id=++$x;var a=fi.env;s.env=Ud?{Promise:z,PromiseProp:{value:z,configurable:!0,writable:!0},all:z.all,race:z.race,allSettled:z.allSettled,any:z.any,resolve:z.resolve,reject:z.reject,nthen:fm(a.nthen,s),gthen:fm(a.gthen,s)}:{},t&&qe(s,t),++i.ref,s.finalize=function(){--this.parent.ref||this.parent.finalize()};var o=ki(s,e,n,r);return s.ref===0&&s.finalize(),o}function bi(){return ze.id||(ze.id=++Lx),++ze.awaits,ze.echoes+=K0,ze.id}function wn(){return!!ze.awaits&&(--ze.awaits==0&&(ze.id=0),ze.echoes=ze.awaits*K0,!0)}function Ua(e){return ze.echoes&&e&&e.constructor===Eo?(bi(),e.then(t=>(wn(),t),t=>(wn(),ke(t)))):e}function Nx(e){++ul,ze.echoes&&--ze.echoes!=0||(ze.echoes=ze.id=0),Io.push(H),Xn(e,!0)}function Dx(){var e=Io[Io.length-1];Io.pop(),Xn(e,!1)}function Xn(e,t){var n=H;if((t?!ze.echoes||Pu++&&e===H:!Pu||--Pu&&e===H)||nv(t?Nx.bind(null,e):Dx),e!==H&&(H=e,n===fi&&(fi.env=tv()),Ud)){var r=fi.env.Promise,i=e.env;ol.then=i.nthen,r.prototype.then=i.gthen,(n.global||e.global)&&(Object.defineProperty(oe,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject,i.allSettled&&(r.allSettled=i.allSettled),i.any&&(r.any=i.any))}}function tv(){var e=oe.Promise;return Ud?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(oe,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:ol.then,gthen:e.prototype.then}:{}}function ki(e,t,n,r,i){var s=H;try{return Xn(e,!0),t(n,r,i)}finally{Xn(s,!1)}}function nv(e){X0.call(tf,e)}function cl(e,t,n,r){return typeof e!="function"?e:function(){var i=H;n&&bi(),Xn(t,!0);try{return e.apply(this,arguments)}finally{Xn(i,!1),r&&nv(wn)}}}function fm(e,t){return function(n,r){return e.call(this,cl(n,t),cl(r,t))}}(""+X0).indexOf("[native code]")===-1&&(bi=wn=ie);const dm="unhandledrejection";function hm(e,t){var n;try{n=t.onuncatched(e)}catch{}if(n!==!1)try{var r,i={promise:t,reason:e};if(oe.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(dm,!0,!0),qe(r,i)):oe.CustomEvent&&qe(r=new CustomEvent(dm,{detail:i}),i),r&&oe.dispatchEvent&&(dispatchEvent(r),!oe.PromiseRejectionEvent&&oe.onunhandledrejection))try{oe.onunhandledrejection(r)}catch{}Zt&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch{}}var ke=z.reject;function cf(e,t,n,r){if(e.idbdb&&(e._state.openComplete||H.letThrough||e._vip)){var i=e._createTransaction(t,n,e._dbSchema);try{i.create(),e._state.PR1398_maxLoop=3}catch(s){return s.name===jd.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>cf(e,t,n,r))):ke(s)}return i._promise(t,(s,a)=>Kn(()=>(H.trans=i,r(s,a,i)))).then(s=>i._completion.then(()=>s))}if(e._state.openComplete)return ke(new Y.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return ke(new Y.DatabaseClosed);e.open().catch(ie)}return e._state.dbReadyPromise.then(()=>cf(e,t,n,r))}const pm="3.2.7",fr="",ff=-1/0,tn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",rv="String expected.",xs=[],$l=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Fx=$l,jx=$l,iv=e=>!/(dexie\.js|dexie\.min\.js)/.test(e),Nl="__dbnames",Bu="readonly",Tu="readwrite";function Cr(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const sv={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Qa(e){return typeof e!="string"||/\./.test(e)?t=>t:t=>(t[e]===void 0&&e in t&&delete(t=ca(t))[e],t)}class Mx{_trans(t,n,r){const i=this._tx||H.trans,s=this.name;function a(l,c,u){if(!u.schema[s])throw new Y.NotFound("Table "+s+" not part of transaction");return n(u.idbtrans,u)}const o=fa();try{return i&&i.db===this.db?i===H.trans?i._promise(t,a,r):Kn(()=>i._promise(t,a,r),{trans:i,transless:H.transless||H}):cf(this.db,t,[this.name],a)}finally{o&&da()}}get(t,n){return t&&t.constructor===Object?this.where(t).first(n):this._trans("readonly",r=>this.core.get({trans:r,key:t}).then(i=>this.hook.reading.fire(i))).then(n)}where(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(Ge(t))return new this.db.WhereClause(this,`[${t.join("+")}]`);const n=xe(t);if(n.length===1)return this.where(n[0]).equals(t[n[0]]);const r=this.schema.indexes.concat(this.schema.primKey).filter(c=>{if(c.compound&&n.every(u=>c.keyPath.indexOf(u)>=0)){for(let u=0;u<n.length;++u)if(n.indexOf(c.keyPath[u])===-1)return!1;return!0}return!1}).sort((c,u)=>c.keyPath.length-u.keyPath.length)[0];if(r&&this.db._maxKey!==fr){const c=r.keyPath.slice(0,n.length);return this.where(c).equals(c.map(u=>t[u]))}!r&&Zt&&console.warn(`The query ${JSON.stringify(t)} on ${this.name} would benefit of a compound index [${n.join("+")}]`);const{idxByName:i}=this.schema,s=this.db._deps.indexedDB;function a(c,u){try{return s.cmp(c,u)===0}catch{return!1}}const[o,l]=n.reduce(([c,u],f)=>{const d=i[f],p=t[f];return[c||d,c||!d?Cr(u,d&&d.multi?y=>{const m=pn(y,f);return Ge(m)&&m.some(x=>a(p,x))}:y=>a(p,pn(y,f))):u]},[null,null]);return o?this.where(o.name).equals(t[o.keyPath]).filter(l):r?this.filter(l):this.where(n).equals("")}filter(t){return this.toCollection().and(t)}count(t){return this.toCollection().count(t)}offset(t){return this.toCollection().offset(t)}limit(t){return this.toCollection().limit(t)}each(t){return this.toCollection().each(t)}toArray(t){return this.toCollection().toArray(t)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(t){return new this.db.Collection(new this.db.WhereClause(this,Ge(t)?`[${t.join("+")}]`:t))}reverse(){return this.toCollection().reverse()}mapToClass(t){this.schema.mappedClass=t;const n=r=>{if(!r)return r;const i=Object.create(t.prototype);for(var s in r)if(gt(r,s))try{i[s]=r[s]}catch{}return i};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),t}defineClass(){return this.mapToClass(function(t){qe(this,t)})}add(t,n){const{auto:r,keyPath:i}=this.schema.primKey;let s=t;return i&&r&&(s=Qa(i)(t)),this._trans("readwrite",a=>this.core.mutate({trans:a,type:"add",keys:n!=null?[n]:null,values:[s]})).then(a=>a.numFailures?z.reject(a.failures[0]):a.lastResult).then(a=>{if(i)try{Dt(t,i,a)}catch{}return a})}update(t,n){if(typeof t!="object"||Ge(t))return this.where(":id").equals(t).modify(n);{const r=pn(t,this.schema.primKey.keyPath);if(r===void 0)return ke(new Y.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?xe(n).forEach(i=>{Dt(t,i,n[i])}):n(t,{value:t,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}}put(t,n){const{auto:r,keyPath:i}=this.schema.primKey;let s=t;return i&&r&&(s=Qa(i)(t)),this._trans("readwrite",a=>this.core.mutate({trans:a,type:"put",values:[s],keys:n!=null?[n]:null})).then(a=>a.numFailures?z.reject(a.failures[0]):a.lastResult).then(a=>{if(i)try{Dt(t,i,a)}catch{}return a})}delete(t){return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:[t]})).then(n=>n.numFailures?z.reject(n.failures[0]):void 0)}clear(){return this._trans("readwrite",t=>this.core.mutate({trans:t,type:"deleteRange",range:sv})).then(t=>t.numFailures?z.reject(t.failures[0]):void 0)}bulkGet(t){return this._trans("readonly",n=>this.core.getMany({keys:t,trans:n}).then(r=>r.map(i=>this.hook.reading.fire(i))))}bulkAdd(t,n,r){const i=Array.isArray(n)?n:void 0,s=(r=r||(i?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",a=>{const{auto:o,keyPath:l}=this.schema.primKey;if(l&&i)throw new Y.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new Y.InvalidArgument("Arguments objects and keys must have the same length");const c=t.length;let u=l&&o?t.map(Qa(l)):t;return this.core.mutate({trans:a,type:"add",keys:i,values:u,wantResults:s}).then(({numFailures:f,results:d,lastResult:p,failures:y})=>{if(f===0)return s?d:p;throw new As(`${this.name}.bulkAdd(): ${f} of ${c} operations failed`,y)})})}bulkPut(t,n,r){const i=Array.isArray(n)?n:void 0,s=(r=r||(i?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",a=>{const{auto:o,keyPath:l}=this.schema.primKey;if(l&&i)throw new Y.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new Y.InvalidArgument("Arguments objects and keys must have the same length");const c=t.length;let u=l&&o?t.map(Qa(l)):t;return this.core.mutate({trans:a,type:"put",keys:i,values:u,wantResults:s}).then(({numFailures:f,results:d,lastResult:p,failures:y})=>{if(f===0)return s?d:p;throw new As(`${this.name}.bulkPut(): ${f} of ${c} operations failed`,y)})})}bulkDelete(t){const n=t.length;return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:t})).then(({numFailures:r,lastResult:i,failures:s})=>{if(r===0)return i;throw new As(`${this.name}.bulkDelete(): ${r} of ${n} operations failed`,s)})}}function Es(e){var t={},n=function(a,o){if(o){for(var l=arguments.length,c=new Array(l-1);--l;)c[l-1]=arguments[l];return t[a].subscribe.apply(null,c),e}if(typeof a=="string")return t[a]};n.addEventType=s;for(var r=1,i=arguments.length;r<i;++r)s(arguments[r]);return n;function s(a,o,l){if(typeof a!="object"){var c;o||(o=Bx),l||(l=ie);var u={subscribers:[],fire:l,subscribe:function(f){u.subscribers.indexOf(f)===-1&&(u.subscribers.push(f),u.fire=o(u.fire,f))},unsubscribe:function(f){u.subscribers=u.subscribers.filter(function(d){return d!==f}),u.fire=u.subscribers.reduce(o,l)}};return t[a]=n[a]=u,u}xe(c=a).forEach(function(f){var d=c[f];if(Ge(d))s(f,c[f][0],c[f][1]);else{if(d!=="asap")throw new Y.InvalidArgument("Invalid event config");var p=s(f,Vs,function(){for(var y=arguments.length,m=new Array(y);y--;)m[y]=arguments[y];p.subscribers.forEach(function(x){j0(function(){x.apply(null,m)})})})}})}}function Ki(e,t){return ui(t).from({prototype:e}),t}function Lr(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Ou(e,t){e.filter=Cr(e.filter,t)}function Lu(e,t,n){var r=e.replayFilter;e.replayFilter=r?()=>Cr(r(),t()):t,e.justLimit=n&&!r}function bo(e,t){if(e.isPrimKey)return t.primaryKey;const n=t.getIndexByKeyPath(e.index);if(!n)throw new Y.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function mm(e,t,n){const r=bo(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:r,range:e.range}})}function za(e,t,n,r){const i=e.replayFilter?Cr(e.filter,e.replayFilter()):e.filter;if(e.or){const s={},a=(o,l,c)=>{if(!i||i(l,c,d=>l.stop(d),d=>l.fail(d))){var u=l.primaryKey,f=""+u;f==="[object ArrayBuffer]"&&(f=""+new Uint8Array(u)),gt(s,f)||(s[f]=!0,t(o,l,c))}};return Promise.all([e.or._iterate(a,n),gm(mm(e,r,n),e.algorithm,a,!e.keysOnly&&e.valueMapper)])}return gm(mm(e,r,n),Cr(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function gm(e,t,n,r){var i=ue(r?(s,a,o)=>n(r(s),a,o):n);return e.then(s=>{if(s)return s.start(()=>{var a=()=>s.continue();t&&!t(s,o=>a=o,o=>{s.stop(o),a=ie},o=>{s.fail(o),a=ie})||i(s.value,s,o=>a=o),a()})})}function Xe(e,t){try{const n=ym(e),r=ym(t);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(i,s){const a=i.length,o=s.length,l=a<o?a:o;for(let c=0;c<l;++c)if(i[c]!==s[c])return i[c]<s[c]?-1:1;return a===o?0:a<o?-1:1}(vm(e),vm(t));case"Array":return function(i,s){const a=i.length,o=s.length,l=a<o?a:o;for(let c=0;c<l;++c){const u=Xe(i[c],s[c]);if(u!==0)return u}return a===o?0:a<o?-1:1}(e,t)}}catch{}return NaN}function ym(e){const t=typeof e;if(t!=="object")return t;if(ArrayBuffer.isView(e))return"binary";const n=Jc(e);return n==="ArrayBuffer"?"binary":n}function vm(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class Ux{_read(t,n){var r=this._ctx;return r.error?r.table._trans(null,ke.bind(null,r.error)):r.table._trans("readonly",t).then(n)}_write(t){var n=this._ctx;return n.error?n.table._trans(null,ke.bind(null,n.error)):n.table._trans("readwrite",t,"locked")}_addAlgorithm(t){var n=this._ctx;n.algorithm=Cr(n.algorithm,t)}_iterate(t,n){return za(this._ctx,t,n,this._ctx.table.core)}clone(t){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return t&&qe(r,t),n._ctx=r,n}raw(){return this._ctx.valueMapper=null,this}each(t){var n=this._ctx;return this._read(r=>za(n,t,r,n.table.core))}count(t){return this._read(n=>{const r=this._ctx,i=r.table.core;if(Lr(r,!0))return i.count({trans:n,query:{index:bo(r,i.schema),range:r.range}}).then(a=>Math.min(a,r.limit));var s=0;return za(r,()=>(++s,!1),n,i).then(()=>s)}).then(t)}sortBy(t,n){const r=t.split(".").reverse(),i=r[0],s=r.length-1;function a(c,u){return u?a(c[r[u]],u-1):c[i]}var o=this._ctx.dir==="next"?1:-1;function l(c,u){var f=a(c,s),d=a(u,s);return f<d?-o:f>d?o:0}return this.toArray(function(c){return c.sort(l)}).then(n)}toArray(t){return this._read(n=>{var r=this._ctx;if(r.dir==="next"&&Lr(r,!0)&&r.limit>0){const{valueMapper:i}=r,s=bo(r,r.table.core.schema);return r.table.core.query({trans:n,limit:r.limit,values:!0,query:{index:s,range:r.range}}).then(({result:a})=>i?a.map(i):a)}{const i=[];return za(r,s=>i.push(s),n,r.table.core).then(()=>i)}},t)}offset(t){var n=this._ctx;return t<=0||(n.offset+=t,Lr(n)?Lu(n,()=>{var r=t;return(i,s)=>r===0||(r===1?(--r,!1):(s(()=>{i.advance(r),r=0}),!1))}):Lu(n,()=>{var r=t;return()=>--r<0})),this}limit(t){return this._ctx.limit=Math.min(this._ctx.limit,t),Lu(this._ctx,()=>{var n=t;return function(r,i,s){return--n<=0&&i(s),n>=0}},!0),this}until(t,n){return Ou(this._ctx,function(r,i,s){return!t(r.value)||(i(s),n)}),this}first(t){return this.limit(1).toArray(function(n){return n[0]}).then(t)}last(t){return this.reverse().first(t)}filter(t){var n,r;return Ou(this._ctx,function(i){return t(i.value)}),n=this._ctx,r=t,n.isMatch=Cr(n.isMatch,r),this}and(t){return this.filter(t)}or(t){return new this.db.WhereClause(this._ctx.table,t,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){t(i.key,i)})}eachUniqueKey(t){return this._ctx.unique="unique",this.eachKey(t)}eachPrimaryKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){t(i.primaryKey,i)})}keys(t){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,s){r.push(s.key)}).then(function(){return r}).then(t)}primaryKeys(t){var n=this._ctx;if(n.dir==="next"&&Lr(n,!0)&&n.limit>0)return this._read(i=>{var s=bo(n,n.table.core.schema);return n.table.core.query({trans:i,values:!1,limit:n.limit,query:{index:s,range:n.range}})}).then(({result:i})=>i).then(t);n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,s){r.push(s.primaryKey)}).then(function(){return r}).then(t)}uniqueKeys(t){return this._ctx.unique="unique",this.keys(t)}firstKey(t){return this.limit(1).keys(function(n){return n[0]}).then(t)}lastKey(t){return this.reverse().firstKey(t)}distinct(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var r={};return Ou(this._ctx,function(i){var s=i.primaryKey.toString(),a=gt(r,s);return r[s]=!0,!a}),this}modify(t){var n=this._ctx;return this._write(r=>{var i;if(typeof t=="function")i=t;else{var s=xe(t),a=s.length;i=function(m){for(var x=!1,g=0;g<a;++g){var h=s[g],v=t[h];pn(m,h)!==v&&(Dt(m,h,v),x=!0)}return x}}const o=n.table.core,{outbound:l,extractKey:c}=o.schema.primaryKey,u=this.db._options.modifyChunkSize||200,f=[];let d=0;const p=[],y=(m,x)=>{const{failures:g,numFailures:h}=x;d+=m-h;for(let v of xe(g))f.push(g[v])};return this.clone().primaryKeys().then(m=>{const x=g=>{const h=Math.min(u,m.length-g);return o.getMany({trans:r,keys:m.slice(g,g+h),cache:"immutable"}).then(v=>{const E=[],w=[],A=l?[]:null,_=[];for(let C=0;C<h;++C){const I=v[C],P={value:ca(I),primKey:m[g+C]};i.call(P,P.value,P)!==!1&&(P.value==null?_.push(m[g+C]):l||Xe(c(I),c(P.value))===0?(w.push(P.value),l&&A.push(m[g+C])):(_.push(m[g+C]),E.push(P.value)))}const S=Lr(n)&&n.limit===1/0&&(typeof t!="function"||t===$u)&&{index:n.index,range:n.range};return Promise.resolve(E.length>0&&o.mutate({trans:r,type:"add",values:E}).then(C=>{for(let I in C.failures)_.splice(parseInt(I),1);y(E.length,C)})).then(()=>(w.length>0||S&&typeof t=="object")&&o.mutate({trans:r,type:"put",keys:A,values:w,criteria:S,changeSpec:typeof t!="function"&&t}).then(C=>y(w.length,C))).then(()=>(_.length>0||S&&t===$u)&&o.mutate({trans:r,type:"delete",keys:_,criteria:S}).then(C=>y(_.length,C))).then(()=>m.length>g+h&&x(g+u))})};return x(0).then(()=>{if(f.length>0)throw new al("Error modifying one or more objects",f,d,p);return m.length})})})}delete(){var t=this._ctx,n=t.range;return Lr(t)&&(t.isPrimKey&&!jx||n.type===3)?this._write(r=>{const{primaryKey:i}=t.table.core.schema,s=n;return t.table.core.count({trans:r,query:{index:i,range:s}}).then(a=>t.table.core.mutate({trans:r,type:"deleteRange",range:s}).then(({failures:o,lastResult:l,results:c,numFailures:u})=>{if(u)throw new al("Could not delete some values",Object.keys(o).map(f=>o[f]),a-u);return a-u}))}):this.modify($u)}}const $u=(e,t)=>t.value=null;function Qx(e,t){return e<t?-1:e===t?0:1}function zx(e,t){return e>t?-1:e===t?0:1}function ut(e,t,n){var r=e instanceof ov?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function $r(e){return new e.Collection(e,()=>av("")).limit(0)}function Gx(e,t,n,r,i,s){for(var a=Math.min(e.length,r.length),o=-1,l=0;l<a;++l){var c=t[l];if(c!==r[l])return i(e[l],n[l])<0?e.substr(0,l)+n[l]+n.substr(l+1):i(e[l],r[l])<0?e.substr(0,l)+r[l]+n.substr(l+1):o>=0?e.substr(0,o)+t[o]+n.substr(o+1):null;i(e[l],c)<0&&(o=l)}return a<r.length&&s==="next"?e+n.substr(e.length):a<e.length&&s==="prev"?e.substr(0,n.length):o<0?null:e.substr(0,o)+r[o]+n.substr(o+1)}function Ga(e,t,n,r){var i,s,a,o,l,c,u,f=n.length;if(!n.every(m=>typeof m=="string"))return ut(e,rv);function d(m){i=function(g){return g==="next"?h=>h.toUpperCase():h=>h.toLowerCase()}(m),s=function(g){return g==="next"?h=>h.toLowerCase():h=>h.toUpperCase()}(m),a=m==="next"?Qx:zx;var x=n.map(function(g){return{lower:s(g),upper:i(g)}}).sort(function(g,h){return a(g.lower,h.lower)});o=x.map(function(g){return g.upper}),l=x.map(function(g){return g.lower}),c=m,u=m==="next"?"":r}d("next");var p=new e.Collection(e,()=>In(o[0],l[f-1]+r));p._ondirectionchange=function(m){d(m)};var y=0;return p._addAlgorithm(function(m,x,g){var h=m.key;if(typeof h!="string")return!1;var v=s(h);if(t(v,l,y))return!0;for(var E=null,w=y;w<f;++w){var A=Gx(h,v,o[w],l[w],a,c);A===null&&E===null?y=w+1:(E===null||a(E,A)>0)&&(E=A)}return x(E!==null?function(){m.continue(E+u)}:g),!1}),p}function In(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function av(e){return{type:1,lower:e,upper:e}}class ov{get Collection(){return this._ctx.table.db.Collection}between(t,n,r,i){r=r!==!1,i=i===!0;try{return this._cmp(t,n)>0||this._cmp(t,n)===0&&(r||i)&&(!r||!i)?$r(this):new this.Collection(this,()=>In(t,n,!r,!i))}catch{return ut(this,tn)}}equals(t){return t==null?ut(this,tn):new this.Collection(this,()=>av(t))}above(t){return t==null?ut(this,tn):new this.Collection(this,()=>In(t,void 0,!0))}aboveOrEqual(t){return t==null?ut(this,tn):new this.Collection(this,()=>In(t,void 0,!1))}below(t){return t==null?ut(this,tn):new this.Collection(this,()=>In(void 0,t,!1,!0))}belowOrEqual(t){return t==null?ut(this,tn):new this.Collection(this,()=>In(void 0,t))}startsWith(t){return typeof t!="string"?ut(this,rv):this.between(t,t+fr,!0,!0)}startsWithIgnoreCase(t){return t===""?this.startsWith(t):Ga(this,(n,r)=>n.indexOf(r[0])===0,[t],fr)}equalsIgnoreCase(t){return Ga(this,(n,r)=>n===r[0],[t],"")}anyOfIgnoreCase(){var t=ln.apply(Ur,arguments);return t.length===0?$r(this):Ga(this,(n,r)=>r.indexOf(n)!==-1,t,"")}startsWithAnyOfIgnoreCase(){var t=ln.apply(Ur,arguments);return t.length===0?$r(this):Ga(this,(n,r)=>r.some(i=>n.indexOf(i)===0),t,fr)}anyOf(){const t=ln.apply(Ur,arguments);let n=this._cmp;try{t.sort(n)}catch{return ut(this,tn)}if(t.length===0)return $r(this);const r=new this.Collection(this,()=>In(t[0],t[t.length-1]));r._ondirectionchange=s=>{n=s==="next"?this._ascending:this._descending,t.sort(n)};let i=0;return r._addAlgorithm((s,a,o)=>{const l=s.key;for(;n(l,t[i])>0;)if(++i,i===t.length)return a(o),!1;return n(l,t[i])===0||(a(()=>{s.continue(t[i])}),!1)}),r}notEqual(t){return this.inAnyRange([[ff,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const t=ln.apply(Ur,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch{return ut(this,tn)}const n=t.reduce((r,i)=>r?r.concat([[r[r.length-1][1],i]]):[[ff,i]],null);return n.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})}inAnyRange(t,n){const r=this._cmp,i=this._ascending,s=this._descending,a=this._min,o=this._max;if(t.length===0)return $r(this);if(!t.every(h=>h[0]!==void 0&&h[1]!==void 0&&i(h[0],h[1])<=0))return ut(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Y.InvalidArgument);const l=!n||n.includeLowers!==!1,c=n&&n.includeUppers===!0;let u,f=i;function d(h,v){return f(h[0],v[0])}try{u=t.reduce(function(h,v){let E=0,w=h.length;for(;E<w;++E){const A=h[E];if(r(v[0],A[1])<0&&r(v[1],A[0])>0){A[0]=a(A[0],v[0]),A[1]=o(A[1],v[1]);break}}return E===w&&h.push(v),h},[]),u.sort(d)}catch{return ut(this,tn)}let p=0;const y=c?h=>i(h,u[p][1])>0:h=>i(h,u[p][1])>=0,m=l?h=>s(h,u[p][0])>0:h=>s(h,u[p][0])>=0;let x=y;const g=new this.Collection(this,()=>In(u[0][0],u[u.length-1][1],!l,!c));return g._ondirectionchange=h=>{h==="next"?(x=y,f=i):(x=m,f=s),u.sort(d)},g._addAlgorithm((h,v,E)=>{for(var w=h.key;x(w);)if(++p,p===u.length)return v(E),!1;return!!function(A){return!y(A)&&!m(A)}(w)||(this._cmp(w,u[p][1])===0||this._cmp(w,u[p][0])===0||v(()=>{f===i?h.continue(u[p][0]):h.continue(u[p][1])}),!1)}),g}startsWithAnyOf(){const t=ln.apply(Ur,arguments);return t.every(n=>typeof n=="string")?t.length===0?$r(this):this.inAnyRange(t.map(n=>[n,n+fr])):ut(this,"startsWithAnyOf() only works with strings")}}function Wt(e){return ue(function(t){return Xs(t),e(t.target.error),!1})}function Xs(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const Ys="storagemutated",On="x-storagemutated-1",Yn=Es(null,Ys);class Wx{_lock(){return rs(!H.global),++this._reculock,this._reculock!==1||H.global||(H.lockOwnerFor=this),this}_unlock(){if(rs(!H.global),--this._reculock==0)for(H.global||(H.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{ki(t[1],t[0])}catch{}}return this}_locked(){return this._reculock&&H.lockOwnerFor!==this}create(t){if(!this.mode)return this;const n=this.db.idbdb,r=this.db._state.dbOpenError;if(rs(!this.idbtrans),!t&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new Y.DatabaseClosed(r);case"MissingAPIError":throw new Y.MissingAPI(r.message,r);default:throw new Y.OpenFailed(r)}if(!this.active)throw new Y.TransactionInactive;return rs(this._completion._state===null),(t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=ue(i=>{Xs(i),this._reject(t.error)}),t.onabort=ue(i=>{Xs(i),this.active&&this._reject(new Y.Abort(t.error)),this.active=!1,this.on("abort").fire(i)}),t.oncomplete=ue(()=>{this.active=!1,this._resolve(),"mutatedParts"in t&&Yn.storagemutated.fire(t.mutatedParts)}),this}_promise(t,n,r){if(t==="readwrite"&&this.mode!=="readwrite")return ke(new Y.ReadOnly("Transaction is readonly"));if(!this.active)return ke(new Y.TransactionInactive);if(this._locked())return new z((s,a)=>{this._blockedFuncs.push([()=>{this._promise(t,n,r).then(s,a)},H])});if(r)return Kn(()=>{var s=new z((a,o)=>{this._lock();const l=n(a,o,this);l&&l.then&&l.then(a,o)});return s.finally(()=>this._unlock()),s._lib=!0,s});var i=new z((s,a)=>{var o=n(s,a,this);o&&o.then&&o.then(s,a)});return i._lib=!0,i}_root(){return this.parent?this.parent._root():this}waitFor(t){var n=this._root();const r=z.resolve(t);if(n._waitingFor)n._waitingFor=n._waitingFor.then(()=>r);else{n._waitingFor=r,n._waitingQueue=[];var i=n.idbtrans.objectStore(n.storeNames[0]);(function a(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(i.get(-1/0).onsuccess=a)})()}var s=n._waitingFor;return new z((a,o)=>{r.then(l=>n._waitingQueue.push(ue(a.bind(null,l))),l=>n._waitingQueue.push(ue(o.bind(null,l)))).finally(()=>{n._waitingFor===s&&(n._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Y.Abort))}table(t){const n=this._memoizedTables||(this._memoizedTables={});if(gt(n,t))return n[t];const r=this.schema[t];if(!r)throw new Y.NotFound("Table "+t+" not part of transaction");const i=new this.db.Table(t,r,this);return i.core=this.db.core.table(t),n[t]=i,i}}function df(e,t,n,r,i,s,a){return{name:e,keyPath:t,unique:n,multi:r,auto:i,compound:s,src:(n&&!a?"&":"")+(r?"*":"")+(i?"++":"")+lv(t)}}function lv(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function uv(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:M0(n,r=>[r.name,r])}}let qs=e=>{try{return e.only([[]]),qs=()=>[[]],[[]]}catch{return qs=()=>fr,fr}};function hf(e){return e==null?()=>{}:typeof e=="string"?function(t){return t.split(".").length===1?r=>r[t]:r=>pn(r,t)}(e):t=>pn(t,e)}function wm(e){return[].slice.call(e)}let Hx=0;function Ss(e){return e==null?":id":typeof e=="string"?e:`[${e.join("+")}]`}function Vx(e,t,n){function r(l){if(l.type===3)return null;if(l.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:c,upper:u,lowerOpen:f,upperOpen:d}=l;return c===void 0?u===void 0?null:t.upperBound(u,!!d):u===void 0?t.lowerBound(c,!!f):t.bound(c,u,!!f,!!d)}const{schema:i,hasGetAll:s}=function(l,c){const u=wm(l.objectStoreNames);return{schema:{name:l.name,tables:u.map(f=>c.objectStore(f)).map(f=>{const{keyPath:d,autoIncrement:p}=f,y=Ge(d),m=d==null,x={},g={name:f.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:m,compound:y,keyPath:d,autoIncrement:p,unique:!0,extractKey:hf(d)},indexes:wm(f.indexNames).map(h=>f.index(h)).map(h=>{const{name:v,unique:E,multiEntry:w,keyPath:A}=h,_={name:v,compound:Ge(A),keyPath:A,unique:E,multiEntry:w,extractKey:hf(A)};return x[Ss(A)]=_,_}),getIndexByKeyPath:h=>x[Ss(h)]};return x[":id"]=g.primaryKey,d!=null&&(x[Ss(d)]=g.primaryKey),g})},hasGetAll:u.length>0&&"getAll"in c.objectStore(u[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),a=i.tables.map(l=>function(c){const u=c.name;return{name:u,schema:c,mutate:function({trans:f,type:d,keys:p,values:y,range:m}){return new Promise((x,g)=>{x=ue(x);const h=f.objectStore(u),v=h.keyPath==null,E=d==="put"||d==="add";if(!E&&d!=="delete"&&d!=="deleteRange")throw new Error("Invalid operation type: "+d);const{length:w}=p||y||{length:1};if(p&&y&&p.length!==y.length)throw new Error("Given keys array must have same length as given values array.");if(w===0)return x({numFailures:0,failures:{},results:[],lastResult:void 0});let A;const _=[],S=[];let C=0;const I=F=>{++C,Xs(F)};if(d==="deleteRange"){if(m.type===4)return x({numFailures:C,failures:S,results:[],lastResult:void 0});m.type===3?_.push(A=h.clear()):_.push(A=h.delete(r(m)))}else{const[F,N]=E?v?[y,p]:[y,null]:[p,null];if(E)for(let L=0;L<w;++L)_.push(A=N&&N[L]!==void 0?h[d](F[L],N[L]):h[d](F[L])),A.onerror=I;else for(let L=0;L<w;++L)_.push(A=h[d](F[L])),A.onerror=I}const P=F=>{const N=F.target.result;_.forEach((L,$)=>L.error!=null&&(S[$]=L.error)),x({numFailures:C,failures:S,results:d==="delete"?p:_.map(L=>L.result),lastResult:N})};A.onerror=F=>{I(F),P(F)},A.onsuccess=P})},getMany:({trans:f,keys:d})=>new Promise((p,y)=>{p=ue(p);const m=f.objectStore(u),x=d.length,g=new Array(x);let h,v=0,E=0;const w=_=>{const S=_.target;g[S._pos]=S.result,++E===v&&p(g)},A=Wt(y);for(let _=0;_<x;++_)d[_]!=null&&(h=m.get(d[_]),h._pos=_,h.onsuccess=w,h.onerror=A,++v);v===0&&p(g)}),get:({trans:f,key:d})=>new Promise((p,y)=>{p=ue(p);const m=f.objectStore(u).get(d);m.onsuccess=x=>p(x.target.result),m.onerror=Wt(y)}),query:function(f){return d=>new Promise((p,y)=>{p=ue(p);const{trans:m,values:x,limit:g,query:h}=d,v=g===1/0?void 0:g,{index:E,range:w}=h,A=m.objectStore(u),_=E.isPrimaryKey?A:A.index(E.name),S=r(w);if(g===0)return p({result:[]});if(f){const C=x?_.getAll(S,v):_.getAllKeys(S,v);C.onsuccess=I=>p({result:I.target.result}),C.onerror=Wt(y)}else{let C=0;const I=x||!("openKeyCursor"in _)?_.openCursor(S):_.openKeyCursor(S),P=[];I.onsuccess=F=>{const N=I.result;return N?(P.push(x?N.value:N.primaryKey),++C===g?p({result:P}):void N.continue()):p({result:P})},I.onerror=Wt(y)}})}(s),openCursor:function({trans:f,values:d,query:p,reverse:y,unique:m}){return new Promise((x,g)=>{x=ue(x);const{index:h,range:v}=p,E=f.objectStore(u),w=h.isPrimaryKey?E:E.index(h.name),A=y?m?"prevunique":"prev":m?"nextunique":"next",_=d||!("openKeyCursor"in w)?w.openCursor(r(v),A):w.openKeyCursor(r(v),A);_.onerror=Wt(g),_.onsuccess=ue(S=>{const C=_.result;if(!C)return void x(null);C.___id=++Hx,C.done=!1;const I=C.continue.bind(C);let P=C.continuePrimaryKey;P&&(P=P.bind(C));const F=C.advance.bind(C),N=()=>{throw new Error("Cursor not stopped")};C.trans=f,C.stop=C.continue=C.continuePrimaryKey=C.advance=()=>{throw new Error("Cursor not started")},C.fail=ue(g),C.next=function(){let L=1;return this.start(()=>L--?this.continue():this.stop()).then(()=>this)},C.start=L=>{const $=new Promise((O,k)=>{O=ue(O),_.onerror=Wt(k),C.fail=k,C.stop=B=>{C.stop=C.continue=C.continuePrimaryKey=C.advance=N,O(B)}}),R=()=>{if(_.result)try{L()}catch(O){C.fail(O)}else C.done=!0,C.start=()=>{throw new Error("Cursor behind last entry")},C.stop()};return _.onsuccess=ue(O=>{_.onsuccess=R,R()}),C.continue=I,C.continuePrimaryKey=P,C.advance=F,R(),$},x(C)},g)})},count({query:f,trans:d}){const{index:p,range:y}=f;return new Promise((m,x)=>{const g=d.objectStore(u),h=p.isPrimaryKey?g:g.index(p.name),v=r(y),E=v?h.count(v):h.count();E.onsuccess=ue(w=>m(w.target.result)),E.onerror=Wt(x)})}}}(l)),o={};return a.forEach(l=>o[l.name]=l),{stack:"dbcore",transaction:e.transaction.bind(e),table(l){if(!o[l])throw new Error(`Table '${l}' not found`);return o[l]},MIN_KEY:-1/0,MAX_KEY:qs(t),schema:i}}function pf({_novip:e},t){const n=t.db,r=function(i,s,{IDBKeyRange:a,indexedDB:o},l){return{dbcore:function(u,f){return f.reduce((d,{create:p})=>({...d,...p(d)}),u)}(Vx(s,a,l),i.dbcore)}}(e._middlewares,n,e._deps,t);e.core=r.dbcore,e.tables.forEach(i=>{const s=i.name;e.core.schema.tables.some(a=>a.name===s)&&(i.core=e.core.table(s),e[s]instanceof e.Table&&(e[s].core=i.core))})}function fl({_novip:e},t,n,r){n.forEach(i=>{const s=r[i];t.forEach(a=>{const o=Nd(a,i);(!o||"value"in o&&o.value===void 0)&&(a===e.Transaction.prototype||a instanceof e.Transaction?hn(a,i,{get(){return this.table(i)},set(l){D0(this,i,{value:l,writable:!0,configurable:!0,enumerable:!0})}}):a[i]=new e.Table(i,s))})})}function mf({_novip:e},t){t.forEach(n=>{for(let r in n)n[r]instanceof e.Table&&delete n[r]})}function Kx(e,t){return e._cfg.version-t._cfg.version}function Xx(e,t,n,r){const i=e._dbSchema,s=e._createTransaction("readwrite",e._storeNames,i);s.create(n),s._completion.catch(r);const a=s._reject.bind(s),o=H.transless||H;Kn(()=>{H.trans=s,H.transless=o,t===0?(xe(i).forEach(l=>{Nu(n,l,i[l].primKey,i[l].indexes)}),pf(e,n),z.follow(()=>e.on.populate.fire(s)).catch(a)):function({_novip:l},c,u,f){const d=[],p=l._versions;let y=l._dbSchema=yf(l,l.idbdb,f),m=!1;const x=p.filter(h=>h._cfg.version>=c);function g(){return d.length?z.resolve(d.shift()(u.idbtrans)).then(g):z.resolve()}return x.forEach(h=>{d.push(()=>{const v=y,E=h._cfg.dbschema;vf(l,v,f),vf(l,E,f),y=l._dbSchema=E;const w=cv(v,E);w.add.forEach(_=>{Nu(f,_[0],_[1].primKey,_[1].indexes)}),w.change.forEach(_=>{if(_.recreate)throw new Y.Upgrade("Not yet support for changing primary key");{const S=f.objectStore(_.name);_.add.forEach(C=>gf(S,C)),_.change.forEach(C=>{S.deleteIndex(C.name),gf(S,C)}),_.del.forEach(C=>S.deleteIndex(C))}});const A=h._cfg.contentUpgrade;if(A&&h._cfg.version>c){pf(l,f),u._memoizedTables={},m=!0;let _=U0(E);w.del.forEach(P=>{_[P]=v[P]}),mf(l,[l.Transaction.prototype]),fl(l,[l.Transaction.prototype],xe(_),_),u.schema=_;const S=Dd(A);let C;S&&bi();const I=z.follow(()=>{if(C=A(u),C&&S){var P=wn.bind(null,null);C.then(P,P)}});return C&&typeof C.then=="function"?z.resolve(C):I.then(()=>C)}}),d.push(v=>{(!m||!Fx)&&function(E,w){[].slice.call(w.db.objectStoreNames).forEach(A=>E[A]==null&&w.db.deleteObjectStore(A))}(h._cfg.dbschema,v),mf(l,[l.Transaction.prototype]),fl(l,[l.Transaction.prototype],l._storeNames,l._dbSchema),u.schema=l._dbSchema})}),g().then(()=>{var h,v;v=f,xe(h=y).forEach(E=>{v.db.objectStoreNames.contains(E)||Nu(v,E,h[E].primKey,h[E].indexes)})})}(e,t,s,n).catch(a)})}function cv(e,t){const n={del:[],add:[],change:[]};let r;for(r in e)t[r]||n.del.push(r);for(r in t){const i=e[r],s=t[r];if(i){const a={name:r,def:s,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(s.primKey.keyPath||"")||i.primKey.auto!==s.primKey.auto&&!$l)a.recreate=!0,n.change.push(a);else{const o=i.idxByName,l=s.idxByName;let c;for(c in o)l[c]||a.del.push(c);for(c in l){const u=o[c],f=l[c];u?u.src!==f.src&&a.change.push(f):a.add.push(f)}(a.del.length>0||a.add.length>0||a.change.length>0)&&n.change.push(a)}}else n.add.push([r,s])}return n}function Nu(e,t,n,r){const i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(s=>gf(i,s)),i}function gf(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function yf(e,t,n){const r={};return sl(t.objectStoreNames,0).forEach(i=>{const s=n.objectStore(i);let a=s.keyPath;const o=df(lv(a),a||"",!1,!1,!!s.autoIncrement,a&&typeof a!="string",!0),l=[];for(let u=0;u<s.indexNames.length;++u){const f=s.index(s.indexNames[u]);a=f.keyPath;var c=df(f.name,a,!!f.unique,!!f.multiEntry,!1,a&&typeof a!="string",!1);l.push(c)}r[i]=uv(i,o,l)}),r}function vf({_novip:e},t,n){const r=n.db.objectStoreNames;for(let i=0;i<r.length;++i){const s=r[i],a=n.objectStore(s);e._hasGetAll="getAll"in a;for(let o=0;o<a.indexNames.length;++o){const l=a.indexNames[o],c=a.index(l).keyPath,u=typeof c=="string"?c:"["+sl(c).join("+")+"]";if(t[s]){const f=t[s].idxByName[u];f&&(f.name=l,delete t[s].idxByName[u],t[s].idxByName[l]=f)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&oe.WorkerGlobalScope&&oe instanceof oe.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class Yx{_parseStoresSpec(t,n){xe(t).forEach(r=>{if(t[r]!==null){var i=t[r].split(",").map((a,o)=>{const l=(a=a.trim()).replace(/([&*]|\+\+)/g,""),c=/^\[/.test(l)?l.match(/^\[(.*)\]$/)[1].split("+"):l;return df(l,c||null,/\&/.test(a),/\*/.test(a),/\+\+/.test(a),Ge(c),o===0)}),s=i.shift();if(s.multi)throw new Y.Schema("Primary key cannot be multi-valued");i.forEach(a=>{if(a.auto)throw new Y.Schema("Only primary key can be marked as autoIncrement (++)");if(!a.keyPath)throw new Y.Schema("Index must have a name and cannot be an empty string")}),n[r]=uv(r,s,i)}})}stores(t){const n=this.db;this._cfg.storesSource=this._cfg.storesSource?qe(this._cfg.storesSource,t):t;const r=n._versions,i={};let s={};return r.forEach(a=>{qe(i,a._cfg.storesSource),s=a._cfg.dbschema={},a._parseStoresSpec(i,s)}),n._dbSchema=s,mf(n,[n._allTables,n,n.Transaction.prototype]),fl(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],xe(s),s),n._storeNames=xe(s),this}upgrade(t){return this._cfg.contentUpgrade=Md(this._cfg.contentUpgrade||ie,t),this}}function Gd(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new vr(Nl,{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function Wd(e){return e&&typeof e.databases=="function"}function wf(e){return Kn(function(){return H.letThrough=!0,e()})}function qx(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()}).finally(function(){return clearInterval(e)}):Promise.resolve()}function Jx(e){const t=e._state,{indexedDB:n}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(()=>t.dbOpenError?ke(t.dbOpenError):e);Zt&&(t.openCanceller._stackHolder=Tr()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const r=t.openCanceller;function i(){if(t.openCanceller!==r)throw new Y.DatabaseClosed("db.open() was cancelled")}let s=t.dbReadyResolve,a=null,o=!1;const l=()=>new z((c,u)=>{if(i(),!n)throw new Y.MissingAPI;const f=e.name,d=t.autoSchema?n.open(f):n.open(f,Math.round(10*e.verno));if(!d)throw new Y.MissingAPI;d.onerror=Wt(u),d.onblocked=ue(e._fireOnBlocked),d.onupgradeneeded=ue(p=>{if(a=d.transaction,t.autoSchema&&!e._options.allowEmptyDB){d.onerror=Xs,a.abort(),d.result.close();const m=n.deleteDatabase(f);m.onsuccess=m.onerror=ue(()=>{u(new Y.NoSuchDatabase(`Database ${f} doesnt exist`))})}else{a.onerror=Wt(u);var y=p.oldVersion>Math.pow(2,62)?0:p.oldVersion;o=y<1,e._novip.idbdb=d.result,Xx(e,y/10,a,u)}},u),d.onsuccess=ue(()=>{a=null;const p=e._novip.idbdb=d.result,y=sl(p.objectStoreNames);if(y.length>0)try{const x=p.transaction((m=y).length===1?m[0]:m,"readonly");t.autoSchema?function({_novip:g},h,v){g.verno=h.version/10;const E=g._dbSchema=yf(0,h,v);g._storeNames=sl(h.objectStoreNames,0),fl(g,[g._allTables],xe(E),E)}(e,p,x):(vf(e,e._dbSchema,x),function(g,h){const v=cv(yf(0,g.idbdb,h),g._dbSchema);return!(v.add.length||v.change.some(E=>E.add.length||E.change.length))}(e,x)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),pf(e,x)}catch{}var m;xs.push(e),p.onversionchange=ue(x=>{t.vcFired=!0,e.on("versionchange").fire(x)}),p.onclose=ue(x=>{e.on("close").fire(x)}),o&&function({indexedDB:x,IDBKeyRange:g},h){!Wd(x)&&h!==Nl&&Gd(x,g).put({name:h}).catch(ie)}(e._deps,f),c()},u)}).catch(c=>c&&c.name==="UnknownError"&&t.PR1398_maxLoop>0?(t.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),l()):z.reject(c));return z.race([r,(typeof navigator>"u"?z.resolve():qx()).then(l)]).then(()=>(i(),t.onReadyBeingFired=[],z.resolve(wf(()=>e.on.ready.fire(e.vip))).then(function c(){if(t.onReadyBeingFired.length>0){let u=t.onReadyBeingFired.reduce(Md,ie);return t.onReadyBeingFired=[],z.resolve(wf(()=>u(e.vip))).then(c)}}))).finally(()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1}).then(()=>e).catch(c=>{t.dbOpenError=c;try{a&&a.abort()}catch{}return r===t.openCanceller&&e._close(),ke(c)}).finally(()=>{t.openComplete=!0,s()})}function Af(e){var t=s=>e.next(s),n=i(t),r=i(s=>e.throw(s));function i(s){return a=>{var o=s(a),l=o.value;return o.done?l:l&&typeof l.then=="function"?l.then(n,r):Ge(l)?Promise.all(l).then(n,r):n(l)}}return i(t)()}function Zx(e,t,n){var r=arguments.length;if(r<2)throw new Y.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];return n=i.pop(),[e,Q0(i),n]}function fv(e,t,n,r,i){return z.resolve().then(()=>{const s=H.transless||H,a=e._createTransaction(t,n,e._dbSchema,r),o={trans:a,transless:s};if(r)a.idbtrans=r.idbtrans;else try{a.create(),e._state.PR1398_maxLoop=3}catch(f){return f.name===jd.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>fv(e,t,n,null,i))):ke(f)}const l=Dd(i);let c;l&&bi();const u=z.follow(()=>{if(c=i.call(a,a),c)if(l){var f=wn.bind(null,null);c.then(f,f)}else typeof c.next=="function"&&typeof c.throw=="function"&&(c=Af(c))},o);return(c&&typeof c.then=="function"?z.resolve(c).then(f=>a.active?f:ke(new Y.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):u.then(()=>c)).then(f=>(r&&a._resolve(),a._completion.then(()=>f))).catch(f=>(a._reject(f),ke(f)))})}function Wa(e,t,n){const r=Ge(e)?e.slice():[e];for(let i=0;i<n;++i)r.push(t);return r}const eE={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const n=e.table(t),{schema:r}=n,i={},s=[];function a(u,f,d){const p=Ss(u),y=i[p]=i[p]||[],m=u==null?0:typeof u=="string"?1:u.length,x=f>0,g={...d,isVirtual:x,keyTail:f,keyLength:m,extractKey:hf(u),unique:!x&&d.unique};return y.push(g),g.isPrimaryKey||s.push(g),m>1&&a(m===2?u[0]:u.slice(0,m-1),f+1,d),y.sort((h,v)=>h.keyTail-v.keyTail),g}const o=a(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[o];for(const u of r.indexes)a(u.keyPath,0,u);function l(u){const f=u.query.index;return f.isVirtual?{...u,query:{index:f,range:(d=u.query.range,p=f.keyTail,{type:d.type===1?2:d.type,lower:Wa(d.lower,d.lowerOpen?e.MAX_KEY:e.MIN_KEY,p),lowerOpen:!0,upper:Wa(d.upper,d.upperOpen?e.MIN_KEY:e.MAX_KEY,p),upperOpen:!0})}}:u;var d,p}return{...n,schema:{...r,primaryKey:o,indexes:s,getIndexByKeyPath:function(u){const f=i[Ss(u)];return f&&f[0]}},count:u=>n.count(l(u)),query:u=>n.query(l(u)),openCursor(u){const{keyTail:f,isVirtual:d,keyLength:p}=u.query.index;return d?n.openCursor(l(u)).then(y=>y&&function(m){return Object.create(m,{continue:{value:function(g){g!=null?m.continue(Wa(g,u.reverse?e.MAX_KEY:e.MIN_KEY,f)):u.unique?m.continue(m.key.slice(0,p).concat(u.reverse?e.MIN_KEY:e.MAX_KEY,f)):m.continue()}},continuePrimaryKey:{value(g,h){m.continuePrimaryKey(Wa(g,e.MAX_KEY,f),h)}},primaryKey:{get:()=>m.primaryKey},key:{get(){const g=m.key;return p===1?g[0]:g.slice(0,p)}},value:{get:()=>m.value}})}(y)):n.openCursor(u)}}}}}};function Hd(e,t,n,r){return n=n||{},r=r||"",xe(e).forEach(i=>{if(gt(t,i)){var s=e[i],a=t[i];if(typeof s=="object"&&typeof a=="object"&&s&&a){const o=Jc(s);o!==Jc(a)?n[r+i]=t[i]:o==="Object"?Hd(s,a,n,r+i+"."):s!==a&&(n[r+i]=t[i])}else s!==a&&(n[r+i]=t[i])}else n[r+i]=void 0}),xe(t).forEach(i=>{gt(e,i)||(n[r+i]=t[i])}),n}const tE={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const n=e.table(t),{primaryKey:r}=n.schema;return{...n,mutate(s){const a=H.trans,{deleting:o,creating:l,updating:c}=a.table(t).hook;switch(s.type){case"add":if(l.fire===ie)break;return a._promise("readwrite",()=>u(s),!0);case"put":if(l.fire===ie&&c.fire===ie)break;return a._promise("readwrite",()=>u(s),!0);case"delete":if(o.fire===ie)break;return a._promise("readwrite",()=>u(s),!0);case"deleteRange":if(o.fire===ie)break;return a._promise("readwrite",()=>function(d){return f(d.trans,d.range,1e4)}(s),!0)}return n.mutate(s);function u(d){const p=H.trans,y=d.keys||function(m,x){return x.type==="delete"?x.keys:x.keys||x.values.map(m.extractKey)}(r,d);if(!y)throw new Error("Keys missing");return(d=d.type==="add"||d.type==="put"?{...d,keys:y}:{...d}).type!=="delete"&&(d.values=[...d.values]),d.keys&&(d.keys=[...d.keys]),function(m,x,g){return x.type==="add"?Promise.resolve([]):m.getMany({trans:x.trans,keys:g,cache:"immutable"})}(n,d,y).then(m=>{const x=y.map((g,h)=>{const v=m[h],E={onerror:null,onsuccess:null};if(d.type==="delete")o.fire.call(E,g,v,p);else if(d.type==="add"||v===void 0){const w=l.fire.call(E,g,d.values[h],p);g==null&&w!=null&&(g=w,d.keys[h]=g,r.outbound||Dt(d.values[h],r.keyPath,g))}else{const w=Hd(v,d.values[h]),A=c.fire.call(E,w,g,v,p);if(A){const _=d.values[h];Object.keys(A).forEach(S=>{gt(_,S)?_[S]=A[S]:Dt(_,S,A[S])})}}return E});return n.mutate(d).then(({failures:g,results:h,numFailures:v,lastResult:E})=>{for(let w=0;w<y.length;++w){const A=h?h[w]:y[w],_=x[w];A==null?_.onerror&&_.onerror(g[w]):_.onsuccess&&_.onsuccess(d.type==="put"&&m[w]?d.values[w]:A)}return{failures:g,results:h,numFailures:v,lastResult:E}}).catch(g=>(x.forEach(h=>h.onerror&&h.onerror(g)),Promise.reject(g)))})}function f(d,p,y){return n.query({trans:d,values:!1,query:{index:r,range:p},limit:y}).then(({result:m})=>u({type:"delete",keys:m,trans:d}).then(x=>x.numFailures>0?Promise.reject(x.failures[0]):m.length<y?{failures:[],numFailures:0,lastResult:void 0}:f(d,{...p,lower:m[m.length-1],lowerOpen:!0},y)))}}}}})};function dv(e,t,n){try{if(!t||t.keys.length<e.length)return null;const r=[];for(let i=0,s=0;i<t.keys.length&&s<e.length;++i)Xe(t.keys[i],e[s])===0&&(r.push(n?ca(t.values[i]):t.values[i]),++s);return r.length===e.length?r:null}catch{return null}}const nE={stack:"dbcore",level:-1,create:e=>({table:t=>{const n=e.table(t);return{...n,getMany:r=>{if(!r.cache)return n.getMany(r);const i=dv(r.keys,r.trans._cache,r.cache==="clone");return i?z.resolve(i):n.getMany(r).then(s=>(r.trans._cache={keys:r.keys,values:r.cache==="clone"?ca(s):s},s))},mutate:r=>(r.type!=="add"&&(r.trans._cache=null),n.mutate(r))}}})};function Vd(e){return!("from"in e)}const on=function(e,t){if(!this){const n=new on;return e&&"d"in e&&qe(n,e),n}qe(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function Js(e,t,n){const r=Xe(t,n);if(isNaN(r))return;if(r>0)throw RangeError();if(Vd(e))return qe(e,{from:t,to:n,d:1});const i=e.l,s=e.r;if(Xe(n,e.from)<0)return i?Js(i,t,n):e.l={from:t,to:n,d:1,l:null,r:null},Am(e);if(Xe(t,e.to)>0)return s?Js(s,t,n):e.r={from:t,to:n,d:1,l:null,r:null},Am(e);Xe(t,e.from)<0&&(e.from=t,e.l=null,e.d=s?s.d+1:1),Xe(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);const a=!e.r;i&&!e.l&&dl(e,i),s&&a&&dl(e,s)}function dl(e,t){Vd(t)||function n(r,{from:i,to:s,l:a,r:o}){Js(r,i,s),a&&n(r,a),o&&n(r,o)}(e,t)}function rE(e,t){const n=_f(t);let r=n.next();if(r.done)return!1;let i=r.value;const s=_f(e);let a=s.next(i.from),o=a.value;for(;!r.done&&!a.done;){if(Xe(o.from,i.to)<=0&&Xe(o.to,i.from)>=0)return!0;Xe(i.from,o.from)<0?i=(r=n.next(o.from)).value:o=(a=s.next(i.from)).value}return!1}function _f(e){let t=Vd(e)?null:{s:0,n:e};return{next(n){const r=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,r)for(;t.n.l&&Xe(n,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!r||Xe(n,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Am(e){var t,n;const r=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((n=e.l)===null||n===void 0?void 0:n.d)||0),i=r>1?"r":r<-1?"l":"";if(i){const s=i==="r"?"l":"r",a={...e},o=e[i];e.from=o.from,e.to=o.to,e[i]=o[i],a[i]=o[s],e[s]=a,a.d=_m(a)}e.d=_m(e)}function _m({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}xi(on.prototype,{add(e){return dl(this,e),this},addKey(e){return Js(this,e,e),this},addKeys(e){return e.forEach(t=>Js(this,t,t)),this},[Zc](){return _f(this)}});const iE={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,n=new on(e.MIN_KEY,e.MAX_KEY);return{...e,table:r=>{const i=e.table(r),{schema:s}=i,{primaryKey:a}=s,{extractKey:o,outbound:l}=a,c={...i,mutate:d=>{const p=d.trans,y=p.mutatedParts||(p.mutatedParts={}),m=A=>{const _=`idb://${t}/${r}/${A}`;return y[_]||(y[_]=new on)},x=m(""),g=m(":dels"),{type:h}=d;let[v,E]=d.type==="deleteRange"?[d.range]:d.type==="delete"?[d.keys]:d.values.length<50?[[],d.values]:[];const w=d.trans._cache;return i.mutate(d).then(A=>{if(Ge(v)){h!=="delete"&&(v=A.results),x.addKeys(v);const _=dv(v,w);_||h==="add"||g.addKeys(v),(_||E)&&function(S,C,I,P){function F(N){const L=S(N.name||"");function $(O){return O!=null?N.extractKey(O):null}const R=O=>N.multiEntry&&Ge(O)?O.forEach(k=>L.addKey(k)):L.addKey(O);(I||P).forEach((O,k)=>{const B=I&&$(I[k]),T=P&&$(P[k]);Xe(B,T)!==0&&(B!=null&&R(B),T!=null&&R(T))})}C.indexes.forEach(F)}(m,s,_,E)}else if(v){const _={from:v.lower,to:v.upper};g.add(_),x.add(_)}else x.add(n),g.add(n),s.indexes.forEach(_=>m(_.name).add(n));return A})}},u=({query:{index:d,range:p}})=>{var y,m;return[d,new on((y=p.lower)!==null&&y!==void 0?y:e.MIN_KEY,(m=p.upper)!==null&&m!==void 0?m:e.MAX_KEY)]},f={get:d=>[a,new on(d.key)],getMany:d=>[a,new on().addKeys(d.keys)],count:u,query:u,openCursor:u};return xe(f).forEach(d=>{c[d]=function(p){const{subscr:y}=H;if(y){const m=E=>{const w=`idb://${t}/${r}/${E}`;return y[w]||(y[w]=new on)},x=m(""),g=m(":dels"),[h,v]=f[d](p);if(m(h.name||"").add(v),!h.isPrimaryKey){if(d!=="count"){const E=d==="query"&&l&&p.values&&i.query({...p,values:!1});return i[d].apply(this,arguments).then(w=>{if(d==="query"){if(l&&p.values)return E.then(({result:_})=>(x.addKeys(_),w));const A=p.values?w.result.map(o):w.result;p.values?x.addKeys(A):g.addKeys(A)}else if(d==="openCursor"){const A=w,_=p.values;return A&&Object.create(A,{key:{get:()=>(g.addKey(A.primaryKey),A.key)},primaryKey:{get(){const S=A.primaryKey;return g.addKey(S),S}},value:{get:()=>(_&&x.addKey(A.primaryKey),A.value)}})}return w})}g.add(n)}}return i[d].apply(this,arguments)}}),c}}}};class vr{constructor(t,n){this._middlewares={},this.verno=0;const r=vr.dependencies;this._options=n={addons:vr.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,...n},this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};const{addons:i}=n;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const s={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ie,dbReadyPromise:null,cancelOpen:ie,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var a;s.dbReadyPromise=new z(o=>{s.dbReadyResolve=o}),s.openCanceller=new z((o,l)=>{s.cancelOpen=l}),this._state=s,this.name=t,this.on=Es(this,"populate","blocked","versionchange","close",{ready:[Md,ie]}),this.on.ready.subscribe=F0(this.on.ready.subscribe,o=>(l,c)=>{vr.vip(()=>{const u=this._state;if(u.openComplete)u.dbOpenError||z.resolve().then(l),c&&o(l);else if(u.onReadyBeingFired)u.onReadyBeingFired.push(l),c&&o(l);else{o(l);const f=this;c||o(function d(){f.on.ready.unsubscribe(l),f.on.ready.unsubscribe(d)})}})}),this.Collection=(a=this,Ki(Ux.prototype,function(o,l){this.db=a;let c=sv,u=null;if(l)try{c=l()}catch(y){u=y}const f=o._ctx,d=f.table,p=d.hook.reading.fire;this._ctx={table:d,index:f.index,isPrimKey:!f.index||d.schema.primKey.keyPath&&f.index===d.schema.primKey.name,range:c,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:u,or:f.or,valueMapper:p!==Vs?p:null}})),this.Table=function(o){return Ki(Mx.prototype,function(l,c,u){this.db=o,this._tx=u,this.name=l,this.schema=c,this.hook=o._allTables[l]?o._allTables[l].hook:Es(null,{creating:[kx,ie],reading:[bx,Vs],updating:[Px,ie],deleting:[Rx,ie]})})}(this),this.Transaction=function(o){return Ki(Wx.prototype,function(l,c,u,f,d){this.db=o,this.mode=l,this.storeNames=c,this.schema=u,this.chromeTransactionDurability=f,this.idbtrans=null,this.on=Es(this,"complete","error","abort"),this.parent=d||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new z((p,y)=>{this._resolve=p,this._reject=y}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},p=>{var y=this.active;return this.active=!1,this.on.error.fire(p),this.parent?this.parent._reject(p):y&&this.idbtrans&&this.idbtrans.abort(),ke(p)})})}(this),this.Version=function(o){return Ki(Yx.prototype,function(l){this.db=o,this._cfg={version:l,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(o){return Ki(ov.prototype,function(l,c,u){this.db=o,this._ctx={table:l,index:c===":id"?null:c,or:u};const f=o._deps.indexedDB;if(!f)throw new Y.MissingAPI;this._cmp=this._ascending=f.cmp.bind(f),this._descending=(d,p)=>f.cmp(p,d),this._max=(d,p)=>f.cmp(d,p)>0?d:p,this._min=(d,p)=>f.cmp(d,p)<0?d:p,this._IDBKeyRange=o._deps.IDBKeyRange})}(this),this.on("versionchange",o=>{o.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",o=>{!o.newVersion||o.newVersion<o.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${o.oldVersion/10}`)}),this._maxKey=qs(n.IDBKeyRange),this._createTransaction=(o,l,c,u)=>new this.Transaction(o,l,c,this._options.chromeTransactionDurability,u),this._fireOnBlocked=o=>{this.on("blocked").fire(o),xs.filter(l=>l.name===this.name&&l!==this&&!l._state.vcFired).map(l=>l.on("versionchange").fire(o))},this.use(eE),this.use(tE),this.use(iE),this.use(nE),this.vip=Object.create(this,{_vip:{value:!0}}),i.forEach(o=>o(this))}version(t){if(isNaN(t)||t<.1)throw new Y.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new Y.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);const n=this._versions;var r=n.filter(i=>i._cfg.version===t)[0];return r||(r=new this.Version(t),n.push(r),n.sort(Kx),r.stores({}),this._state.autoSchema=!1,r)}_whenReady(t){return this.idbdb&&(this._state.openComplete||H.letThrough||this._vip)?t():new z((n,r)=>{if(this._state.openComplete)return r(new Y.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void r(new Y.DatabaseClosed);this.open().catch(ie)}this._state.dbReadyPromise.then(n,r)}).then(t)}use({stack:t,create:n,level:r,name:i}){i&&this.unuse({stack:t,name:i});const s=this._middlewares[t]||(this._middlewares[t]=[]);return s.push({stack:t,create:n,level:r??10,name:i}),s.sort((a,o)=>a.level-o.level),this}unuse({stack:t,name:n,create:r}){return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(i=>r?i.create!==r:!!n&&i.name!==n)),this}open(){return Jx(this)}_close(){const t=this._state,n=xs.indexOf(this);if(n>=0&&xs.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}t.dbReadyPromise=new z(r=>{t.dbReadyResolve=r}),t.openCanceller=new z((r,i)=>{t.cancelOpen=i})}close(){this._close();const t=this._state;this._options.autoOpen=!1,t.dbOpenError=new Y.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)}delete(){const t=arguments.length>0,n=this._state;return new z((r,i)=>{const s=()=>{this.close();var a=this._deps.indexedDB.deleteDatabase(this.name);a.onsuccess=ue(()=>{(function({indexedDB:o,IDBKeyRange:l},c){!Wd(o)&&c!==Nl&&Gd(o,l).delete(c).catch(ie)})(this._deps,this.name),r()}),a.onerror=Wt(i),a.onblocked=this._fireOnBlocked};if(t)throw new Y.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(s):s()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return xe(this._allTables).map(t=>this._allTables[t])}transaction(){const t=Zx.apply(this,arguments);return this._transaction.apply(this,t)}_transaction(t,n,r){let i=H.trans;i&&i.db===this&&t.indexOf("!")===-1||(i=null);const s=t.indexOf("?")!==-1;let a,o;t=t.replace("!","").replace("?","");try{if(o=n.map(c=>{var u=c instanceof this.Table?c.name:c;if(typeof u!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return u}),t=="r"||t===Bu)a=Bu;else{if(t!="rw"&&t!=Tu)throw new Y.InvalidArgument("Invalid transaction mode: "+t);a=Tu}if(i){if(i.mode===Bu&&a===Tu){if(!s)throw new Y.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i=null}i&&o.forEach(c=>{if(i&&i.storeNames.indexOf(c)===-1){if(!s)throw new Y.SubTransaction("Table "+c+" not included in parent transaction.");i=null}}),s&&i&&!i.active&&(i=null)}}catch(c){return i?i._promise(null,(u,f)=>{f(c)}):ke(c)}const l=fv.bind(null,this,a,o,i,r);return i?i._promise(a,l,"lock"):H.trans?ki(H.transless,()=>this._whenReady(l)):this._whenReady(l)}table(t){if(!gt(this._allTables,t))throw new Y.InvalidTable(`Table ${t} does not exist`);return this._allTables[t]}}const sE=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class aE{constructor(t){this._subscribe=t}subscribe(t,n,r){return this._subscribe(t&&typeof t!="function"?t:{next:t,error:n,complete:r})}[sE](){return this}}function hv(e,t){return xe(t).forEach(n=>{dl(e[n]||(e[n]=new on),t[n])}),e}function pv(e){let t,n=!1;const r=new aE(i=>{const s=Dd(e);let a=!1,o={},l={};const c={get closed(){return a},unsubscribe:()=>{a=!0,Yn.storagemutated.unsubscribe(p)}};i.start&&i.start(c);let u=!1,f=!1;function d(){return xe(l).some(m=>o[m]&&rE(o[m],l[m]))}const p=m=>{hv(o,m),d()&&y()},y=()=>{if(u||a)return;o={};const m={},x=function(g){s&&bi();const h=()=>Kn(e,{subscr:g,trans:null}),v=H.trans?ki(H.transless,h):h();return s&&v.then(wn,wn),v}(m);f||(Yn(Ys,p),f=!0),u=!0,Promise.resolve(x).then(g=>{n=!0,t=g,u=!1,a||(d()?y():(o={},l=m,i.next&&i.next(g)))},g=>{u=!1,n=!1,i.error&&i.error(g),c.unsubscribe()})};return y(),c});return r.hasValue=()=>n,r.getValue=()=>t,r}let xf;try{xf={indexedDB:oe.indexedDB||oe.mozIndexedDB||oe.webkitIndexedDB||oe.msIndexedDB,IDBKeyRange:oe.IDBKeyRange||oe.webkitIDBKeyRange}}catch{xf={indexedDB:null,IDBKeyRange:null}}const nr=vr;function ko(e){let t=fn;try{fn=!0,Yn.storagemutated.fire(e)}finally{fn=t}}xi(nr,{...xo,delete:e=>new nr(e,{addons:[]}).delete(),exists:e=>new nr(e,{addons:[]}).open().then(t=>(t.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(e){try{return function({indexedDB:t,IDBKeyRange:n}){return Wd(t)?Promise.resolve(t.databases()).then(r=>r.map(i=>i.name).filter(i=>i!==Nl)):Gd(t,n).toCollection().primaryKeys()}(nr.dependencies).then(e)}catch{return ke(new Y.MissingAPI)}},defineClass:()=>function(e){qe(this,e)},ignoreTransaction:e=>H.trans?ki(H.transless,e):e(),vip:wf,async:function(e){return function(){try{var t=Af(e.apply(this,arguments));return t&&typeof t.then=="function"?t:z.resolve(t)}catch(n){return ke(n)}}},spawn:function(e,t,n){try{var r=Af(e.apply(n,t||[]));return r&&typeof r.then=="function"?r:z.resolve(r)}catch(i){return ke(i)}},currentTransaction:{get:()=>H.trans||null},waitFor:function(e,t){const n=z.resolve(typeof e=="function"?nr.ignoreTransaction(e):e).timeout(t||6e4);return H.trans?H.trans.waitFor(n):n},Promise:z,debug:{get:()=>Zt,set:e=>{G0(e,e==="dexie"?()=>!0:iv)}},derive:ui,extend:qe,props:xi,override:F0,Events:Es,on:Yn,liveQuery:pv,extendObservabilitySet:hv,getByKeyPath:pn,setByKeyPath:Dt,delByKeyPath:function(e,t){typeof t=="string"?Dt(e,t,void 0):"length"in t&&[].map.call(t,function(n){Dt(e,n,void 0)})},shallowClone:U0,deepClone:ca,getObjectDiff:Hd,cmp:Xe,asap:j0,minKey:ff,addons:[],connections:xs,errnames:jd,dependencies:xf,semVer:pm,version:pm.split(".").map(e=>parseInt(e)).reduce((e,t,n)=>e+t/Math.pow(10,2*n))}),nr.maxKey=qs(nr.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Yn(Ys,e=>{if(!fn){let t;$l?(t=document.createEvent("CustomEvent"),t.initCustomEvent(On,!0,!0,e)):t=new CustomEvent(On,{detail:e}),fn=!0,dispatchEvent(t),fn=!1}}),addEventListener(On,({detail:e})=>{fn||ko(e)}));let fn=!1;if(typeof BroadcastChannel<"u"){const e=new BroadcastChannel(On);typeof e.unref=="function"&&e.unref(),Yn(Ys,t=>{fn||e.postMessage(t)}),e.onmessage=t=>{t.data&&ko(t.data)}}else if(typeof self<"u"&&typeof navigator<"u"){Yn(Ys,t=>{try{fn||(typeof localStorage<"u"&&localStorage.setItem(On,JSON.stringify({trig:Math.random(),changedParts:t})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(n=>n.postMessage({type:On,changedParts:t})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",t=>{if(t.key===On){const n=JSON.parse(t.newValue);n&&ko(n.changedParts)}});const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",function({data:t}){t&&t.type===On&&ko(t.changedParts)})}z.rejectionMapper=function(e,t){if(!e||e instanceof ci||e instanceof TypeError||e instanceof SyntaxError||!e.name||!cm[e.name])return e;var n=new cm[e.name](t||e.message,e);return"stack"in e&&hn(n,"stack",{get:function(){return this.inner.stack}}),n},G0(Zt,iv);function oE(e,t,n){var r,i;typeof e=="function"?(r=t||[],i=n):(r=[],i=t);var s=Pn.useRef({hasResult:!1,result:i,error:null}),a=Pn.useReducer(function(c){return c+1},0);a[0];var o=a[1],l=Pn.useMemo(function(){var c=typeof e=="function"?e():e;if(!c||typeof c.subscribe!="function")throw e===c?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!s.current.hasResult&&typeof window<"u"&&(typeof c.hasValue!="function"||c.hasValue()))if(typeof c.getValue=="function")s.current.result=c.getValue(),s.current.hasResult=!0;else{var u=c.subscribe(function(f){s.current.result=f,s.current.hasResult=!0});typeof u=="function"?u():u.unsubscribe()}return c},r);if(Pn.useDebugValue(s.current.result),Pn.useEffect(function(){var c=l.subscribe(function(u){var f=s.current;(f.error!==null||f.result!==u)&&(f.error=null,f.result=u,f.hasResult=!0,o())},function(u){var f=s.current;f.error!==u&&(f.error=u,o())});return typeof c=="function"?c:c.unsubscribe.bind(c)},r),s.current.error)throw s.current.error;return s.current.result}function Kd(e,t,n){return oE(function(){return pv(e)},t||[],n)}class lE extends vr{constructor(){super("MealLensDB"),this.version(1).stores({settings:"key",meals:"++id, timestamp, date",foodItems:"++id, mealId"}),this.version(2).stores({settings:"key",meals:"++id, timestamp, date",foodItems:"++id, mealId",versionState:"&key, lastDismissedAt, lastCheckAt"})}}const en=new lE,Zs=en.table("settings"),Ir=en.table("meals"),br=en.table("foodItems");en.table("versionState");async function Ef(e){const t=await Zs.get(e);return t==null?void 0:t.value}async function xm(e,t,n=!1){if(!e||typeof e!="string")throw new Error("Setting key must be a non-empty string");if(e==="apiKey"&&!n&&typeof t=="string"&&!t.startsWith("sk-"))throw new Error('API key must start with "sk-"');await Zs.put({key:e,value:t,encrypted:n})}async function Em(e){await Zs.delete(e)}async function uE(e){if(!/^\d{4}-\d{2}-\d{2}$/.test(e))throw new Error("Date must be in YYYY-MM-DD format");return await Ir.where("date").equals(e).sortBy("timestamp")}async function cE(e,t){if(!e.timestamp||e.timestamp<=0)throw new Error("Invalid timestamp");if(!/^\d{4}-\d{2}-\d{2}$/.test(e.date))throw new Error("Date must be in YYYY-MM-DD format");if(e.totalCalories<0)throw new Error("Total calories must be non-negative");if(!Array.isArray(t)||t.length===0)throw new Error("Cannot save meal with 0 food items");return t.forEach((n,r)=>{if(!n.name||n.name.length===0||n.name.length>100)throw new Error(`Food item ${r}: name must be 1-100 characters`);if(!n.grams||n.grams<1)throw new Error(`Food item ${r}: grams must be >= 1`);if(n.calories<0)throw new Error(`Food item ${r}: calories must be non-negative`);if(!["high","medium","low"].includes(n.confidence))throw new Error(`Food item ${r}: confidence must be high, medium, or low`)}),await en.transaction("rw",Ir,br,async()=>{const n=await Ir.add(e),r=t.map(i=>({...i,mealId:n}));return await br.bulkAdd(r),n})}async function fE(e){await en.transaction("rw",Ir,br,async()=>{await br.where("mealId").equals(e).delete(),await Ir.delete(e)})}async function dE(e){return await br.where("mealId").equals(e).toArray()}async function hE(){await en.transaction("rw",Zs,Ir,br,async()=>{await Zs.clear(),await Ir.clear(),await br.clear()})}async function pE(e){if(!window.crypto||!window.crypto.subtle)return console.warn("SubtleCrypto not available, storing API key without encryption"),{encrypted:e,salt:null};try{const t=window.crypto.getRandomValues(new Uint8Array(16)),n=await window.crypto.subtle.importKey("raw",new TextEncoder().encode("meallens-local-encryption-key"),{name:"PBKDF2"},!1,["deriveBits","deriveKey"]),r=await window.crypto.subtle.deriveKey({name:"PBKDF2",salt:t,iterations:1e5,hash:"SHA-256"},n,{name:"AES-GCM",length:256},!1,["encrypt"]),i=window.crypto.getRandomValues(new Uint8Array(12)),s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:i},r,new TextEncoder().encode(e)),a=new Uint8Array(i.length+s.byteLength);return a.set(i),a.set(new Uint8Array(s),i.length),{encrypted:btoa(String.fromCharCode(...a)),salt:btoa(String.fromCharCode(...t))}}catch(t){return console.error("Encryption failed:",t),{encrypted:e,salt:null}}}async function mE(e,t){if(!t||!window.crypto||!window.crypto.subtle)return e;try{const n=Uint8Array.from(atob(e),c=>c.charCodeAt(0)),r=Uint8Array.from(atob(t),c=>c.charCodeAt(0)),i=n.slice(0,12),s=n.slice(12),a=await window.crypto.subtle.importKey("raw",new TextEncoder().encode("meallens-local-encryption-key"),{name:"PBKDF2"},!1,["deriveBits","deriveKey"]),o=await window.crypto.subtle.deriveKey({name:"PBKDF2",salt:r,iterations:1e5,hash:"SHA-256"},a,{name:"AES-GCM",length:256},!1,["decrypt"]),l=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:i},o,s);return new TextDecoder().decode(l)}catch(n){throw console.error("Decryption failed:",n),new Error("Failed to decrypt API key")}}async function gE(e){if(!e||typeof e!="string")throw new Error("API key is required");if(!e.startsWith("sk-"))throw new Error('API key must start with "sk-"');const{encrypted:t,salt:n}=await pE(e);await xm("apiKey",t,!0),n&&await xm("apiKeySalt",n,!1)}async function mv(){const e=await Ef("apiKey");if(!e)return null;const t=await Ef("apiKeySalt");return await mE(e,t)}function yE(e){return Kd(()=>Ef(e),[e])}const gv=j.createContext(null);function vE({children:e}){const t=gx(),n=yE("apiKey"),[r,i]=j.useState(null),[s,a]=j.useState(null),o={isOnline:t,apiKey:n,currentMeal:r,setCurrentMeal:i,currentImage:s,setCurrentImage:a};return b.jsx(gv.Provider,{value:o,children:e})}function Xd(){const e=j.useContext(gv);if(!e)throw new Error("useAppContext must be used within AppProvider");return e}class wE extends Pn.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("React Error Boundary caught:",t,n)}render(){var t;return this.state.hasError?b.jsxs("div",{style:{padding:"20px",textAlign:"center",fontFamily:"sans-serif"},children:[b.jsx("h1",{children:"Something went wrong"}),b.jsx("p",{children:((t=this.state.error)==null?void 0:t.message)||"An unexpected error occurred"}),b.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"10px 20px",fontSize:"16px",marginTop:"20px",cursor:"pointer"},children:"Reload App"})]}):this.props.children}}function AE(){const{isOnline:e}=Xd();return e?null:b.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,backgroundColor:"#F39C12",color:"white",padding:"10px",textAlign:"center",zIndex:9999,fontSize:"14px",fontFamily:"sans-serif"},children:" You are offline. AI analysis unavailable. You can still view saved meals."})}var Sf={exports:{}};const _E="2.0.0",yv=256,xE=Number.MAX_SAFE_INTEGER||9007199254740991,EE=16,SE=yv-6,CE=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var Dl={MAX_LENGTH:yv,MAX_SAFE_COMPONENT_LENGTH:EE,MAX_SAFE_BUILD_LENGTH:SE,MAX_SAFE_INTEGER:xE,RELEASE_TYPES:CE,SEMVER_SPEC_VERSION:_E,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Du={};const IE=typeof process=="object"&&Du&&Du.NODE_DEBUG&&/\bsemver\b/i.test(Du.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var Fl=IE;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=Dl,s=Fl;t=e.exports={};const a=t.re=[],o=t.safeRe=[],l=t.src=[],c=t.safeSrc=[],u=t.t={};let f=0;const d="[a-zA-Z0-9-]",p=[["\\s",1],["\\d",i],[d,r]],y=x=>{for(const[g,h]of p)x=x.split(`${g}*`).join(`${g}{0,${h}}`).split(`${g}+`).join(`${g}{1,${h}}`);return x},m=(x,g,h)=>{const v=y(g),E=f++;s(x,E,g),u[x]=E,l[E]=g,c[E]=v,a[E]=new RegExp(g,h?"g":void 0),o[E]=new RegExp(v,h?"g":void 0)};m("NUMERICIDENTIFIER","0|[1-9]\\d*"),m("NUMERICIDENTIFIERLOOSE","\\d+"),m("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),m("MAINVERSION",`(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})`),m("MAINVERSIONLOOSE",`(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASEIDENTIFIER",`(?:${l[u.NONNUMERICIDENTIFIER]}|${l[u.NUMERICIDENTIFIER]})`),m("PRERELEASEIDENTIFIERLOOSE",`(?:${l[u.NONNUMERICIDENTIFIER]}|${l[u.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASE",`(?:-(${l[u.PRERELEASEIDENTIFIER]}(?:\\.${l[u.PRERELEASEIDENTIFIER]})*))`),m("PRERELEASELOOSE",`(?:-?(${l[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[u.PRERELEASEIDENTIFIERLOOSE]})*))`),m("BUILDIDENTIFIER",`${d}+`),m("BUILD",`(?:\\+(${l[u.BUILDIDENTIFIER]}(?:\\.${l[u.BUILDIDENTIFIER]})*))`),m("FULLPLAIN",`v?${l[u.MAINVERSION]}${l[u.PRERELEASE]}?${l[u.BUILD]}?`),m("FULL",`^${l[u.FULLPLAIN]}$`),m("LOOSEPLAIN",`[v=\\s]*${l[u.MAINVERSIONLOOSE]}${l[u.PRERELEASELOOSE]}?${l[u.BUILD]}?`),m("LOOSE",`^${l[u.LOOSEPLAIN]}$`),m("GTLT","((?:<|>)?=?)"),m("XRANGEIDENTIFIERLOOSE",`${l[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),m("XRANGEIDENTIFIER",`${l[u.NUMERICIDENTIFIER]}|x|X|\\*`),m("XRANGEPLAIN",`[v=\\s]*(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:${l[u.PRERELEASE]})?${l[u.BUILD]}?)?)?`),m("XRANGEPLAINLOOSE",`[v=\\s]*(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:${l[u.PRERELEASELOOSE]})?${l[u.BUILD]}?)?)?`),m("XRANGE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAIN]}$`),m("XRANGELOOSE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAINLOOSE]}$`),m("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),m("COERCE",`${l[u.COERCEPLAIN]}(?:$|[^\\d])`),m("COERCEFULL",l[u.COERCEPLAIN]+`(?:${l[u.PRERELEASE]})?(?:${l[u.BUILD]})?(?:$|[^\\d])`),m("COERCERTL",l[u.COERCE],!0),m("COERCERTLFULL",l[u.COERCEFULL],!0),m("LONETILDE","(?:~>?)"),m("TILDETRIM",`(\\s*)${l[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",m("TILDE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAIN]}$`),m("TILDELOOSE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAINLOOSE]}$`),m("LONECARET","(?:\\^)"),m("CARETTRIM",`(\\s*)${l[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",m("CARET",`^${l[u.LONECARET]}${l[u.XRANGEPLAIN]}$`),m("CARETLOOSE",`^${l[u.LONECARET]}${l[u.XRANGEPLAINLOOSE]}$`),m("COMPARATORLOOSE",`^${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]})$|^$`),m("COMPARATOR",`^${l[u.GTLT]}\\s*(${l[u.FULLPLAIN]})$|^$`),m("COMPARATORTRIM",`(\\s*)${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]}|${l[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",m("HYPHENRANGE",`^\\s*(${l[u.XRANGEPLAIN]})\\s+-\\s+(${l[u.XRANGEPLAIN]})\\s*$`),m("HYPHENRANGELOOSE",`^\\s*(${l[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[u.XRANGEPLAINLOOSE]})\\s*$`),m("STAR","(<|>)?=?\\s*\\*"),m("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),m("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Sf,Sf.exports);var ha=Sf.exports;const bE=Object.freeze({loose:!0}),kE=Object.freeze({}),RE=e=>e?typeof e!="object"?bE:e:kE;var Yd=RE;const Sm=/^[0-9]+$/,vv=(e,t)=>{if(typeof e=="number"&&typeof t=="number")return e===t?0:e<t?-1:1;const n=Sm.test(e),r=Sm.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1},PE=(e,t)=>vv(t,e);var wv={compareIdentifiers:vv,rcompareIdentifiers:PE};const Ha=Fl,{MAX_LENGTH:Cm,MAX_SAFE_INTEGER:Va}=Dl,{safeRe:Ka,t:Xa}=ha,BE=Yd,{compareIdentifiers:Fu}=wv;let TE=class zt{constructor(t,n){if(n=BE(n),t instanceof zt){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>Cm)throw new TypeError(`version is longer than ${Cm} characters`);Ha("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const r=t.trim().match(n.loose?Ka[Xa.LOOSE]:Ka[Xa.FULL]);if(!r)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>Va||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Va||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Va||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<Va)return s}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(Ha("SemVer.compare",this.version,this.options,t),!(t instanceof zt)){if(typeof t=="string"&&t===this.version)return 0;t=new zt(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof zt||(t=new zt(t,this.options)),this.major<t.major?-1:this.major>t.major?1:this.minor<t.minor?-1:this.minor>t.minor?1:this.patch<t.patch?-1:this.patch>t.patch?1:0}comparePre(t){if(t instanceof zt||(t=new zt(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let n=0;do{const r=this.prerelease[n],i=t.prerelease[n];if(Ha("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return Fu(r,i)}while(++n)}compareBuild(t){t instanceof zt||(t=new zt(t,this.options));let n=0;do{const r=this.build[n],i=t.build[n];if(Ha("build compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return Fu(r,i)}while(++n)}inc(t,n,r){if(t.startsWith("pre")){if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(n){const i=`-${n}`.match(this.options.loose?Ka[Xa.PRERELEASELOOSE]:Ka[Xa.PRERELEASE]);if(!i||i[1]!==n)throw new Error(`invalid identifier: ${n}`)}}switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(r)?1:0;if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(n){let s=[n,i];r===!1&&(s=[n]),Fu(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var et=TE;const Im=et,OE=(e,t,n=!1)=>{if(e instanceof Im)return e;try{return new Im(e,t)}catch(r){if(!n)return null;throw r}};var Ri=OE;const LE=Ri,$E=(e,t)=>{const n=LE(e,t);return n?n.version:null};var NE=$E;const DE=Ri,FE=(e,t)=>{const n=DE(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null};var jE=FE;const bm=et,ME=(e,t,n,r,i)=>{typeof n=="string"&&(i=r,r=n,n=void 0);try{return new bm(e instanceof bm?e.version:e,n).inc(t,r,i).version}catch{return null}};var UE=ME;const km=Ri,QE=(e,t)=>{const n=km(e,null,!0),r=km(t,null,!0),i=n.compare(r);if(i===0)return null;const s=i>0,a=s?n:r,o=s?r:n,l=!!a.prerelease.length;if(!!o.prerelease.length&&!l){if(!o.patch&&!o.minor)return"major";if(o.compareMain(a)===0)return o.minor&&!o.patch?"minor":"patch"}const u=l?"pre":"";return n.major!==r.major?u+"major":n.minor!==r.minor?u+"minor":n.patch!==r.patch?u+"patch":"prerelease"};var zE=QE;const GE=et,WE=(e,t)=>new GE(e,t).major;var HE=WE;const VE=et,KE=(e,t)=>new VE(e,t).minor;var XE=KE;const YE=et,qE=(e,t)=>new YE(e,t).patch;var JE=qE;const ZE=Ri,eS=(e,t)=>{const n=ZE(e,t);return n&&n.prerelease.length?n.prerelease:null};var tS=eS;const Rm=et,nS=(e,t,n)=>new Rm(e,n).compare(new Rm(t,n));var jt=nS;const rS=jt,iS=(e,t,n)=>rS(t,e,n);var sS=iS;const aS=jt,oS=(e,t)=>aS(e,t,!0);var lS=oS;const Pm=et,uS=(e,t,n)=>{const r=new Pm(e,n),i=new Pm(t,n);return r.compare(i)||r.compareBuild(i)};var qd=uS;const cS=qd,fS=(e,t)=>e.sort((n,r)=>cS(n,r,t));var dS=fS;const hS=qd,pS=(e,t)=>e.sort((n,r)=>hS(r,n,t));var mS=pS;const gS=jt,yS=(e,t,n)=>gS(e,t,n)>0;var jl=yS;const vS=jt,wS=(e,t,n)=>vS(e,t,n)<0;var Jd=wS;const AS=jt,_S=(e,t,n)=>AS(e,t,n)===0;var Av=_S;const xS=jt,ES=(e,t,n)=>xS(e,t,n)!==0;var _v=ES;const SS=jt,CS=(e,t,n)=>SS(e,t,n)>=0;var Zd=CS;const IS=jt,bS=(e,t,n)=>IS(e,t,n)<=0;var eh=bS;const kS=Av,RS=_v,PS=jl,BS=Zd,TS=Jd,OS=eh,LS=(e,t,n,r)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e===n;case"!==":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e!==n;case"":case"=":case"==":return kS(e,n,r);case"!=":return RS(e,n,r);case">":return PS(e,n,r);case">=":return BS(e,n,r);case"<":return TS(e,n,r);case"<=":return OS(e,n,r);default:throw new TypeError(`Invalid operator: ${t}`)}};var xv=LS;const $S=et,NS=Ri,{safeRe:Ya,t:qa}=ha,DS=(e,t)=>{if(e instanceof $S)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let n=null;if(!t.rtl)n=e.match(t.includePrerelease?Ya[qa.COERCEFULL]:Ya[qa.COERCE]);else{const l=t.includePrerelease?Ya[qa.COERCERTLFULL]:Ya[qa.COERCERTL];let c;for(;(c=l.exec(e))&&(!n||n.index+n[0].length!==e.length);)(!n||c.index+c[0].length!==n.index+n[0].length)&&(n=c),l.lastIndex=c.index+c[1].length+c[2].length;l.lastIndex=-1}if(n===null)return null;const r=n[2],i=n[3]||"0",s=n[4]||"0",a=t.includePrerelease&&n[5]?`-${n[5]}`:"",o=t.includePrerelease&&n[6]?`+${n[6]}`:"";return NS(`${r}.${i}.${s}${a}${o}`,t)};var FS=DS;class jS{constructor(){this.max=1e3,this.map=new Map}get(t){const n=this.map.get(t);if(n!==void 0)return this.map.delete(t),this.map.set(t,n),n}delete(t){return this.map.delete(t)}set(t,n){if(!this.delete(t)&&n!==void 0){if(this.map.size>=this.max){const i=this.map.keys().next().value;this.delete(i)}this.map.set(t,n)}return this}}var MS=jS,ju,Bm;function Mt(){if(Bm)return ju;Bm=1;const e=/\s+/g;class t{constructor($,R){if(R=i(R),$ instanceof t)return $.loose===!!R.loose&&$.includePrerelease===!!R.includePrerelease?$:new t($.raw,R);if($ instanceof s)return this.raw=$.value,this.set=[[$]],this.formatted=void 0,this;if(this.options=R,this.loose=!!R.loose,this.includePrerelease=!!R.includePrerelease,this.raw=$.trim().replace(e," "),this.set=this.raw.split("||").map(O=>this.parseRange(O.trim())).filter(O=>O.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const O=this.set[0];if(this.set=this.set.filter(k=>!m(k[0])),this.set.length===0)this.set=[O];else if(this.set.length>1){for(const k of this.set)if(k.length===1&&x(k[0])){this.set=[k];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let $=0;$<this.set.length;$++){$>0&&(this.formatted+="||");const R=this.set[$];for(let O=0;O<R.length;O++)O>0&&(this.formatted+=" "),this.formatted+=R[O].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange($){const O=((this.options.includePrerelease&&p)|(this.options.loose&&y))+":"+$,k=r.get(O);if(k)return k;const B=this.options.loose,T=B?l[c.HYPHENRANGELOOSE]:l[c.HYPHENRANGE];$=$.replace(T,F(this.options.includePrerelease)),a("hyphen replace",$),$=$.replace(l[c.COMPARATORTRIM],u),a("comparator trim",$),$=$.replace(l[c.TILDETRIM],f),a("tilde trim",$),$=$.replace(l[c.CARETTRIM],d),a("caret trim",$);let M=$.split(" ").map(K=>h(K,this.options)).join(" ").split(/\s+/).map(K=>P(K,this.options));B&&(M=M.filter(K=>(a("loose invalid filter",K,this.options),!!K.match(l[c.COMPARATORLOOSE])))),a("range list",M);const D=new Map,Q=M.map(K=>new s(K,this.options));for(const K of Q){if(m(K))return[K];D.set(K.value,K)}D.size>1&&D.has("")&&D.delete("");const V=[...D.values()];return r.set(O,V),V}intersects($,R){if(!($ instanceof t))throw new TypeError("a Range is required");return this.set.some(O=>g(O,R)&&$.set.some(k=>g(k,R)&&O.every(B=>k.every(T=>B.intersects(T,R)))))}test($){if(!$)return!1;if(typeof $=="string")try{$=new o($,this.options)}catch{return!1}for(let R=0;R<this.set.length;R++)if(N(this.set[R],$,this.options))return!0;return!1}}ju=t;const n=MS,r=new n,i=Yd,s=Ml(),a=Fl,o=et,{safeRe:l,t:c,comparatorTrimReplace:u,tildeTrimReplace:f,caretTrimReplace:d}=ha,{FLAG_INCLUDE_PRERELEASE:p,FLAG_LOOSE:y}=Dl,m=L=>L.value==="<0.0.0-0",x=L=>L.value==="",g=(L,$)=>{let R=!0;const O=L.slice();let k=O.pop();for(;R&&O.length;)R=O.every(B=>k.intersects(B,$)),k=O.pop();return R},h=(L,$)=>(L=L.replace(l[c.BUILD],""),a("comp",L,$),L=A(L,$),a("caret",L),L=E(L,$),a("tildes",L),L=S(L,$),a("xrange",L),L=I(L,$),a("stars",L),L),v=L=>!L||L.toLowerCase()==="x"||L==="*",E=(L,$)=>L.trim().split(/\s+/).map(R=>w(R,$)).join(" "),w=(L,$)=>{const R=$.loose?l[c.TILDELOOSE]:l[c.TILDE];return L.replace(R,(O,k,B,T,M)=>{a("tilde",L,O,k,B,T,M);let D;return v(k)?D="":v(B)?D=`>=${k}.0.0 <${+k+1}.0.0-0`:v(T)?D=`>=${k}.${B}.0 <${k}.${+B+1}.0-0`:M?(a("replaceTilde pr",M),D=`>=${k}.${B}.${T}-${M} <${k}.${+B+1}.0-0`):D=`>=${k}.${B}.${T} <${k}.${+B+1}.0-0`,a("tilde return",D),D})},A=(L,$)=>L.trim().split(/\s+/).map(R=>_(R,$)).join(" "),_=(L,$)=>{a("caret",L,$);const R=$.loose?l[c.CARETLOOSE]:l[c.CARET],O=$.includePrerelease?"-0":"";return L.replace(R,(k,B,T,M,D)=>{a("caret",L,k,B,T,M,D);let Q;return v(B)?Q="":v(T)?Q=`>=${B}.0.0${O} <${+B+1}.0.0-0`:v(M)?B==="0"?Q=`>=${B}.${T}.0${O} <${B}.${+T+1}.0-0`:Q=`>=${B}.${T}.0${O} <${+B+1}.0.0-0`:D?(a("replaceCaret pr",D),B==="0"?T==="0"?Q=`>=${B}.${T}.${M}-${D} <${B}.${T}.${+M+1}-0`:Q=`>=${B}.${T}.${M}-${D} <${B}.${+T+1}.0-0`:Q=`>=${B}.${T}.${M}-${D} <${+B+1}.0.0-0`):(a("no pr"),B==="0"?T==="0"?Q=`>=${B}.${T}.${M}${O} <${B}.${T}.${+M+1}-0`:Q=`>=${B}.${T}.${M}${O} <${B}.${+T+1}.0-0`:Q=`>=${B}.${T}.${M} <${+B+1}.0.0-0`),a("caret return",Q),Q})},S=(L,$)=>(a("replaceXRanges",L,$),L.split(/\s+/).map(R=>C(R,$)).join(" ")),C=(L,$)=>{L=L.trim();const R=$.loose?l[c.XRANGELOOSE]:l[c.XRANGE];return L.replace(R,(O,k,B,T,M,D)=>{a("xRange",L,O,k,B,T,M,D);const Q=v(B),V=Q||v(T),K=V||v(M),ve=K;return k==="="&&ve&&(k=""),D=$.includePrerelease?"-0":"",Q?k===">"||k==="<"?O="<0.0.0-0":O="*":k&&ve?(V&&(T=0),M=0,k===">"?(k=">=",V?(B=+B+1,T=0,M=0):(T=+T+1,M=0)):k==="<="&&(k="<",V?B=+B+1:T=+T+1),k==="<"&&(D="-0"),O=`${k+B}.${T}.${M}${D}`):V?O=`>=${B}.0.0${D} <${+B+1}.0.0-0`:K&&(O=`>=${B}.${T}.0${D} <${B}.${+T+1}.0-0`),a("xRange return",O),O})},I=(L,$)=>(a("replaceStars",L,$),L.trim().replace(l[c.STAR],"")),P=(L,$)=>(a("replaceGTE0",L,$),L.trim().replace(l[$.includePrerelease?c.GTE0PRE:c.GTE0],"")),F=L=>($,R,O,k,B,T,M,D,Q,V,K,ve)=>(v(O)?R="":v(k)?R=`>=${O}.0.0${L?"-0":""}`:v(B)?R=`>=${O}.${k}.0${L?"-0":""}`:T?R=`>=${R}`:R=`>=${R}${L?"-0":""}`,v(Q)?D="":v(V)?D=`<${+Q+1}.0.0-0`:v(K)?D=`<${Q}.${+V+1}.0-0`:ve?D=`<=${Q}.${V}.${K}-${ve}`:L?D=`<${Q}.${V}.${+K+1}-0`:D=`<=${D}`,`${R} ${D}`.trim()),N=(L,$,R)=>{for(let O=0;O<L.length;O++)if(!L[O].test($))return!1;if($.prerelease.length&&!R.includePrerelease){for(let O=0;O<L.length;O++)if(a(L[O].semver),L[O].semver!==s.ANY&&L[O].semver.prerelease.length>0){const k=L[O].semver;if(k.major===$.major&&k.minor===$.minor&&k.patch===$.patch)return!0}return!1}return!0};return ju}var Mu,Tm;function Ml(){if(Tm)return Mu;Tm=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(u,f){if(f=n(f),u instanceof t){if(u.loose===!!f.loose)return u;u=u.value}u=u.trim().split(/\s+/).join(" "),a("comparator",u,f),this.options=f,this.loose=!!f.loose,this.parse(u),this.semver===e?this.value="":this.value=this.operator+this.semver.version,a("comp",this)}parse(u){const f=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],d=u.match(f);if(!d)throw new TypeError(`Invalid comparator: ${u}`);this.operator=d[1]!==void 0?d[1]:"",this.operator==="="&&(this.operator=""),d[2]?this.semver=new o(d[2],this.options.loose):this.semver=e}toString(){return this.value}test(u){if(a("Comparator.test",u,this.options.loose),this.semver===e||u===e)return!0;if(typeof u=="string")try{u=new o(u,this.options)}catch{return!1}return s(u,this.operator,this.semver,this.options)}intersects(u,f){if(!(u instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(u.value,f).test(this.value):u.operator===""?u.value===""?!0:new l(this.value,f).test(u.semver):(f=n(f),f.includePrerelease&&(this.value==="<0.0.0-0"||u.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||u.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&u.operator.startsWith(">")||this.operator.startsWith("<")&&u.operator.startsWith("<")||this.semver.version===u.semver.version&&this.operator.includes("=")&&u.operator.includes("=")||s(this.semver,"<",u.semver,f)&&this.operator.startsWith(">")&&u.operator.startsWith("<")||s(this.semver,">",u.semver,f)&&this.operator.startsWith("<")&&u.operator.startsWith(">")))}}Mu=t;const n=Yd,{safeRe:r,t:i}=ha,s=xv,a=Fl,o=et,l=Mt();return Mu}const US=Mt(),QS=(e,t,n)=>{try{t=new US(t,n)}catch{return!1}return t.test(e)};var Ul=QS;const zS=Mt(),GS=(e,t)=>new zS(e,t).set.map(n=>n.map(r=>r.value).join(" ").trim().split(" "));var WS=GS;const HS=et,VS=Mt(),KS=(e,t,n)=>{let r=null,i=null,s=null;try{s=new VS(t,n)}catch{return null}return e.forEach(a=>{s.test(a)&&(!r||i.compare(a)===-1)&&(r=a,i=new HS(r,n))}),r};var XS=KS;const YS=et,qS=Mt(),JS=(e,t,n)=>{let r=null,i=null,s=null;try{s=new qS(t,n)}catch{return null}return e.forEach(a=>{s.test(a)&&(!r||i.compare(a)===1)&&(r=a,i=new YS(r,n))}),r};var ZS=JS;const Uu=et,eC=Mt(),Om=jl,tC=(e,t)=>{e=new eC(e,t);let n=new Uu("0.0.0");if(e.test(n)||(n=new Uu("0.0.0-0"),e.test(n)))return n;n=null;for(let r=0;r<e.set.length;++r){const i=e.set[r];let s=null;i.forEach(a=>{const o=new Uu(a.semver.version);switch(a.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!s||Om(o,s))&&(s=o);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),s&&(!n||Om(n,s))&&(n=s)}return n&&e.test(n)?n:null};var nC=tC;const rC=Mt(),iC=(e,t)=>{try{return new rC(e,t).range||"*"}catch{return null}};var sC=iC;const aC=et,Ev=Ml(),{ANY:oC}=Ev,lC=Mt(),uC=Ul,Lm=jl,$m=Jd,cC=eh,fC=Zd,dC=(e,t,n,r)=>{e=new aC(e,r),t=new lC(t,r);let i,s,a,o,l;switch(n){case">":i=Lm,s=cC,a=$m,o=">",l=">=";break;case"<":i=$m,s=fC,a=Lm,o="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(uC(e,t,r))return!1;for(let c=0;c<t.set.length;++c){const u=t.set[c];let f=null,d=null;if(u.forEach(p=>{p.semver===oC&&(p=new Ev(">=0.0.0")),f=f||p,d=d||p,i(p.semver,f.semver,r)?f=p:a(p.semver,d.semver,r)&&(d=p)}),f.operator===o||f.operator===l||(!d.operator||d.operator===o)&&s(e,d.semver))return!1;if(d.operator===l&&a(e,d.semver))return!1}return!0};var th=dC;const hC=th,pC=(e,t,n)=>hC(e,t,">",n);var mC=pC;const gC=th,yC=(e,t,n)=>gC(e,t,"<",n);var vC=yC;const Nm=Mt(),wC=(e,t,n)=>(e=new Nm(e,n),t=new Nm(t,n),e.intersects(t,n));var AC=wC;const _C=Ul,xC=jt;var EC=(e,t,n)=>{const r=[];let i=null,s=null;const a=e.sort((u,f)=>xC(u,f,n));for(const u of a)_C(u,t,n)?(s=u,i||(i=u)):(s&&r.push([i,s]),s=null,i=null);i&&r.push([i,null]);const o=[];for(const[u,f]of r)u===f?o.push(u):!f&&u===a[0]?o.push("*"):f?u===a[0]?o.push(`<=${f}`):o.push(`${u} - ${f}`):o.push(`>=${u}`);const l=o.join(" || "),c=typeof t.raw=="string"?t.raw:String(t);return l.length<c.length?l:t};const Dm=Mt(),nh=Ml(),{ANY:Qu}=nh,Xi=Ul,rh=jt,SC=(e,t,n={})=>{if(e===t)return!0;e=new Dm(e,n),t=new Dm(t,n);let r=!1;e:for(const i of e.set){for(const s of t.set){const a=IC(i,s,n);if(r=r||a!==null,a)continue e}if(r)return!1}return!0},CC=[new nh(">=0.0.0-0")],Fm=[new nh(">=0.0.0")],IC=(e,t,n)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===Qu){if(t.length===1&&t[0].semver===Qu)return!0;n.includePrerelease?e=CC:e=Fm}if(t.length===1&&t[0].semver===Qu){if(n.includePrerelease)return!0;t=Fm}const r=new Set;let i,s;for(const p of e)p.operator===">"||p.operator===">="?i=jm(i,p,n):p.operator==="<"||p.operator==="<="?s=Mm(s,p,n):r.add(p.semver);if(r.size>1)return null;let a;if(i&&s){if(a=rh(i.semver,s.semver,n),a>0)return null;if(a===0&&(i.operator!==">="||s.operator!=="<="))return null}for(const p of r){if(i&&!Xi(p,String(i),n)||s&&!Xi(p,String(s),n))return null;for(const y of t)if(!Xi(p,String(y),n))return!1;return!0}let o,l,c,u,f=s&&!n.includePrerelease&&s.semver.prerelease.length?s.semver:!1,d=i&&!n.includePrerelease&&i.semver.prerelease.length?i.semver:!1;f&&f.prerelease.length===1&&s.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(const p of t){if(u=u||p.operator===">"||p.operator===">=",c=c||p.operator==="<"||p.operator==="<=",i){if(d&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===d.major&&p.semver.minor===d.minor&&p.semver.patch===d.patch&&(d=!1),p.operator===">"||p.operator===">="){if(o=jm(i,p,n),o===p&&o!==i)return!1}else if(i.operator===">="&&!Xi(i.semver,String(p),n))return!1}if(s){if(f&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===f.major&&p.semver.minor===f.minor&&p.semver.patch===f.patch&&(f=!1),p.operator==="<"||p.operator==="<="){if(l=Mm(s,p,n),l===p&&l!==s)return!1}else if(s.operator==="<="&&!Xi(s.semver,String(p),n))return!1}if(!p.operator&&(s||i)&&a!==0)return!1}return!(i&&c&&!s&&a!==0||s&&u&&!i&&a!==0||d||f)},jm=(e,t,n)=>{if(!e)return t;const r=rh(e.semver,t.semver,n);return r>0?e:r<0||t.operator===">"&&e.operator===">="?t:e},Mm=(e,t,n)=>{if(!e)return t;const r=rh(e.semver,t.semver,n);return r<0?e:r>0||t.operator==="<"&&e.operator==="<="?t:e};var bC=SC;const zu=ha,Um=Dl,kC=et,Qm=wv,RC=Ri,PC=NE,BC=jE,TC=UE,OC=zE,LC=HE,$C=XE,NC=JE,DC=tS,FC=jt,jC=sS,MC=lS,UC=qd,QC=dS,zC=mS,GC=jl,WC=Jd,HC=Av,VC=_v,KC=Zd,XC=eh,YC=xv,qC=FS,JC=Ml(),ZC=Mt(),eI=Ul,tI=WS,nI=XS,rI=ZS,iI=nC,sI=sC,aI=th,oI=mC,lI=vC,uI=AC,cI=EC,fI=bC;var dI={parse:RC,valid:PC,clean:BC,inc:TC,diff:OC,major:LC,minor:$C,patch:NC,prerelease:DC,compare:FC,rcompare:jC,compareLoose:MC,compareBuild:UC,sort:QC,rsort:zC,gt:GC,lt:WC,eq:HC,neq:VC,gte:KC,lte:XC,cmp:YC,coerce:qC,Comparator:JC,Range:ZC,satisfies:eI,toComparators:tI,maxSatisfying:nI,minSatisfying:rI,minVersion:iI,validRange:sI,outside:aI,gtr:oI,ltr:lI,intersects:uI,simplifyRange:cI,subset:fI,SemVer:kC,re:zu.re,src:zu.src,tokens:zu.t,SEMVER_SPEC_VERSION:Um.SEMVER_SPEC_VERSION,RELEASE_TYPES:Um.RELEASE_TYPES,compareIdentifiers:Qm.compareIdentifiers,rcompareIdentifiers:Qm.rcompareIdentifiers};const hI=yl(dI),Xt={VERSION_JSON_URL:"/version.json",FETCH_TIMEOUT:5e3,DEBOUNCE_INTERVAL:6e4,THROTTLE_WINDOW:24*60*60*1e3,STORAGE_KEY:"app-version-state"},Nr="1.0.0";async function pI(){try{const e=await Ql();if(e.lastCheckAt&&Date.now()-e.lastCheckAt<Xt.DEBOUNCE_INTERVAL)return{currentVersion:Nr,latestVersion:Nr,updateAvailable:!1,checkedAt:e.lastCheckAt,success:!0,shouldShowNotification:!1};const t=await mI(),n=yI(Nr,t.version),r=n&&await vI(t.version);return await AI(),{currentVersion:Nr,latestVersion:t.version,updateAvailable:n,checkedAt:Date.now(),success:!0,shouldShowNotification:r,updateUrl:t.updateUrl}}catch(e){return console.warn("Version check failed:",e.message),{currentVersion:Nr,latestVersion:Nr,updateAvailable:!1,checkedAt:Date.now(),success:!1,error:e.message}}}async function mI(){const e=new AbortController,t=setTimeout(()=>e.abort(),Xt.FETCH_TIMEOUT);try{const n=await fetch(`${Xt.VERSION_JSON_URL}?_t=${Date.now()}`,{signal:e.signal,cache:"no-cache"});if(clearTimeout(t),!n.ok)throw new Error(`HTTP ${n.status}`);const r=await n.json();if(!gI(r))throw new Error("Invalid version.json schema");return r}catch(n){throw clearTimeout(t),n.name==="AbortError"?new Error("Timeout after 5000ms"):n}}function gI(e){return e&&typeof e=="object"&&typeof e.version=="string"&&/^\d+\.\d+\.\d+/.test(e.version)&&typeof e.updateUrl=="string"&&e.updateUrl.length>0}function yI(e,t){try{return hI.gt(t,e)}catch{return!1}}async function Ql(){try{return await en.versionState.get(Xt.STORAGE_KEY)||{key:Xt.STORAGE_KEY}}catch{try{const e=localStorage.getItem(`meallens:${Xt.STORAGE_KEY}`);return e?JSON.parse(e):{key:Xt.STORAGE_KEY}}catch{return{key:Xt.STORAGE_KEY}}}}async function vI(e){const t=await Ql();return!t.lastDismissedAt||t.lastDismissedVersion!==e?!0:(Date.now()-t.lastDismissedAt)/(1e3*60*60)>=24}async function wI(e){const t=await Ql();t.lastDismissedAt=Date.now(),t.lastDismissedVersion=e;try{await en.versionState.put(t)}catch{try{localStorage.setItem(`meallens:${Xt.STORAGE_KEY}`,JSON.stringify(t))}catch(n){console.warn("Failed to save notification state:",n)}}}async function AI(){const e=await Ql();e.lastCheckAt=Date.now();try{await en.versionState.put(e)}catch{try{localStorage.setItem(`meallens:${Xt.STORAGE_KEY}`,JSON.stringify(e))}catch(t){console.warn("Failed to update check time:",t)}}}function _I({version:e,onDismiss:t,onClick:n}){const[r,i]=j.useState(!0),s=async a=>{a.stopPropagation(),await wI(e),i(!1),t==null||t()};return r?b.jsx("div",{className:"update-banner",onClick:n,children:b.jsxs("div",{className:"update-banner-content",children:[b.jsx("span",{className:"update-icon","aria-hidden":"true",children:""}),b.jsxs("span",{className:"update-text",children:["New version ",e," available! Tap to update."]}),b.jsx("button",{className:"update-dismiss",onClick:s,"aria-label":"Dismiss update notification",type:"button",children:""})]})}):null}function xI({version:e,updateUrl:t,onClose:n}){const r=()=>{const i=window.matchMedia("(display-mode: standalone)").matches,s=/iPad|iPhone|iPod/.test(navigator.userAgent),a=/Android/.test(navigator.userAgent);i&&s?window.location.href="https://apps.apple.com/app/meallens/id123456":i&&a?window.location.href="https://play.google.com/store/apps/details?id=com.meallens":window.location.href=t,n()};return b.jsx("div",{className:"update-dialog-overlay",onClick:n,children:b.jsxs("div",{className:"update-dialog",onClick:i=>i.stopPropagation(),children:[b.jsx("h2",{children:"Update Available"}),b.jsxs("p",{children:["Version ",e," is now available."]}),b.jsx("p",{children:"Update now to get the latest features and improvements."}),b.jsxs("div",{className:"update-dialog-actions",children:[b.jsx("button",{onClick:n,className:"button-secondary",type:"button",children:"Later"}),b.jsx("button",{onClick:r,className:"button-primary",type:"button",children:"Update Now"})]})]})})}function EI(){const[e,t]=j.useState(null),[n,r]=j.useState(null),[i,s]=j.useState(!1),a=j.useRef(null),o=async()=>{try{r(null);const u=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1920},height:{ideal:1080}}});t(u),s(!0),a.current&&(a.current.srcObject=u)}catch(u){console.error("Camera access error:",u),r(u.message||"Failed to access camera")}},l=()=>{e&&(e.getTracks().forEach(u=>u.stop()),t(null),s(!1),a.current&&(a.current.srcObject=null))},c=()=>{if(!a.current||!e)throw new Error("Camera not active");const u=a.current,f=document.createElement("canvas");return f.width=u.videoWidth,f.height=u.videoHeight,f.getContext("2d").drawImage(u,0,0),new Promise((p,y)=>{f.toBlob(m=>{m?p(m):y(new Error("Failed to capture photo"))},"image/jpeg",.95)})};return j.useEffect(()=>()=>{l()},[]),{videoRef:a,stream:e,isActive:i,error:n,startCamera:o,stopCamera:l,capturePhoto:c}}function SI({onCapture:e,onError:t}){const{videoRef:n,isActive:r,error:i,startCamera:s,stopCamera:a,capturePhoto:o}=EI();j.useEffect(()=>(s(),()=>a()),[]),j.useEffect(()=>{i&&t&&t(i)},[i,t]);const l=async()=>{try{const c=await o();e(c)}catch(c){t&&t(c.message)}};return b.jsxs("div",{style:Ja.container,children:[b.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,muted:!0,style:Ja.video}),r&&b.jsx("button",{onClick:l,style:Ja.captureButton,children:" Capture"}),i&&b.jsxs("div",{style:Ja.error,children:[" ",i]})]})}const Ja={container:{position:"relative",width:"100%",height:"100vh",backgroundColor:"#000",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},video:{width:"100%",maxWidth:"600px",height:"auto"},captureButton:{position:"absolute",bottom:"40px",padding:"15px 30px",fontSize:"18px",backgroundColor:"#2ECC71",color:"white",border:"none",borderRadius:"50px",cursor:"pointer",fontWeight:"bold"},error:{position:"absolute",top:"20px",padding:"10px 20px",backgroundColor:"#E74C3C",color:"white",borderRadius:"5px"}};function CI({onUpload:e,onError:t}){const n=j.useRef(null),r=i=>{var o;const s=(o=i.target.files)==null?void 0:o[0];if(!s)return;if(!s.type.startsWith("image/")){t&&t("Please select an image file");return}const a=10*1024*1024;if(s.size>a){t&&t("Image too large. Maximum size is 10MB.");return}e(s)};return b.jsxs("div",{style:Gu.container,children:[b.jsx("input",{ref:n,type:"file",accept:"image/*",onChange:r,style:Gu.hiddenInput}),b.jsx("button",{onClick:()=>{var i;return(i=n.current)==null?void 0:i.click()},style:Gu.uploadButton,children:" Upload Photo"})]})}const Gu={container:{display:"flex",justifyContent:"center",padding:"20px"},hiddenInput:{display:"none"},uploadButton:{padding:"15px 30px",fontSize:"18px",backgroundColor:"#6B7280",color:"white",border:"none",borderRadius:"50px",cursor:"pointer",fontWeight:"bold"}};function II({imageBlob:e,onRetake:t,onConfirm:n}){const[r,i]=j.useState(null);return j.useEffect(()=>{if(e){const s=URL.createObjectURL(e);return i(s),()=>URL.revokeObjectURL(s)}},[e]),b.jsxs("div",{style:Yi.container,children:[r&&b.jsx("img",{src:r,alt:"Preview",style:Yi.image}),b.jsxs("div",{style:Yi.buttonContainer,children:[b.jsx("button",{onClick:t,style:Yi.retakeButton,children:" Retake"}),b.jsx("button",{onClick:n,style:Yi.confirmButton,children:" Confirm"})]})]})}const Yi={container:{width:"100%",height:"100vh",backgroundColor:"#000",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",padding:"20px"},image:{maxWidth:"100%",maxHeight:"70vh",objectFit:"contain"},buttonContainer:{display:"flex",gap:"20px",marginBottom:"40px"},retakeButton:{padding:"15px 30px",fontSize:"16px",backgroundColor:"#6B7280",color:"white",border:"none",borderRadius:"50px",cursor:"pointer",fontWeight:"bold"},confirmButton:{padding:"15px 30px",fontSize:"16px",backgroundColor:"#2ECC71",color:"white",border:"none",borderRadius:"50px",cursor:"pointer",fontWeight:"bold"}};function bI({message:e="Loading..."}){return b.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"40px",fontFamily:"sans-serif"},children:[b.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #E5E7EB",borderTop:"4px solid #2ECC71",borderRadius:"50%",animation:"spin 1s linear infinite"}}),b.jsx("p",{style:{marginTop:"20px",color:"#6B7280"},children:e}),b.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})}function Za(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Sv={exports:{}};/*!

pica
https://github.com/nodeca/pica

*/(function(e,t){(function(n){e.exports=n()})(function(){return function(){function n(r,i,s){function a(c,u){if(!i[c]){if(!r[c]){var f=typeof Za=="function"&&Za;if(!u&&f)return f(c,!0);if(o)return o(c,!0);var d=new Error("Cannot find module '"+c+"'");throw d.code="MODULE_NOT_FOUND",d}var p=i[c]={exports:{}};r[c][0].call(p.exports,function(y){var m=r[c][1][y];return a(m||y)},p,p.exports,n,r,i,s)}return i[c].exports}for(var o=typeof Za=="function"&&Za,l=0;l<s.length;l++)a(s[l]);return a}return n}()({1:[function(n,r,i){var s=n("multimath"),a=n("./mm_unsharp_mask"),o=n("./mm_resize");function l(c){var u=c||[],f={js:u.indexOf("js")>=0,wasm:u.indexOf("wasm")>=0};s.call(this,f),this.features={js:f.js,wasm:f.wasm&&this.has_wasm()},this.use(a),this.use(o)}l.prototype=Object.create(s.prototype),l.prototype.constructor=l,l.prototype.resizeAndUnsharp=function(u,f){var d=this.resize(u,f);return u.unsharpAmount&&this.unsharp_mask(d,u.toWidth,u.toHeight,u.unsharpAmount,u.unsharpRadius,u.unsharpThreshold),d},r.exports=l},{"./mm_resize":4,"./mm_unsharp_mask":9,multimath:19}],2:[function(n,r,i){function s(f){return f<0?0:f>255?255:f}function a(f){return f>=0?f:0}function o(f,d,p,y,m,x){var g,h,v,E,w,A,_,S,C,I,P,F=0,N=0;for(C=0;C<y;C++){for(w=0,I=0;I<m;I++){for(A=x[w++],_=x[w++],S=F+A*4|0,g=h=v=E=0;_>0;_--)P=x[w++],E=E+P*f[S+3]|0,v=v+P*f[S+2]|0,h=h+P*f[S+1]|0,g=g+P*f[S]|0,S=S+4|0;d[N+3]=a(E>>7),d[N+2]=a(v>>7),d[N+1]=a(h>>7),d[N]=a(g>>7),N=N+y*4|0}N=(C+1)*4|0,F=(C+1)*p*4|0}}function l(f,d,p,y,m,x){var g,h,v,E,w,A,_,S,C,I,P,F=0,N=0;for(C=0;C<y;C++){for(w=0,I=0;I<m;I++){for(A=x[w++],_=x[w++],S=F+A*4|0,g=h=v=E=0;_>0;_--)P=x[w++],E=E+P*f[S+3]|0,v=v+P*f[S+2]|0,h=h+P*f[S+1]|0,g=g+P*f[S]|0,S=S+4|0;g>>=7,h>>=7,v>>=7,E>>=7,d[N+3]=s(E+8192>>14),d[N+2]=s(v+8192>>14),d[N+1]=s(h+8192>>14),d[N]=s(g+8192>>14),N=N+y*4|0}N=(C+1)*4|0,F=(C+1)*p*4|0}}function c(f,d,p,y,m,x){var g,h,v,E,w,A,_,S,C,I,P,F,N=0,L=0;for(I=0;I<y;I++){for(A=0,P=0;P<m;P++){for(_=x[A++],S=x[A++],C=N+_*4|0,g=h=v=E=0;S>0;S--)F=x[A++],w=f[C+3],E=E+F*w|0,v=v+F*f[C+2]*w|0,h=h+F*f[C+1]*w|0,g=g+F*f[C]*w|0,C=C+4|0;v=v/255|0,h=h/255|0,g=g/255|0,d[L+3]=a(E>>7),d[L+2]=a(v>>7),d[L+1]=a(h>>7),d[L]=a(g>>7),L=L+y*4|0}L=(I+1)*4|0,N=(I+1)*p*4|0}}function u(f,d,p,y,m,x){var g,h,v,E,w,A,_,S,C,I,P,F=0,N=0;for(C=0;C<y;C++){for(w=0,I=0;I<m;I++){for(A=x[w++],_=x[w++],S=F+A*4|0,g=h=v=E=0;_>0;_--)P=x[w++],E=E+P*f[S+3]|0,v=v+P*f[S+2]|0,h=h+P*f[S+1]|0,g=g+P*f[S]|0,S=S+4|0;g>>=7,h>>=7,v>>=7,E>>=7,E=s(E+8192>>14),E>0&&(g=g*255/E|0,h=h*255/E|0,v=v*255/E|0),d[N+3]=E,d[N+2]=s(v+8192>>14),d[N+1]=s(h+8192>>14),d[N]=s(g+8192>>14),N=N+y*4|0}N=(C+1)*4|0,F=(C+1)*p*4|0}}r.exports={convolveHor:o,convolveVert:l,convolveHorWithPre:c,convolveVertWithPre:u}},{}],3:[function(n,r,i){r.exports="AGFzbQEAAAAADAZkeWxpbmsAAAAAAAEYA2AGf39/f39/AGAAAGAIf39/f39/f38AAg8BA2VudgZtZW1vcnkCAAADBwYBAAAAAAIGBgF/AEEACweUAQgRX193YXNtX2NhbGxfY3RvcnMAAAtjb252b2x2ZUhvcgABDGNvbnZvbHZlVmVydAACEmNvbnZvbHZlSG9yV2l0aFByZQADE2NvbnZvbHZlVmVydFdpdGhQcmUABApjb252b2x2ZUhWAAUMX19kc29faGFuZGxlAwAYX193YXNtX2FwcGx5X2RhdGFfcmVsb2NzAAAKyA4GAwABC4wDARB/AkAgA0UNACAERQ0AIANBAnQhFQNAQQAhE0EAIQsDQCALQQJqIQcCfyALQQF0IAVqIgYuAQIiC0UEQEEAIQhBACEGQQAhCUEAIQogBwwBCyASIAYuAQBqIQhBACEJQQAhCiALIRRBACEOIAchBkEAIQ8DQCAFIAZBAXRqLgEAIhAgACAIQQJ0aigCACIRQRh2bCAPaiEPIBFB/wFxIBBsIAlqIQkgEUEQdkH/AXEgEGwgDmohDiARQQh2Qf8BcSAQbCAKaiEKIAhBAWohCCAGQQFqIQYgFEEBayIUDQALIAlBB3UhCCAKQQd1IQYgDkEHdSEJIA9BB3UhCiAHIAtqCyELIAEgDEEBdCIHaiAIQQAgCEEAShs7AQAgASAHQQJyaiAGQQAgBkEAShs7AQAgASAHQQRyaiAJQQAgCUEAShs7AQAgASAHQQZyaiAKQQAgCkEAShs7AQAgDCAVaiEMIBNBAWoiEyAERw0ACyANQQFqIg0gAmwhEiANQQJ0IQwgAyANRw0ACwsL2gMBD38CQCADRQ0AIARFDQAgAkECdCEUA0AgCyEMQQAhE0EAIQIDQCACQQJqIQYCfyACQQF0IAVqIgcuAQIiAkUEQEEAIQhBACEHQQAhCkEAIQkgBgwBCyAHLgEAQQJ0IBJqIQhBACEJIAIhCkEAIQ0gBiEHQQAhDkEAIQ8DQCAFIAdBAXRqLgEAIhAgACAIQQF0IhFqLwEAbCAJaiEJIAAgEUEGcmovAQAgEGwgDmohDiAAIBFBBHJqLwEAIBBsIA9qIQ8gACARQQJyai8BACAQbCANaiENIAhBBGohCCAHQQFqIQcgCkEBayIKDQALIAlBB3UhCCANQQd1IQcgDkEHdSEKIA9BB3UhCSACIAZqCyECIAEgDEECdGogB0GAQGtBDnUiBkH/ASAGQf8BSBsiBkEAIAZBAEobQQh0QYD+A3EgCUGAQGtBDnUiBkH/ASAGQf8BSBsiBkEAIAZBAEobQRB0QYCA/AdxIApBgEBrQQ51IgZB/wEgBkH/AUgbIgZBACAGQQBKG0EYdHJyIAhBgEBrQQ51IgZB/wEgBkH/AUgbIgZBACAGQQBKG3I2AgAgAyAMaiEMIBNBAWoiEyAERw0ACyAUIAtBAWoiC2whEiADIAtHDQALCwuSAwEQfwJAIANFDQAgBEUNACADQQJ0IRUDQEEAIRNBACEGA0AgBkECaiEIAn8gBkEBdCAFaiIGLgECIgdFBEBBACEJQQAhDEEAIQ1BACEOIAgMAQsgEiAGLgEAaiEJQQAhDkEAIQ1BACEMIAchFEEAIQ8gCCEGA0AgBSAGQQF0ai4BACAAIAlBAnRqKAIAIhBBGHZsIhEgD2ohDyARIBBBEHZB/wFxbCAMaiEMIBEgEEEIdkH/AXFsIA1qIQ0gESAQQf8BcWwgDmohDiAJQQFqIQkgBkEBaiEGIBRBAWsiFA0ACyAPQQd1IQkgByAIagshBiABIApBAXQiCGogDkH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEECcmogDUH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEEEcmogDEH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEEGcmogCUEAIAlBAEobOwEAIAogFWohCiATQQFqIhMgBEcNAAsgC0EBaiILIAJsIRIgC0ECdCEKIAMgC0cNAAsLC4IEAQ9/AkAgA0UNACAERQ0AIAJBAnQhFANAIAshDEEAIRJBACEHA0AgB0ECaiEKAn8gB0EBdCAFaiICLgECIhNFBEBBACEIQQAhCUEAIQYgCiEHQQAMAQsgAi4BAEECdCARaiEJQQAhByATIQJBACENIAohBkEAIQ5BACEPA0AgBSAGQQF0ai4BACIIIAAgCUEBdCIQai8BAGwgB2ohByAAIBBBBnJqLwEAIAhsIA5qIQ4gACAQQQRyai8BACAIbCAPaiEPIAAgEEECcmovAQAgCGwgDWohDSAJQQRqIQkgBkEBaiEGIAJBAWsiAg0ACyAHQQd1IQggDUEHdSEJIA9BB3UhBiAKIBNqIQcgDkEHdQtBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKGyIKQf8BcQRAIAlB/wFsIAJtIQkgCEH/AWwgAm0hCCAGQf8BbCACbSEGCyABIAxBAnRqIAlBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKG0EIdEGA/gNxIAZBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKG0EQdEGAgPwHcSAKQRh0ciAIQYBAa0EOdSICQf8BIAJB/wFIGyICQQAgAkEAShtycjYCACADIAxqIQwgEkEBaiISIARHDQALIBQgC0EBaiILbCERIAMgC0cNAAsLC0AAIAcEQEEAIAIgAyAEIAUgABADIAJBACAEIAUgBiABEAQPC0EAIAIgAyAEIAUgABABIAJBACAEIAUgBiABEAIL"},{}],4:[function(n,r,i){r.exports={name:"resize",fn:n("./resize"),wasm_fn:n("./resize_wasm"),wasm_src:n("./convolve_wasm_base64")}},{"./convolve_wasm_base64":3,"./resize":5,"./resize_wasm":8}],5:[function(n,r,i){var s=n("./resize_filter_gen"),a=n("./convolve"),o=a.convolveHor,l=a.convolveVert,c=a.convolveHorWithPre,u=a.convolveVertWithPre;function f(p,y,m){for(var x=3,g=y*m*4|0;x<g;){if(p[x]!==255)return!0;x=x+4|0}return!1}function d(p,y,m){for(var x=3,g=y*m*4|0;x<g;)p[x]=255,x=x+4|0}r.exports=function(y){var m=y.src,x=y.width,g=y.height,h=y.toWidth,v=y.toHeight,E=y.scaleX||y.toWidth/y.width,w=y.scaleY||y.toHeight/y.height,A=y.offsetX||0,_=y.offsetY||0,S=y.dest||new Uint8Array(h*v*4),C=typeof y.filter>"u"?"mks2013":y.filter,I=s(C,x,h,E,A),P=s(C,g,v,w,_),F=new Uint16Array(h*g*4);return f(m,x,g)?(c(m,F,x,g,h,I),u(F,S,g,h,v,P)):(o(m,F,x,g,h,I),l(F,S,g,h,v,P),d(S,h,v)),S}},{"./convolve":2,"./resize_filter_gen":6}],6:[function(n,r,i){var s=n("./resize_filter_info"),a=14;function o(l){return Math.round(l*((1<<a)-1))}r.exports=function(c,u,f,d,p){var y=s.filter[c].fn,m=1/d,x=Math.min(1,d),g=s.filter[c].win/x,h,v,E,w,A,_,S,C,I,P,F,N,L,$,R,O,k,B=Math.floor((g+1)*2),T=new Int16Array((B+2)*f),M=0,D=!T.subarray||!T.set;for(h=0;h<f;h++){for(v=(h+.5)*m+p,E=Math.max(0,Math.floor(v-g)),w=Math.min(u-1,Math.ceil(v+g)),A=w-E+1,_=new Float32Array(A),S=new Int16Array(A),C=0,I=E,P=0;I<=w;I++,P++)F=y((I+.5-v)*x),C+=F,_[P]=F;for(N=0,P=0;P<_.length;P++)L=_[P]/C,N+=L,S[P]=o(L);for(S[f>>1]+=o(1-N),$=0;$<S.length&&S[$]===0;)$++;if($<S.length){for(R=S.length-1;R>0&&S[R]===0;)R--;if(O=E+$,k=R-$+1,T[M++]=O,T[M++]=k,!D)T.set(S.subarray($,R+1),M),M+=k;else for(P=$;P<=R;P++)T[M++]=S[P]}else T[M++]=0,T[M++]=0}return T}},{"./resize_filter_info":7}],7:[function(n,r,i){var s={box:{win:.5,fn:function(o){return o<0&&(o=-o),o<.5?1:0}},hamming:{win:1,fn:function(o){if(o<0&&(o=-o),o>=1)return 0;if(o<11920929e-14)return 1;var l=o*Math.PI;return Math.sin(l)/l*(.54+.46*Math.cos(l/1))}},lanczos2:{win:2,fn:function(o){if(o<0&&(o=-o),o>=2)return 0;if(o<11920929e-14)return 1;var l=o*Math.PI;return Math.sin(l)/l*Math.sin(l/2)/(l/2)}},lanczos3:{win:3,fn:function(o){if(o<0&&(o=-o),o>=3)return 0;if(o<11920929e-14)return 1;var l=o*Math.PI;return Math.sin(l)/l*Math.sin(l/3)/(l/3)}},mks2013:{win:2.5,fn:function(o){return o<0&&(o=-o),o>=2.5?0:o>=1.5?-.125*(o-2.5)*(o-2.5):o>=.5?.25*(4*o*o-11*o+7):1.0625-1.75*o*o}}};r.exports={filter:s,f2q:{box:0,hamming:1,lanczos2:2,lanczos3:3},q2f:["box","hamming","lanczos2","lanczos3"]}},{}],8:[function(n,r,i){var s=n("./resize_filter_gen");function a(f,d,p){for(var y=3,m=d*p*4|0;y<m;){if(f[y]!==255)return!0;y=y+4|0}return!1}function o(f,d,p){for(var y=3,m=d*p*4|0;y<m;)f[y]=255,y=y+4|0}function l(f){return new Uint8Array(f.buffer,0,f.byteLength)}var c=!0;try{c=new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0]===1}catch{}function u(f,d,p){if(c){d.set(l(f),p);return}for(var y=p,m=0;m<f.length;m++){var x=f[m];d[y++]=x&255,d[y++]=x>>8&255}}r.exports=function(d){var p=d.src,y=d.width,m=d.height,x=d.toWidth,g=d.toHeight,h=d.scaleX||d.toWidth/d.width,v=d.scaleY||d.toHeight/d.height,E=d.offsetX||0,w=d.offsetY||0,A=d.dest||new Uint8Array(x*g*4),_=typeof d.filter>"u"?"mks2013":d.filter,S=s(_,y,x,h,E),C=s(_,m,g,v,w),I=0,P=Math.max(p.byteLength,A.byteLength),F=this.__align(I+P),N=m*x*4*2,L=this.__align(F+N),$=this.__align(L+S.byteLength),R=$+C.byteLength,O=this.__instance("resize",R),k=new Uint8Array(this.__memory.buffer),B=new Uint32Array(this.__memory.buffer),T=new Uint32Array(p.buffer);B.set(T),u(S,k,L),u(C,k,$);var M=O.exports.convolveHV||O.exports._convolveHV;a(p,y,m)?M(L,$,F,y,m,x,g,1):(M(L,$,F,y,m,x,g,0),o(A,x,g));var D=new Uint32Array(A.buffer);return D.set(new Uint32Array(this.__memory.buffer,0,g*x)),A}},{"./resize_filter_gen":6}],9:[function(n,r,i){r.exports={name:"unsharp_mask",fn:n("./unsharp_mask"),wasm_fn:n("./unsharp_mask_wasm"),wasm_src:n("./unsharp_mask_wasm_base64")}},{"./unsharp_mask":10,"./unsharp_mask_wasm":11,"./unsharp_mask_wasm_base64":12}],10:[function(n,r,i){var s=n("glur/mono16");function a(o,l,c){for(var u=l*c,f=new Uint16Array(u),d,p,y,m,x=0;x<u;x++)d=o[4*x],p=o[4*x+1],y=o[4*x+2],m=d>=p&&d>=y?d:p>=y&&p>=d?p:y,f[x]=m<<8;return f}r.exports=function(l,c,u,f,d,p){var y,m,x,g,h;if(!(f===0||d<.5)){d>2&&(d=2);var v=a(l,c,u),E=new Uint16Array(v);s(E,c,u,d);for(var w=f/100*4096+.5|0,A=p<<8,_=c*u,S=0;S<_;S++)y=v[S],g=y-E[S],Math.abs(g)>=A&&(m=y+(w*g+2048>>12),m=m>65280?65280:m,m=m<0?0:m,y=y!==0?y:1,x=(m<<12)/y|0,h=S*4,l[h]=l[h]*x+2048>>12,l[h+1]=l[h+1]*x+2048>>12,l[h+2]=l[h+2]*x+2048>>12)}}},{"glur/mono16":18}],11:[function(n,r,i){r.exports=function(a,o,l,c,u,f){if(!(c===0||u<.5)){u>2&&(u=2);var d=o*l,p=d*4,y=d*2,m=d*2,x=Math.max(o,l)*4,g=8*4,h=0,v=p,E=v+y,w=E+m,A=w+m,_=A+x,S=this.__instance("unsharp_mask",p+y+m*2+x+g,{exp:Math.exp}),C=new Uint32Array(a.buffer),I=new Uint32Array(this.__memory.buffer);I.set(C);var P=S.exports.hsv_v16||S.exports._hsv_v16;P(h,v,o,l),P=S.exports.blurMono16||S.exports._blurMono16,P(v,E,w,A,_,o,l,u),P=S.exports.unsharp||S.exports._unsharp,P(h,h,v,E,o,l,c,f),C.set(new Uint32Array(this.__memory.buffer,0,d))}}},{}],12:[function(n,r,i){r.exports="AGFzbQEAAAAADAZkeWxpbmsAAAAAAAE0B2AAAGAEf39/fwBgBn9/f39/fwBgCH9/f39/f39/AGAIf39/f39/f30AYAJ9fwBgAXwBfAIZAgNlbnYDZXhwAAYDZW52Bm1lbW9yeQIAAAMHBgAFAgQBAwYGAX8AQQALB4oBCBFfX3dhc21fY2FsbF9jdG9ycwABFl9fYnVpbGRfZ2F1c3NpYW5fY29lZnMAAg5fX2dhdXNzMTZfbGluZQADCmJsdXJNb25vMTYABAdoc3ZfdjE2AAUHdW5zaGFycAAGDF9fZHNvX2hhbmRsZQMAGF9fd2FzbV9hcHBseV9kYXRhX3JlbG9jcwABCsUMBgMAAQvWAQEHfCABRNuGukOCGvs/IAC7oyICRAAAAAAAAADAohAAIgW2jDgCFCABIAKaEAAiAyADoCIGtjgCECABRAAAAAAAAPA/IAOhIgQgBKIgAyACIAKgokQAAAAAAADwP6AgBaGjIgS2OAIAIAEgBSAEmqIiB7Y4AgwgASADIAJEAAAAAAAA8D+gIASioiIItjgCCCABIAMgAkQAAAAAAADwv6AgBKKiIgK2OAIEIAEgByAIoCAFRAAAAAAAAPA/IAahoCIDo7Y4AhwgASAEIAKgIAOjtjgCGAuGBQMGfwl8An0gAyoCDCEVIAMqAgghFiADKgIUuyERIAMqAhC7IRACQCAEQQFrIghBAEgiCQRAIAIhByAAIQYMAQsgAiAALwEAuCIPIAMqAhi7oiIMIBGiIg0gDCAQoiAPIAMqAgS7IhOiIhQgAyoCALsiEiAPoqCgoCIOtjgCACACQQRqIQcgAEECaiEGIAhFDQAgCEEBIAhBAUgbIgpBf3MhCwJ/IAQgCmtBAXFFBEAgDiENIAgMAQsgAiANIA4gEKIgFCASIAAvAQK4Ig+ioKCgIg22OAIEIAJBCGohByAAQQRqIQYgDiEMIARBAmsLIQIgC0EAIARrRg0AA0AgByAMIBGiIA0gEKIgDyAToiASIAYvAQC4Ig6ioKCgIgy2OAIAIAcgDSARoiAMIBCiIA4gE6IgEiAGLwECuCIPoqCgoCINtjgCBCAHQQhqIQcgBkEEaiEGIAJBAkohACACQQJrIQIgAA0ACwsCQCAJDQAgASAFIAhsQQF0aiIAAn8gBkECay8BACICuCINIBW7IhKiIA0gFrsiE6KgIA0gAyoCHLuiIgwgEKKgIAwgEaKgIg8gB0EEayIHKgIAu6AiDkQAAAAAAADwQWMgDkQAAAAAAAAAAGZxBEAgDqsMAQtBAAs7AQAgCEUNACAGQQRrIQZBACAFa0EBdCEBA0ACfyANIBKiIAJB//8DcbgiDSAToqAgDyIOIBCioCAMIBGioCIPIAdBBGsiByoCALugIgxEAAAAAAAA8EFjIAxEAAAAAAAAAABmcQRAIAyrDAELQQALIQMgBi8BACECIAAgAWoiACADOwEAIAZBAmshBiAIQQFKIQMgDiEMIAhBAWshCCADDQALCwvRAgIBfwd8AkAgB0MAAAAAWw0AIARE24a6Q4Ia+z8gB0MAAAA/l7ujIglEAAAAAAAAAMCiEAAiDLaMOAIUIAQgCZoQACIKIAqgIg22OAIQIAREAAAAAAAA8D8gCqEiCyALoiAKIAkgCaCiRAAAAAAAAPA/oCAMoaMiC7Y4AgAgBCAMIAuaoiIOtjgCDCAEIAogCUQAAAAAAADwP6AgC6KiIg+2OAIIIAQgCiAJRAAAAAAAAPC/oCALoqIiCbY4AgQgBCAOIA+gIAxEAAAAAAAA8D8gDaGgIgqjtjgCHCAEIAsgCaAgCqO2OAIYIAYEQANAIAAgBSAIbEEBdGogAiAIQQF0aiADIAQgBSAGEAMgCEEBaiIIIAZHDQALCyAFRQ0AQQAhCANAIAIgBiAIbEEBdGogASAIQQF0aiADIAQgBiAFEAMgCEEBaiIIIAVHDQALCwtxAQN/IAIgA2wiBQRAA0AgASAAKAIAIgRBEHZB/wFxIgIgAiAEQQh2Qf8BcSIDIAMgBEH/AXEiBEkbIAIgA0sbIgYgBiAEIAIgBEsbIAMgBEsbQQh0OwEAIAFBAmohASAAQQRqIQAgBUEBayIFDQALCwuZAgIDfwF8IAQgBWwhBAJ/IAazQwAAgEWUQwAAyEKVu0QAAAAAAADgP6AiC5lEAAAAAAAA4EFjBEAgC6oMAQtBgICAgHgLIQUgBARAIAdBCHQhCUEAIQYDQCAJIAIgBkEBdCIHai8BACIBIAMgB2ovAQBrIgcgB0EfdSIIaiAIc00EQCAAIAZBAnQiCGoiCiAFIAdsQYAQakEMdSABaiIHQYD+AyAHQYD+A0gbIgdBACAHQQBKG0EMdCABQQEgARtuIgEgCi0AAGxBgBBqQQx2OgAAIAAgCEEBcmoiByABIActAABsQYAQakEMdjoAACAAIAhBAnJqIgcgASAHLQAAbEGAEGpBDHY6AAALIAZBAWoiBiAERw0ACwsL"},{}],13:[function(n,r,i){var s=100;function a(o,l){this.create=o,this.available=[],this.acquired={},this.lastId=1,this.timeoutId=0,this.idle=l||2e3}a.prototype.acquire=function(){var o=this,l;return this.available.length!==0?l=this.available.pop():(l=this.create(),l.id=this.lastId++,l.release=function(){return o.release(l)}),this.acquired[l.id]=l,l},a.prototype.release=function(o){var l=this;delete this.acquired[o.id],o.lastUsed=Date.now(),this.available.push(o),this.timeoutId===0&&(this.timeoutId=setTimeout(function(){return l.gc()},s))},a.prototype.gc=function(){var o=this,l=Date.now();this.available=this.available.filter(function(c){return l-c.lastUsed>o.idle?(c.destroy(),!1):!0}),this.available.length!==0?this.timeoutId=setTimeout(function(){return o.gc()},s):this.timeoutId=0},r.exports=a},{}],14:[function(n,r,i){var s=2;r.exports=function(o,l,c,u,f,d){var p=c/o,y=u/l,m=(2*d+s+1)/f;if(m>.5)return[[c,u]];var x=Math.ceil(Math.log(Math.min(p,y))/Math.log(m));if(x<=1)return[[c,u]];for(var g=[],h=0;h<x;h++){var v=Math.round(Math.pow(Math.pow(o,x-h-1)*Math.pow(c,h+1),1/x)),E=Math.round(Math.pow(Math.pow(l,x-h-1)*Math.pow(u,h+1),1/x));g.push([v,E])}return g}},{}],15:[function(n,r,i){var s=1e-5;function a(l){var c=Math.round(l);return Math.abs(l-c)<s?c:Math.floor(l)}function o(l){var c=Math.round(l);return Math.abs(l-c)<s?c:Math.ceil(l)}r.exports=function(c){var u=c.toWidth/c.width,f=c.toHeight/c.height,d=a(c.srcTileSize*u)-2*c.destTileBorder,p=a(c.srcTileSize*f)-2*c.destTileBorder;if(d<1||p<1)throw new Error("Internal error in pica: target tile width/height is too small.");var y,m,x,g,h,v,E=[],w;for(g=0;g<c.toHeight;g+=p)for(x=0;x<c.toWidth;x+=d)y=x-c.destTileBorder,y<0&&(y=0),h=x+d+c.destTileBorder-y,y+h>=c.toWidth&&(h=c.toWidth-y),m=g-c.destTileBorder,m<0&&(m=0),v=g+p+c.destTileBorder-m,m+v>=c.toHeight&&(v=c.toHeight-m),w={toX:y,toY:m,toWidth:h,toHeight:v,toInnerX:x,toInnerY:g,toInnerWidth:d,toInnerHeight:p,offsetX:y/u-a(y/u),offsetY:m/f-a(m/f),scaleX:u,scaleY:f,x:a(y/u),y:a(m/f),width:o(h/u),height:o(v/f)},E.push(w);return E}},{}],16:[function(n,r,i){function s(a){return Object.prototype.toString.call(a)}r.exports.isCanvas=function(o){var l=s(o);return l==="[object HTMLCanvasElement]"||l==="[object OffscreenCanvas]"||l==="[object Canvas]"},r.exports.isImage=function(o){return s(o)==="[object HTMLImageElement]"},r.exports.isImageBitmap=function(o){return s(o)==="[object ImageBitmap]"},r.exports.limiter=function(o){var l=0,c=[];function u(){l<o&&c.length&&(l++,c.shift()())}return function(d){return new Promise(function(p,y){c.push(function(){d().then(function(m){p(m),l--,u()},function(m){y(m),l--,u()})}),u()})}},r.exports.cib_quality_name=function(o){switch(o){case 0:return"pixelated";case 1:return"low";case 2:return"medium"}return"high"},r.exports.cib_support=function(o){return Promise.resolve().then(function(){if(typeof createImageBitmap>"u")return!1;var l=o(100,100);return createImageBitmap(l,0,0,100,100,{resizeWidth:10,resizeHeight:10,resizeQuality:"high"}).then(function(c){var u=c.width===10;return c.close(),l=null,u})}).catch(function(){return!1})},r.exports.worker_offscreen_canvas_support=function(){return new Promise(function(o,l){if(typeof OffscreenCanvas>"u"){o(!1);return}function c(d){if(typeof createImageBitmap>"u"){d.postMessage(!1);return}Promise.resolve().then(function(){var p=new OffscreenCanvas(10,10),y=p.getContext("2d");return y.rect(0,0,1,1),createImageBitmap(p,0,0,1,1)}).then(function(){return d.postMessage(!0)},function(){return d.postMessage(!1)})}var u=btoa("(".concat(c.toString(),")(self);")),f=new Worker("data:text/javascript;base64,".concat(u));f.onmessage=function(d){return o(d.data)},f.onerror=l}).then(function(o){return o},function(){return!1})},r.exports.can_use_canvas=function(o){var l=!1;try{var c=o(2,1),u=c.getContext("2d"),f=u.createImageData(2,1);f.data[0]=12,f.data[1]=23,f.data[2]=34,f.data[3]=255,f.data[4]=45,f.data[5]=56,f.data[6]=67,f.data[7]=255,u.putImageData(f,0,0),f=null,f=u.getImageData(0,0,2,1),f.data[0]===12&&f.data[1]===23&&f.data[2]===34&&f.data[3]===255&&f.data[4]===45&&f.data[5]===56&&f.data[6]===67&&f.data[7]===255&&(l=!0)}catch{}return l},r.exports.cib_can_use_region=function(){return new Promise(function(o){if(typeof Image>"u"||typeof createImageBitmap>"u"){o(!1);return}var l=new Image;l.src="data:image/jpeg;base64,/9j/4QBiRXhpZgAATU0AKgAAAAgABQESAAMAAAABAAYAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAAAAABIAAAAAQAAAEgAAAAB/9sAQwAEAwMEAwMEBAMEBQQEBQYKBwYGBgYNCQoICg8NEBAPDQ8OERMYFBESFxIODxUcFRcZGRsbGxAUHR8dGh8YGhsa/9sAQwEEBQUGBQYMBwcMGhEPERoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoa/8IAEQgAAQACAwERAAIRAQMRAf/EABQAAQAAAAAAAAAAAAAAAAAAAAf/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAF/P//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAQUCf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Bf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Bf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEABj8Cf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAT8hf//aAAwDAQACAAMAAAAQH//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Qf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Qf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAT8Qf//Z",l.onload=function(){createImageBitmap(l,0,0,l.width,l.height).then(function(c){c.width===l.width&&c.height===l.height?o(!0):o(!1)},function(){return o(!1)})},l.onerror=function(){return o(!1)}})}},{}],17:[function(n,r,i){r.exports=function(){var s=n("./mathlib"),a;onmessage=function(l){var c=l.data.opts;if(!c.src&&c.srcBitmap){var u=new OffscreenCanvas(c.width,c.height),f=u.getContext("2d");f.drawImage(c.srcBitmap,0,0),c.src=f.getImageData(0,0,c.width,c.height).data,u.width=u.height=0,u=null,c.srcBitmap.close(),c.srcBitmap=null}a||(a=new s(l.data.features));var d=a.resizeAndUnsharp(c);postMessage({data:d},[d.buffer])}}},{"./mathlib":1}],18:[function(n,r,i){var s,a,o,l,c,u,f,d;function p(x){x<.5&&(x=.5);var g=Math.exp(.726*.726)/x,h=Math.exp(-g),v=Math.exp(-2*g),E=(1-h)*(1-h)/(1+2*g*h-v);return s=E,a=E*(g-1)*h,o=E*(g+1)*h,l=-E*v,c=2*h,u=-v,f=(s+a)/(1-c-u),d=(o+l)/(1-c-u),new Float32Array([s,a,o,l,c,u,f,d])}function y(x,g,h,v,E,w){var A,_,S,C,I,P,F,N,L,$,R,O,k,B;for(L=0;L<w;L++){for(P=L*E,F=L,N=0,A=x[P],I=A*v[6],C=I,R=v[0],O=v[1],k=v[4],B=v[5],$=0;$<E;$++)_=x[P],S=_*R+A*O+C*k+I*B,I=C,C=S,A=_,h[N]=C,N++,P++;for(P--,N--,F+=w*(E-1),A=x[P],I=A*v[7],C=I,_=A,R=v[2],O=v[3],$=E-1;$>=0;$--)S=_*R+A*O+C*k+I*B,I=C,C=S,A=_,_=x[P],g[F]=h[N]+C,P--,N--,F-=w}}function m(x,g,h,v){if(v){var E=new Uint16Array(x.length),w=new Float32Array(Math.max(g,h)),A=p(v);y(x,E,w,A,g,h),y(E,x,w,A,h,g)}}r.exports=m},{}],19:[function(n,r,i){var s=n("object-assign"),a=n("./lib/base64decode"),o=n("./lib/wa_detect"),l={js:!0,wasm:!0};function c(u){if(!(this instanceof c))return new c(u);var f=s({},l,u||{});if(this.options=f,this.__cache={},this.__init_promise=null,this.__modules=f.modules||{},this.__memory=null,this.__wasm={},this.__isLE=new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0]===1,!this.options.js&&!this.options.wasm)throw new Error('mathlib: at least "js" or "wasm" should be enabled')}c.prototype.has_wasm=o,c.prototype.use=function(u){return this.__modules[u.name]=u,this.options.wasm&&this.has_wasm()&&u.wasm_fn?this[u.name]=u.wasm_fn:this[u.name]=u.fn,this},c.prototype.init=function(){if(this.__init_promise)return this.__init_promise;if(!this.options.js&&this.options.wasm&&!this.has_wasm())return Promise.reject(new Error(`mathlib: only "wasm" was enabled, but it's not supported`));var u=this;return this.__init_promise=Promise.all(Object.keys(u.__modules).map(function(f){var d=u.__modules[f];return!u.options.wasm||!u.has_wasm()||!d.wasm_fn||u.__wasm[f]?null:WebAssembly.compile(u.__base64decode(d.wasm_src)).then(function(p){u.__wasm[f]=p})})).then(function(){return u}),this.__init_promise},c.prototype.__base64decode=a,c.prototype.__reallocate=function(f){if(!this.__memory)return this.__memory=new WebAssembly.Memory({initial:Math.ceil(f/(64*1024))}),this.__memory;var d=this.__memory.buffer.byteLength;return d<f&&this.__memory.grow(Math.ceil((f-d)/(64*1024))),this.__memory},c.prototype.__instance=function(f,d,p){if(d&&this.__reallocate(d),!this.__wasm[f]){var y=this.__modules[f];this.__wasm[f]=new WebAssembly.Module(this.__base64decode(y.wasm_src))}if(!this.__cache[f]){var m={memoryBase:0,memory:this.__memory,tableBase:0,table:new WebAssembly.Table({initial:0,element:"anyfunc"})};this.__cache[f]=new WebAssembly.Instance(this.__wasm[f],{env:s(m,p||{})})}return this.__cache[f]},c.prototype.__align=function(f,d){d=d||8;var p=f%d;return f+(p?d-p:0)},r.exports=c},{"./lib/base64decode":20,"./lib/wa_detect":21,"object-assign":22}],20:[function(n,r,i){var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";r.exports=function(o){for(var l=o.replace(/[\r\n=]/g,""),c=l.length,u=new Uint8Array(c*3>>2),f=0,d=0,p=0;p<c;p++)p%4===0&&p&&(u[d++]=f>>16&255,u[d++]=f>>8&255,u[d++]=f&255),f=f<<6|s.indexOf(l.charAt(p));var y=c%4*6;return y===0?(u[d++]=f>>16&255,u[d++]=f>>8&255,u[d++]=f&255):y===18?(u[d++]=f>>10&255,u[d++]=f>>2&255):y===12&&(u[d++]=f>>4&255),u}},{}],21:[function(n,r,i){var s;r.exports=function(){if(typeof s<"u"||(s=!1,typeof WebAssembly>"u"))return s;try{var o=new Uint8Array([0,97,115,109,1,0,0,0,1,6,1,96,1,127,1,127,3,2,1,0,5,3,1,0,1,7,8,1,4,116,101,115,116,0,0,10,16,1,14,0,32,0,65,1,54,2,0,32,0,40,2,0,11]),l=new WebAssembly.Module(o),c=new WebAssembly.Instance(l,{});return c.exports.test(4)!==0&&(s=!0),s}catch{}return s}},{}],22:[function(n,r,i){var s=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function l(u){if(u==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(u)}function c(){try{if(!Object.assign)return!1;var u=new String("abc");if(u[5]="de",Object.getOwnPropertyNames(u)[0]==="5")return!1;for(var f={},d=0;d<10;d++)f["_"+String.fromCharCode(d)]=d;var p=Object.getOwnPropertyNames(f).map(function(m){return f[m]});if(p.join("")!=="0123456789")return!1;var y={};return"abcdefghijklmnopqrst".split("").forEach(function(m){y[m]=m}),Object.keys(Object.assign({},y)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}r.exports=c()?Object.assign:function(u,f){for(var d,p=l(u),y,m=1;m<arguments.length;m++){d=Object(arguments[m]);for(var x in d)a.call(d,x)&&(p[x]=d[x]);if(s){y=s(d);for(var g=0;g<y.length;g++)o.call(d,y[g])&&(p[y[g]]=d[y[g]])}}return p}},{}],23:[function(n,r,i){var s=arguments[3],a=arguments[4],o=arguments[5],l=JSON.stringify;r.exports=function(c,u){for(var f,d=Object.keys(o),p=0,y=d.length;p<y;p++){var m=d[p],x=o[m].exports;if(x===c||x&&x.default===c){f=m;break}}if(!f){f=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var g={},p=0,y=d.length;p<y;p++){var m=d[p];g[m]=m}a[f]=["function(require,module,exports){"+c+"(self); }",g]}var h=Math.floor(Math.pow(16,8)*Math.random()).toString(16),v={};v[f]=f,a[h]=["function(require,module,exports){var f = require("+l(f)+");(f.default ? f.default : f)(self);}",v];var E={};w(h);function w(P){E[P]=!0;for(var F in a[P][1]){var N=a[P][1][F];E[N]||w(N)}}var A="("+s+")({"+Object.keys(E).map(function(P){return l(P)+":["+a[P][0]+","+l(a[P][1])+"]"}).join(",")+"},{},["+l(h)+"])",_=window.URL||window.webkitURL||window.mozURL||window.msURL,S=new Blob([A],{type:"text/javascript"});if(u&&u.bare)return S;var C=_.createObjectURL(S),I=new Worker(C);return I.objectURL=C,I}},{}],"/index.js":[function(n,r,i){function s(R,O){return u(R)||c(R,O)||o(R,O)||a()}function a(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o(R,O){if(R){if(typeof R=="string")return l(R,O);var k=Object.prototype.toString.call(R).slice(8,-1);if(k==="Object"&&R.constructor&&(k=R.constructor.name),k==="Map"||k==="Set")return Array.from(R);if(k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return l(R,O)}}function l(R,O){(O==null||O>R.length)&&(O=R.length);for(var k=0,B=new Array(O);k<O;k++)B[k]=R[k];return B}function c(R,O){var k=R==null?null:typeof Symbol<"u"&&R[Symbol.iterator]||R["@@iterator"];if(k!=null){var B=[],T=!0,M=!1,D,Q;try{for(k=k.call(R);!(T=(D=k.next()).done)&&(B.push(D.value),!(O&&B.length===O));T=!0);}catch(V){M=!0,Q=V}finally{try{!T&&k.return!=null&&k.return()}finally{if(M)throw Q}}return B}}function u(R){if(Array.isArray(R))return R}var f=n("object-assign"),d=n("webworkify"),p=n("./lib/mathlib"),y=n("./lib/pool"),m=n("./lib/utils"),x=n("./lib/worker"),g=n("./lib/stepper"),h=n("./lib/tiler"),v=n("./lib/mm_resize/resize_filter_info"),E={},w=!1;try{typeof navigator<"u"&&navigator.userAgent&&(w=navigator.userAgent.indexOf("Safari")>=0)}catch{}var A=1;typeof navigator<"u"&&(A=Math.min(navigator.hardwareConcurrency||1,4));var _={tile:1024,concurrency:A,features:["js","wasm","ww"],idle:2e3,createCanvas:function(O,k){var B=document.createElement("canvas");return B.width=O,B.height=k,B}},S={filter:"mks2013",unsharpAmount:0,unsharpRadius:0,unsharpThreshold:0},C=!1,I=!1,P=!1,F=!1,N=!1;function L(){return{value:d(x),destroy:function(){if(this.value.terminate(),typeof window<"u"){var O=window.URL||window.webkitURL||window.mozURL||window.msURL;O&&O.revokeObjectURL&&this.value.objectURL&&O.revokeObjectURL(this.value.objectURL)}}}}function $(R){if(!(this instanceof $))return new $(R);this.options=f({},_,R||{});var O="lk_".concat(this.options.concurrency);this.__limit=E[O]||m.limiter(this.options.concurrency),E[O]||(E[O]=this.__limit),this.features={js:!1,wasm:!1,cib:!1,ww:!1},this.__workersPool=null,this.__requested_features=[],this.__mathlib=null}$.prototype.init=function(){var R=this;if(this.__initPromise)return this.__initPromise;if(typeof ImageData<"u"&&typeof Uint8ClampedArray<"u")try{new ImageData(new Uint8ClampedArray(400),10,10),C=!0}catch{}typeof ImageBitmap<"u"&&(ImageBitmap.prototype&&ImageBitmap.prototype.close?I=!0:this.debug("ImageBitmap does not support .close(), disabled"));var O=this.options.features.slice();if(O.indexOf("all")>=0&&(O=["cib","wasm","js","ww"]),this.__requested_features=O,this.__mathlib=new p(O),O.indexOf("ww")>=0&&typeof window<"u"&&"Worker"in window)try{var k=n("webworkify")(function(){});k.terminate(),this.features.ww=!0;var B="wp_".concat(JSON.stringify(this.options));E[B]?this.__workersPool=E[B]:(this.__workersPool=new y(L,this.options.idle),E[B]=this.__workersPool)}catch{}var T=this.__mathlib.init().then(function(V){f(R.features,V.features)}),M;I?M=m.cib_support(this.options.createCanvas).then(function(V){if(R.features.cib&&O.indexOf("cib")<0){R.debug("createImageBitmap() resize supported, but disabled by config");return}O.indexOf("cib")>=0&&(R.features.cib=V)}):M=Promise.resolve(!1),P=m.can_use_canvas(this.options.createCanvas);var D;I&&C&&O.indexOf("ww")!==-1?D=m.worker_offscreen_canvas_support():D=Promise.resolve(!1),D=D.then(function(V){F=V});var Q=m.cib_can_use_region().then(function(V){N=V});return this.__initPromise=Promise.all([T,M,D,Q]).then(function(){return R}),this.__initPromise},$.prototype.__invokeResize=function(R,O){var k=this;return O.__mathCache=O.__mathCache||{},Promise.resolve().then(function(){return k.features.ww?new Promise(function(B,T){var M=k.__workersPool.acquire();O.cancelToken&&O.cancelToken.catch(function(Q){return T(Q)}),M.value.onmessage=function(Q){M.release(),Q.data.err?T(Q.data.err):B(Q.data)};var D=[];R.src&&D.push(R.src.buffer),R.srcBitmap&&D.push(R.srcBitmap),M.value.postMessage({opts:R,features:k.__requested_features,preload:{wasm_nodule:k.__mathlib.__}},D)}):{data:k.__mathlib.resizeAndUnsharp(R,O.__mathCache)}})},$.prototype.__extractTileData=function(R,O,k,B,T){if(this.features.ww&&F&&(m.isCanvas(O)||N))return this.debug("Create tile for OffscreenCanvas"),createImageBitmap(B.srcImageBitmap||O,R.x,R.y,R.width,R.height).then(function(Q){return T.srcBitmap=Q,T});if(m.isCanvas(O))return B.srcCtx||(B.srcCtx=O.getContext("2d")),this.debug("Get tile pixel data"),T.src=B.srcCtx.getImageData(R.x,R.y,R.width,R.height).data,T;this.debug("Draw tile imageBitmap/image to temporary canvas");var M=this.options.createCanvas(R.width,R.height),D=M.getContext("2d");return D.globalCompositeOperation="copy",D.drawImage(B.srcImageBitmap||O,R.x,R.y,R.width,R.height,0,0,R.width,R.height),this.debug("Get tile pixel data"),T.src=D.getImageData(0,0,R.width,R.height).data,M.width=M.height=0,T},$.prototype.__landTileData=function(R,O,k){var B;if(this.debug("Convert raw rgba tile result to ImageData"),O.bitmap)return k.toCtx.drawImage(O.bitmap,R.toX,R.toY),null;if(C)B=new ImageData(new Uint8ClampedArray(O.data),R.toWidth,R.toHeight);else if(B=k.toCtx.createImageData(R.toWidth,R.toHeight),B.data.set)B.data.set(O.data);else for(var T=B.data.length-1;T>=0;T--)B.data[T]=O.data[T];return this.debug("Draw tile"),w?k.toCtx.putImageData(B,R.toX,R.toY,R.toInnerX-R.toX,R.toInnerY-R.toY,R.toInnerWidth+1e-5,R.toInnerHeight+1e-5):k.toCtx.putImageData(B,R.toX,R.toY,R.toInnerX-R.toX,R.toInnerY-R.toY,R.toInnerWidth,R.toInnerHeight),null},$.prototype.__tileAndResize=function(R,O,k){var B=this,T={srcCtx:null,srcImageBitmap:null,isImageBitmapReused:!1,toCtx:null},M=function(Q){return B.__limit(function(){if(k.canceled)return k.cancelToken;var V={width:Q.width,height:Q.height,toWidth:Q.toWidth,toHeight:Q.toHeight,scaleX:Q.scaleX,scaleY:Q.scaleY,offsetX:Q.offsetX,offsetY:Q.offsetY,filter:k.filter,unsharpAmount:k.unsharpAmount,unsharpRadius:k.unsharpRadius,unsharpThreshold:k.unsharpThreshold};return B.debug("Invoke resize math"),Promise.resolve(V).then(function(K){return B.__extractTileData(Q,R,k,T,K)}).then(function(K){return B.debug("Invoke resize math"),B.__invokeResize(K,k)}).then(function(K){return k.canceled?k.cancelToken:(T.srcImageData=null,B.__landTileData(Q,K,T))})})};return Promise.resolve().then(function(){if(T.toCtx=O.getContext("2d"),m.isCanvas(R))return null;if(m.isImageBitmap(R))return T.srcImageBitmap=R,T.isImageBitmapReused=!0,null;if(m.isImage(R))return I?(B.debug("Decode image via createImageBitmap"),createImageBitmap(R).then(function(D){T.srcImageBitmap=D}).catch(function(D){return null})):null;throw new Error('Pica: ".from" should be Image, Canvas or ImageBitmap')}).then(function(){if(k.canceled)return k.cancelToken;B.debug("Calculate tiles");var D=h({width:k.width,height:k.height,srcTileSize:B.options.tile,toWidth:k.toWidth,toHeight:k.toHeight,destTileBorder:k.__destTileBorder}),Q=D.map(function(K){return M(K)});function V(K){K.srcImageBitmap&&(K.isImageBitmapReused||K.srcImageBitmap.close(),K.srcImageBitmap=null)}return B.debug("Process tiles"),Promise.all(Q).then(function(){return B.debug("Finished!"),V(T),O},function(K){throw V(T),K})})},$.prototype.__processStages=function(R,O,k,B){var T=this;if(B.canceled)return B.cancelToken;var M=R.shift(),D=s(M,2),Q=D[0],V=D[1],K=R.length===0,ve;K||v.q2f.indexOf(B.filter)<0?ve=B.filter:B.filter==="box"?ve="box":ve="hamming",B=f({},B,{toWidth:Q,toHeight:V,filter:ve});var He;return K||(He=this.options.createCanvas(Q,V)),this.__tileAndResize(O,K?k:He,B).then(function(){return K?k:(B.width=Q,B.height=V,T.__processStages(R,He,k,B))}).then(function(Oi){return He&&(He.width=He.height=0),Oi})},$.prototype.__resizeViaCreateImageBitmap=function(R,O,k){var B=this,T=O.getContext("2d");return this.debug("Resize via createImageBitmap()"),createImageBitmap(R,{resizeWidth:k.toWidth,resizeHeight:k.toHeight,resizeQuality:m.cib_quality_name(v.f2q[k.filter])}).then(function(M){if(k.canceled)return k.cancelToken;if(!k.unsharpAmount)return T.drawImage(M,0,0),M.close(),T=null,B.debug("Finished!"),O;B.debug("Unsharp result");var D=B.options.createCanvas(k.toWidth,k.toHeight),Q=D.getContext("2d");Q.drawImage(M,0,0),M.close();var V=Q.getImageData(0,0,k.toWidth,k.toHeight);return B.__mathlib.unsharp_mask(V.data,k.toWidth,k.toHeight,k.unsharpAmount,k.unsharpRadius,k.unsharpThreshold),T.putImageData(V,0,0),D.width=D.height=0,V=Q=D=T=null,B.debug("Finished!"),O})},$.prototype.resize=function(R,O,k){var B=this;this.debug("Start resize...");var T=f({},S);if(isNaN(k)?k&&(T=f(T,k)):T=f(T,{quality:k}),T.toWidth=O.width,T.toHeight=O.height,T.width=R.naturalWidth||R.width,T.height=R.naturalHeight||R.height,Object.prototype.hasOwnProperty.call(T,"quality")){if(T.quality<0||T.quality>3)throw new Error("Pica: .quality should be [0..3], got ".concat(T.quality));T.filter=v.q2f[T.quality]}if(O.width===0||O.height===0)return Promise.reject(new Error("Invalid output size: ".concat(O.width,"x").concat(O.height)));T.unsharpRadius>2&&(T.unsharpRadius=2),T.canceled=!1,T.cancelToken&&(T.cancelToken=T.cancelToken.then(function(D){throw T.canceled=!0,D},function(D){throw T.canceled=!0,D}));var M=3;return T.__destTileBorder=Math.ceil(Math.max(M,2.5*T.unsharpRadius|0)),this.init().then(function(){if(T.canceled)return T.cancelToken;if(B.features.cib){if(v.q2f.indexOf(T.filter)>=0)return B.__resizeViaCreateImageBitmap(R,O,T);B.debug("cib is enabled, but not supports provided filter, fallback to manual math")}if(!P){var D=new Error("Pica: cannot use getImageData on canvas, make sure fingerprinting protection isn't enabled");throw D.code="ERR_GET_IMAGE_DATA",D}var Q=g(T.width,T.height,T.toWidth,T.toHeight,B.options.tile,T.__destTileBorder);return B.__processStages(Q,R,O,T)})},$.prototype.resizeBuffer=function(R){var O=this,k=f({},S,R);if(Object.prototype.hasOwnProperty.call(k,"quality")){if(k.quality<0||k.quality>3)throw new Error("Pica: .quality should be [0..3], got ".concat(k.quality));k.filter=v.q2f[k.quality]}return this.init().then(function(){return O.__mathlib.resizeAndUnsharp(k)})},$.prototype.toBlob=function(R,O,k){return O=O||"image/png",new Promise(function(B){if(R.toBlob){R.toBlob(function(V){return B(V)},O,k);return}if(R.convertToBlob){B(R.convertToBlob({type:O,quality:k}));return}for(var T=atob(R.toDataURL(O,k).split(",")[1]),M=T.length,D=new Uint8Array(M),Q=0;Q<M;Q++)D[Q]=T.charCodeAt(Q);B(new Blob([D],{type:O}))})},$.prototype.debug=function(){},r.exports=$},{"./lib/mathlib":1,"./lib/mm_resize/resize_filter_info":7,"./lib/pool":13,"./lib/stepper":14,"./lib/tiler":15,"./lib/utils":16,"./lib/worker":17,"object-assign":22,webworkify:23}]},{},[])("/index.js")})})(Sv);var kI=Sv.exports;const RI=yl(kI);var Cf={exports:{}};(function(e,t){(function(){var n={};n.version="1.0.4",n.remove=function(w){var A=!1;if(w.slice(0,2)!="")if(w.slice(0,23)=="data:image/jpeg;base64,"||w.slice(0,22)=="data:image/jpg;base64,")w=d(w.split(",")[1]),A=!0;else throw new Error("Given data is not jpeg.");var _=x(w),S=_.filter(function(I){return!(I.slice(0,2)==""&&I.slice(4,10)=="Exif\0\0")}),C=S.join("");return A&&(C="data:image/jpeg;base64,"+f(C)),C},n.insert=function(w,A){var _=!1;if(w.slice(0,6)!="Exif\0\0")throw new Error("Given data is not exif.");if(A.slice(0,2)!="")if(A.slice(0,23)=="data:image/jpeg;base64,"||A.slice(0,22)=="data:image/jpg;base64,")A=d(A.split(",")[1]),_=!0;else throw new Error("Given data is not jpeg.");var S=""+p(">H",[w.length+2])+w,C=x(A),I=h(C,S);return _&&(I="data:image/jpeg;base64,"+f(I)),I},n.load=function(w){var A;if(typeof w=="string")if(w.slice(0,2)=="")A=w;else if(w.slice(0,23)=="data:image/jpeg;base64,"||w.slice(0,22)=="data:image/jpg;base64,")A=d(w.split(",")[1]);else if(w.slice(0,4)=="Exif")A=w.slice(6);else throw new Error("'load' gots invalid file data.");else throw new Error("'load' gots invalid type argument.");var _={"0th":{},Exif:{},GPS:{},Interop:{},"1st":{},thumbnail:null},S=new u(A);if(S.tiftag===null)return _;S.tiftag.slice(0,2)=="II"?S.endian_mark="<":S.endian_mark=">";var C=y(S.endian_mark+"L",S.tiftag.slice(4,8))[0];_["0th"]=S.get_ifd(C,"0th");var I=_["0th"].first_ifd_pointer;if(delete _["0th"].first_ifd_pointer,34665 in _["0th"]&&(C=_["0th"][34665],_.Exif=S.get_ifd(C,"Exif")),34853 in _["0th"]&&(C=_["0th"][34853],_.GPS=S.get_ifd(C,"GPS")),40965 in _.Exif&&(C=_.Exif[40965],_.Interop=S.get_ifd(C,"Interop")),I!="\0\0\0\0"&&(C=y(S.endian_mark+"L",I)[0],_["1st"]=S.get_ifd(C,"1st"),513 in _["1st"]&&514 in _["1st"])){var P=_["1st"][513]+_["1st"][514],F=S.tiftag.slice(_["1st"][513],P);_.thumbnail=F}return _},n.dump=function(w){var A=8,_=r(w),S="Exif\0\0MM\0*\0\0\0\b",C=!1,I=!1,P=!1,F=!1,N,L,$,R,O;"0th"in _?N=_["0th"]:N={},"Exif"in _&&Object.keys(_.Exif).length||"Interop"in _&&Object.keys(_.Interop).length?(N[34665]=1,C=!0,L=_.Exif,"Interop"in _&&Object.keys(_.Interop).length?(L[40965]=1,P=!0,$=_.Interop):Object.keys(L).indexOf(n.ExifIFD.InteroperabilityTag.toString())>-1&&delete L[40965]):Object.keys(N).indexOf(n.ImageIFD.ExifTag.toString())>-1&&delete N[34665],"GPS"in _&&Object.keys(_.GPS).length?(N[n.ImageIFD.GPSTag]=1,I=!0,R=_.GPS):Object.keys(N).indexOf(n.ImageIFD.GPSTag.toString())>-1&&delete N[n.ImageIFD.GPSTag],"1st"in _&&"thumbnail"in _&&_.thumbnail!=null&&(F=!0,_["1st"][513]=1,_["1st"][514]=1,O=_["1st"]);var k=c(N,"0th",0),B=k[0].length+C*12+I*12+4+k[1].length,T,M="",D=0,Q,V="",K=0,ve,He="",Oi=0,Li,Uh="",_a;if(C&&(T=c(L,"Exif",B),D=T[0].length+P*12+T[1].length),I&&(Q=c(R,"GPS",B+D),V=Q.join(""),K=V.length),P){var nu=B+D+K;ve=c($,"Interop",nu),He=ve.join(""),Oi=He.length}if(F){var nu=B+D+K+Oi;if(Li=c(O,"1st",nu),_a=i(_.thumbnail),_a.length>64e3)throw new Error("Given thumbnail is too large. max 64kB")}var Qh="",zh="",Gh="",Wh="\0\0\0\0";if(C){var _n=A+B,$i=p(">L",[_n]),Ni=34665,Di=p(">H",[Ni]),Fi=p(">H",[v.Long]),ji=p(">L",[1]);Qh=Di+Fi+ji+$i}if(I){var _n=A+B+D,$i=p(">L",[_n]),Ni=34853,Di=p(">H",[Ni]),Fi=p(">H",[v.Long]),ji=p(">L",[1]);zh=Di+Fi+ji+$i}if(P){var _n=A+B+D+K,$i=p(">L",[_n]),Ni=40965,Di=p(">H",[Ni]),Fi=p(">H",[v.Long]),ji=p(">L",[1]);Gh=Di+Fi+ji+$i}if(F){var _n=A+B+D+K+Oi;Wh=p(">L",[_n]);var zw=_n+Li[0].length+24+4+Li[1].length,Gw="\0\0\0\0"+p(">L",[zw]),Ww="\0\0\0\0"+p(">L",[_a.length]);Uh=Li[0]+Gw+Ww+"\0\0\0\0"+Li[1]+_a}var Hw=k[0]+Qh+zh+Wh+k[1];return C&&(M=T[0]+Gh+T[1]),S+Hw+M+V+He+Uh};function r(w){return JSON.parse(JSON.stringify(w))}function i(w){for(var A=x(w);""<=A[1].slice(0,2)&&A[1].slice(0,2)<="";)A=[A[0]].concat(A.slice(2));return A.join("")}function s(w){return p(">"+m("B",w.length),w)}function a(w){return p(">"+m("H",w.length),w)}function o(w){return p(">"+m("L",w.length),w)}function l(w,A,_){var S="",C="",I,P,F,N;if(A=="Byte")I=w.length,I<=4?C=s(w)+m("\0",4-I):(C=p(">L",[_]),S=s(w));else if(A=="Short")I=w.length,I<=2?C=a(w)+m("\0\0",2-I):(C=p(">L",[_]),S=a(w));else if(A=="Long")I=w.length,I<=1?C=o(w):(C=p(">L",[_]),S=o(w));else if(A=="Ascii")P=w+"\0",I=P.length,I>4?(C=p(">L",[_]),S=P):C=P+m("\0",4-I);else if(A=="Rational"){if(typeof w[0]=="number")I=1,F=w[0],N=w[1],P=p(">L",[F])+p(">L",[N]);else{I=w.length,P="";for(var L=0;L<I;L++)F=w[L][0],N=w[L][1],P+=p(">L",[F])+p(">L",[N])}C=p(">L",[_]),S=P}else if(A=="SRational"){if(typeof w[0]=="number")I=1,F=w[0],N=w[1],P=p(">l",[F])+p(">l",[N]);else{I=w.length,P="";for(var L=0;L<I;L++)F=w[L][0],N=w[L][1],P+=p(">l",[F])+p(">l",[N])}C=p(">L",[_]),S=P}else A=="Undefined"&&(I=w.length,I>4?(C=p(">L",[_]),S=w):C=w+m("\0",4-I));var $=p(">L",[I]);return[$,C,S]}function c(w,A,_){var S=8,C=Object.keys(w).length,I=p(">H",[C]),P;["0th","1st"].indexOf(A)>-1?P=2+C*12+4:P=2+C*12;var F="",N="",L;for(var L in w)if(typeof L=="string"&&(L=parseInt(L)),!(A=="0th"&&[34665,34853].indexOf(L)>-1)){{if(A=="Exif"&&L==40965)continue;if(A=="1st"&&[513,514].indexOf(L)>-1)continue}var $=w[L],R=p(">H",[L]),O=E[A][L].type,k=p(">H",[v[O]]);typeof $=="number"&&($=[$]);var B=S+P+_+N.length,T=l($,O,B),M=T[0],D=T[1],Q=T[2];F+=R+k+M+D,N+=Q}return[I+F,N]}function u(w){var A,_;if(w.slice(0,2)=="")A=x(w),_=g(A),_?this.tiftag=_.slice(10):this.tiftag=null;else if(["II","MM"].indexOf(w.slice(0,2))>-1)this.tiftag=w;else if(w.slice(0,4)=="Exif")this.tiftag=w.slice(6);else throw new Error("Given file is neither JPEG nor TIFF.")}if(u.prototype={get_ifd:function(w,A){var _={},S=y(this.endian_mark+"H",this.tiftag.slice(w,w+2))[0],C=w+2,I;["0th","1st"].indexOf(A)>-1?I="Image":I=A;for(var P=0;P<S;P++){w=C+12*P;var F=y(this.endian_mark+"H",this.tiftag.slice(w,w+2))[0],N=y(this.endian_mark+"H",this.tiftag.slice(w+2,w+4))[0],L=y(this.endian_mark+"L",this.tiftag.slice(w+4,w+8))[0],$=this.tiftag.slice(w+8,w+12),R=[N,L,$];F in E[I]&&(_[F]=this.convert_value(R))}return A=="0th"&&(w=C+12*S,_.first_ifd_pointer=this.tiftag.slice(w,w+4)),_},convert_value:function(w){var A=null,_=w[0],S=w[1],C=w[2],I;if(_==1)S>4?(I=y(this.endian_mark+"L",C)[0],A=y(this.endian_mark+m("B",S),this.tiftag.slice(I,I+S))):A=y(this.endian_mark+m("B",S),C.slice(0,S));else if(_==2)S>4?(I=y(this.endian_mark+"L",C)[0],A=this.tiftag.slice(I,I+S-1)):A=C.slice(0,S-1);else if(_==3)S>2?(I=y(this.endian_mark+"L",C)[0],A=y(this.endian_mark+m("H",S),this.tiftag.slice(I,I+S*2))):A=y(this.endian_mark+m("H",S),C.slice(0,S*2));else if(_==4)S>1?(I=y(this.endian_mark+"L",C)[0],A=y(this.endian_mark+m("L",S),this.tiftag.slice(I,I+S*4))):A=y(this.endian_mark+m("L",S),C);else if(_==5)if(I=y(this.endian_mark+"L",C)[0],S>1){A=[];for(var P=0;P<S;P++)A.push([y(this.endian_mark+"L",this.tiftag.slice(I+P*8,I+4+P*8))[0],y(this.endian_mark+"L",this.tiftag.slice(I+4+P*8,I+8+P*8))[0]])}else A=[y(this.endian_mark+"L",this.tiftag.slice(I,I+4))[0],y(this.endian_mark+"L",this.tiftag.slice(I+4,I+8))[0]];else if(_==7)S>4?(I=y(this.endian_mark+"L",C)[0],A=this.tiftag.slice(I,I+S)):A=C.slice(0,S);else if(_==9)S>1?(I=y(this.endian_mark+"L",C)[0],A=y(this.endian_mark+m("l",S),this.tiftag.slice(I,I+S*4))):A=y(this.endian_mark+m("l",S),C);else if(_==10)if(I=y(this.endian_mark+"L",C)[0],S>1){A=[];for(var P=0;P<S;P++)A.push([y(this.endian_mark+"l",this.tiftag.slice(I+P*8,I+4+P*8))[0],y(this.endian_mark+"l",this.tiftag.slice(I+4+P*8,I+8+P*8))[0]])}else A=[y(this.endian_mark+"l",this.tiftag.slice(I,I+4))[0],y(this.endian_mark+"l",this.tiftag.slice(I+4,I+8))[0]];else throw new Error("Exif might be wrong. Got incorrect value type to decode. type:"+_);return A instanceof Array&&A.length==1?A[0]:A}},typeof window<"u"&&typeof window.btoa=="function")var f=window.btoa;if(typeof f>"u")var f=function(A){for(var _="",S,C,I,P,F,N,L,$=0,R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";$<A.length;)S=A.charCodeAt($++),C=A.charCodeAt($++),I=A.charCodeAt($++),P=S>>2,F=(S&3)<<4|C>>4,N=(C&15)<<2|I>>6,L=I&63,isNaN(C)?N=L=64:isNaN(I)&&(L=64),_=_+R.charAt(P)+R.charAt(F)+R.charAt(N)+R.charAt(L);return _};if(typeof window<"u"&&typeof window.atob=="function")var d=window.atob;if(typeof d>"u")var d=function(A){var _="",S,C,I,P,F,N,L,$=0,R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";for(A=A.replace(/[^A-Za-z0-9\+\/\=]/g,"");$<A.length;)P=R.indexOf(A.charAt($++)),F=R.indexOf(A.charAt($++)),N=R.indexOf(A.charAt($++)),L=R.indexOf(A.charAt($++)),S=P<<2|F>>4,C=(F&15)<<4|N>>2,I=(N&3)<<6|L,_=_+String.fromCharCode(S),N!=64&&(_=_+String.fromCharCode(C)),L!=64&&(_=_+String.fromCharCode(I));return _};function p(w,A){if(!(A instanceof Array))throw new Error("'pack' error. Got invalid type argument.");if(w.length-1!=A.length)throw new Error("'pack' error. "+(w.length-1)+" marks, "+A.length+" elements.");var _;if(w[0]=="<")_=!0;else if(w[0]==">")_=!1;else throw new Error("");for(var S="",C=1,I=null,P=null,F=null;P=w[C];){if(P.toLowerCase()=="b"){if(I=A[C-1],P=="b"&&I<0&&(I+=256),I>255||I<0)throw new Error("'pack' error.");F=String.fromCharCode(I)}else if(P=="H"){if(I=A[C-1],I>65535||I<0)throw new Error("'pack' error.");F=String.fromCharCode(Math.floor(I%65536/256))+String.fromCharCode(I%256),_&&(F=F.split("").reverse().join(""))}else if(P.toLowerCase()=="l"){if(I=A[C-1],P=="l"&&I<0&&(I+=4294967296),I>4294967295||I<0)throw new Error("'pack' error.");F=String.fromCharCode(Math.floor(I/16777216))+String.fromCharCode(Math.floor(I%16777216/65536))+String.fromCharCode(Math.floor(I%65536/256))+String.fromCharCode(I%256),_&&(F=F.split("").reverse().join(""))}else throw new Error("'pack' error.");S+=F,C+=1}return S}function y(w,A){if(typeof A!="string")throw new Error("'unpack' error. Got invalid type argument.");for(var _=0,S=1;S<w.length;S++)if(w[S].toLowerCase()=="b")_+=1;else if(w[S].toLowerCase()=="h")_+=2;else if(w[S].toLowerCase()=="l")_+=4;else throw new Error("'unpack' error. Got invalid mark.");if(_!=A.length)throw new Error("'unpack' error. Mismatch between symbol and string length. "+_+":"+A.length);var C;if(w[0]=="<")C=!0;else if(w[0]==">")C=!1;else throw new Error("'unpack' error.");for(var I=[],P=0,F=1,N=null,L=null,$=null,R="";L=w[F];){if(L.toLowerCase()=="b")$=1,R=A.slice(P,P+$),N=R.charCodeAt(0),L=="b"&&N>=128&&(N-=256);else if(L=="H")$=2,R=A.slice(P,P+$),C&&(R=R.split("").reverse().join("")),N=R.charCodeAt(0)*256+R.charCodeAt(1);else if(L.toLowerCase()=="l")$=4,R=A.slice(P,P+$),C&&(R=R.split("").reverse().join("")),N=R.charCodeAt(0)*16777216+R.charCodeAt(1)*65536+R.charCodeAt(2)*256+R.charCodeAt(3),L=="l"&&N>=2147483648&&(N-=4294967296);else throw new Error("'unpack' error. "+L);I.push(N),P+=$,F+=1}return I}function m(w,A){for(var _="",S=0;S<A;S++)_+=w;return _}function x(w){if(w.slice(0,2)!="")throw new Error("Given data isn't JPEG.");for(var A=2,_=[""];;){if(w.slice(A,A+2)==""){_.push(w.slice(A));break}else{var S=y(">H",w.slice(A+2,A+4))[0],C=A+S+2;_.push(w.slice(A,C)),A=C}if(A>=w.length)throw new Error("Wrong JPEG data.")}return _}function g(w){for(var A,_=0;_<w.length;_++)if(A=w[_],A.slice(0,2)==""&&A.slice(4,10)=="Exif\0\0")return A;return null}function h(w,A){var _=!1,S=[];return w.forEach(function(C,I){C.slice(0,2)==""&&C.slice(4,10)=="Exif\0\0"&&(_?S.unshift(I):(w[I]=A,_=!0))}),S.forEach(function(C){w.splice(C,1)}),!_&&A&&(w=[w[0],A].concat(w.slice(1))),w.join("")}var v={Byte:1,Ascii:2,Short:3,Long:4,Rational:5,Undefined:7,SLong:9,SRational:10},E={Image:{11:{name:"ProcessingSoftware",type:"Ascii"},254:{name:"NewSubfileType",type:"Long"},255:{name:"SubfileType",type:"Short"},256:{name:"ImageWidth",type:"Long"},257:{name:"ImageLength",type:"Long"},258:{name:"BitsPerSample",type:"Short"},259:{name:"Compression",type:"Short"},262:{name:"PhotometricInterpretation",type:"Short"},263:{name:"Threshholding",type:"Short"},264:{name:"CellWidth",type:"Short"},265:{name:"CellLength",type:"Short"},266:{name:"FillOrder",type:"Short"},269:{name:"DocumentName",type:"Ascii"},270:{name:"ImageDescription",type:"Ascii"},271:{name:"Make",type:"Ascii"},272:{name:"Model",type:"Ascii"},273:{name:"StripOffsets",type:"Long"},274:{name:"Orientation",type:"Short"},277:{name:"SamplesPerPixel",type:"Short"},278:{name:"RowsPerStrip",type:"Long"},279:{name:"StripByteCounts",type:"Long"},282:{name:"XResolution",type:"Rational"},283:{name:"YResolution",type:"Rational"},284:{name:"PlanarConfiguration",type:"Short"},290:{name:"GrayResponseUnit",type:"Short"},291:{name:"GrayResponseCurve",type:"Short"},292:{name:"T4Options",type:"Long"},293:{name:"T6Options",type:"Long"},296:{name:"ResolutionUnit",type:"Short"},301:{name:"TransferFunction",type:"Short"},305:{name:"Software",type:"Ascii"},306:{name:"DateTime",type:"Ascii"},315:{name:"Artist",type:"Ascii"},316:{name:"HostComputer",type:"Ascii"},317:{name:"Predictor",type:"Short"},318:{name:"WhitePoint",type:"Rational"},319:{name:"PrimaryChromaticities",type:"Rational"},320:{name:"ColorMap",type:"Short"},321:{name:"HalftoneHints",type:"Short"},322:{name:"TileWidth",type:"Short"},323:{name:"TileLength",type:"Short"},324:{name:"TileOffsets",type:"Short"},325:{name:"TileByteCounts",type:"Short"},330:{name:"SubIFDs",type:"Long"},332:{name:"InkSet",type:"Short"},333:{name:"InkNames",type:"Ascii"},334:{name:"NumberOfInks",type:"Short"},336:{name:"DotRange",type:"Byte"},337:{name:"TargetPrinter",type:"Ascii"},338:{name:"ExtraSamples",type:"Short"},339:{name:"SampleFormat",type:"Short"},340:{name:"SMinSampleValue",type:"Short"},341:{name:"SMaxSampleValue",type:"Short"},342:{name:"TransferRange",type:"Short"},343:{name:"ClipPath",type:"Byte"},344:{name:"XClipPathUnits",type:"Long"},345:{name:"YClipPathUnits",type:"Long"},346:{name:"Indexed",type:"Short"},347:{name:"JPEGTables",type:"Undefined"},351:{name:"OPIProxy",type:"Short"},512:{name:"JPEGProc",type:"Long"},513:{name:"JPEGInterchangeFormat",type:"Long"},514:{name:"JPEGInterchangeFormatLength",type:"Long"},515:{name:"JPEGRestartInterval",type:"Short"},517:{name:"JPEGLosslessPredictors",type:"Short"},518:{name:"JPEGPointTransforms",type:"Short"},519:{name:"JPEGQTables",type:"Long"},520:{name:"JPEGDCTables",type:"Long"},521:{name:"JPEGACTables",type:"Long"},529:{name:"YCbCrCoefficients",type:"Rational"},530:{name:"YCbCrSubSampling",type:"Short"},531:{name:"YCbCrPositioning",type:"Short"},532:{name:"ReferenceBlackWhite",type:"Rational"},700:{name:"XMLPacket",type:"Byte"},18246:{name:"Rating",type:"Short"},18249:{name:"RatingPercent",type:"Short"},32781:{name:"ImageID",type:"Ascii"},33421:{name:"CFARepeatPatternDim",type:"Short"},33422:{name:"CFAPattern",type:"Byte"},33423:{name:"BatteryLevel",type:"Rational"},33432:{name:"Copyright",type:"Ascii"},33434:{name:"ExposureTime",type:"Rational"},34377:{name:"ImageResources",type:"Byte"},34665:{name:"ExifTag",type:"Long"},34675:{name:"InterColorProfile",type:"Undefined"},34853:{name:"GPSTag",type:"Long"},34857:{name:"Interlace",type:"Short"},34858:{name:"TimeZoneOffset",type:"Long"},34859:{name:"SelfTimerMode",type:"Short"},37387:{name:"FlashEnergy",type:"Rational"},37388:{name:"SpatialFrequencyResponse",type:"Undefined"},37389:{name:"Noise",type:"Undefined"},37390:{name:"FocalPlaneXResolution",type:"Rational"},37391:{name:"FocalPlaneYResolution",type:"Rational"},37392:{name:"FocalPlaneResolutionUnit",type:"Short"},37393:{name:"ImageNumber",type:"Long"},37394:{name:"SecurityClassification",type:"Ascii"},37395:{name:"ImageHistory",type:"Ascii"},37397:{name:"ExposureIndex",type:"Rational"},37398:{name:"TIFFEPStandardID",type:"Byte"},37399:{name:"SensingMethod",type:"Short"},40091:{name:"XPTitle",type:"Byte"},40092:{name:"XPComment",type:"Byte"},40093:{name:"XPAuthor",type:"Byte"},40094:{name:"XPKeywords",type:"Byte"},40095:{name:"XPSubject",type:"Byte"},50341:{name:"PrintImageMatching",type:"Undefined"},50706:{name:"DNGVersion",type:"Byte"},50707:{name:"DNGBackwardVersion",type:"Byte"},50708:{name:"UniqueCameraModel",type:"Ascii"},50709:{name:"LocalizedCameraModel",type:"Byte"},50710:{name:"CFAPlaneColor",type:"Byte"},50711:{name:"CFALayout",type:"Short"},50712:{name:"LinearizationTable",type:"Short"},50713:{name:"BlackLevelRepeatDim",type:"Short"},50714:{name:"BlackLevel",type:"Rational"},50715:{name:"BlackLevelDeltaH",type:"SRational"},50716:{name:"BlackLevelDeltaV",type:"SRational"},50717:{name:"WhiteLevel",type:"Short"},50718:{name:"DefaultScale",type:"Rational"},50719:{name:"DefaultCropOrigin",type:"Short"},50720:{name:"DefaultCropSize",type:"Short"},50721:{name:"ColorMatrix1",type:"SRational"},50722:{name:"ColorMatrix2",type:"SRational"},50723:{name:"CameraCalibration1",type:"SRational"},50724:{name:"CameraCalibration2",type:"SRational"},50725:{name:"ReductionMatrix1",type:"SRational"},50726:{name:"ReductionMatrix2",type:"SRational"},50727:{name:"AnalogBalance",type:"Rational"},50728:{name:"AsShotNeutral",type:"Short"},50729:{name:"AsShotWhiteXY",type:"Rational"},50730:{name:"BaselineExposure",type:"SRational"},50731:{name:"BaselineNoise",type:"Rational"},50732:{name:"BaselineSharpness",type:"Rational"},50733:{name:"BayerGreenSplit",type:"Long"},50734:{name:"LinearResponseLimit",type:"Rational"},50735:{name:"CameraSerialNumber",type:"Ascii"},50736:{name:"LensInfo",type:"Rational"},50737:{name:"ChromaBlurRadius",type:"Rational"},50738:{name:"AntiAliasStrength",type:"Rational"},50739:{name:"ShadowScale",type:"SRational"},50740:{name:"DNGPrivateData",type:"Byte"},50741:{name:"MakerNoteSafety",type:"Short"},50778:{name:"CalibrationIlluminant1",type:"Short"},50779:{name:"CalibrationIlluminant2",type:"Short"},50780:{name:"BestQualityScale",type:"Rational"},50781:{name:"RawDataUniqueID",type:"Byte"},50827:{name:"OriginalRawFileName",type:"Byte"},50828:{name:"OriginalRawFileData",type:"Undefined"},50829:{name:"ActiveArea",type:"Short"},50830:{name:"MaskedAreas",type:"Short"},50831:{name:"AsShotICCProfile",type:"Undefined"},50832:{name:"AsShotPreProfileMatrix",type:"SRational"},50833:{name:"CurrentICCProfile",type:"Undefined"},50834:{name:"CurrentPreProfileMatrix",type:"SRational"},50879:{name:"ColorimetricReference",type:"Short"},50931:{name:"CameraCalibrationSignature",type:"Byte"},50932:{name:"ProfileCalibrationSignature",type:"Byte"},50934:{name:"AsShotProfileName",type:"Byte"},50935:{name:"NoiseReductionApplied",type:"Rational"},50936:{name:"ProfileName",type:"Byte"},50937:{name:"ProfileHueSatMapDims",type:"Long"},50938:{name:"ProfileHueSatMapData1",type:"Float"},50939:{name:"ProfileHueSatMapData2",type:"Float"},50940:{name:"ProfileToneCurve",type:"Float"},50941:{name:"ProfileEmbedPolicy",type:"Long"},50942:{name:"ProfileCopyright",type:"Byte"},50964:{name:"ForwardMatrix1",type:"SRational"},50965:{name:"ForwardMatrix2",type:"SRational"},50966:{name:"PreviewApplicationName",type:"Byte"},50967:{name:"PreviewApplicationVersion",type:"Byte"},50968:{name:"PreviewSettingsName",type:"Byte"},50969:{name:"PreviewSettingsDigest",type:"Byte"},50970:{name:"PreviewColorSpace",type:"Long"},50971:{name:"PreviewDateTime",type:"Ascii"},50972:{name:"RawImageDigest",type:"Undefined"},50973:{name:"OriginalRawFileDigest",type:"Undefined"},50974:{name:"SubTileBlockSize",type:"Long"},50975:{name:"RowInterleaveFactor",type:"Long"},50981:{name:"ProfileLookTableDims",type:"Long"},50982:{name:"ProfileLookTableData",type:"Float"},51008:{name:"OpcodeList1",type:"Undefined"},51009:{name:"OpcodeList2",type:"Undefined"},51022:{name:"OpcodeList3",type:"Undefined"}},Exif:{33434:{name:"ExposureTime",type:"Rational"},33437:{name:"FNumber",type:"Rational"},34850:{name:"ExposureProgram",type:"Short"},34852:{name:"SpectralSensitivity",type:"Ascii"},34855:{name:"ISOSpeedRatings",type:"Short"},34856:{name:"OECF",type:"Undefined"},34864:{name:"SensitivityType",type:"Short"},34865:{name:"StandardOutputSensitivity",type:"Long"},34866:{name:"RecommendedExposureIndex",type:"Long"},34867:{name:"ISOSpeed",type:"Long"},34868:{name:"ISOSpeedLatitudeyyy",type:"Long"},34869:{name:"ISOSpeedLatitudezzz",type:"Long"},36864:{name:"ExifVersion",type:"Undefined"},36867:{name:"DateTimeOriginal",type:"Ascii"},36868:{name:"DateTimeDigitized",type:"Ascii"},37121:{name:"ComponentsConfiguration",type:"Undefined"},37122:{name:"CompressedBitsPerPixel",type:"Rational"},37377:{name:"ShutterSpeedValue",type:"SRational"},37378:{name:"ApertureValue",type:"Rational"},37379:{name:"BrightnessValue",type:"SRational"},37380:{name:"ExposureBiasValue",type:"SRational"},37381:{name:"MaxApertureValue",type:"Rational"},37382:{name:"SubjectDistance",type:"Rational"},37383:{name:"MeteringMode",type:"Short"},37384:{name:"LightSource",type:"Short"},37385:{name:"Flash",type:"Short"},37386:{name:"FocalLength",type:"Rational"},37396:{name:"SubjectArea",type:"Short"},37500:{name:"MakerNote",type:"Undefined"},37510:{name:"UserComment",type:"Ascii"},37520:{name:"SubSecTime",type:"Ascii"},37521:{name:"SubSecTimeOriginal",type:"Ascii"},37522:{name:"SubSecTimeDigitized",type:"Ascii"},40960:{name:"FlashpixVersion",type:"Undefined"},40961:{name:"ColorSpace",type:"Short"},40962:{name:"PixelXDimension",type:"Long"},40963:{name:"PixelYDimension",type:"Long"},40964:{name:"RelatedSoundFile",type:"Ascii"},40965:{name:"InteroperabilityTag",type:"Long"},41483:{name:"FlashEnergy",type:"Rational"},41484:{name:"SpatialFrequencyResponse",type:"Undefined"},41486:{name:"FocalPlaneXResolution",type:"Rational"},41487:{name:"FocalPlaneYResolution",type:"Rational"},41488:{name:"FocalPlaneResolutionUnit",type:"Short"},41492:{name:"SubjectLocation",type:"Short"},41493:{name:"ExposureIndex",type:"Rational"},41495:{name:"SensingMethod",type:"Short"},41728:{name:"FileSource",type:"Undefined"},41729:{name:"SceneType",type:"Undefined"},41730:{name:"CFAPattern",type:"Undefined"},41985:{name:"CustomRendered",type:"Short"},41986:{name:"ExposureMode",type:"Short"},41987:{name:"WhiteBalance",type:"Short"},41988:{name:"DigitalZoomRatio",type:"Rational"},41989:{name:"FocalLengthIn35mmFilm",type:"Short"},41990:{name:"SceneCaptureType",type:"Short"},41991:{name:"GainControl",type:"Short"},41992:{name:"Contrast",type:"Short"},41993:{name:"Saturation",type:"Short"},41994:{name:"Sharpness",type:"Short"},41995:{name:"DeviceSettingDescription",type:"Undefined"},41996:{name:"SubjectDistanceRange",type:"Short"},42016:{name:"ImageUniqueID",type:"Ascii"},42032:{name:"CameraOwnerName",type:"Ascii"},42033:{name:"BodySerialNumber",type:"Ascii"},42034:{name:"LensSpecification",type:"Rational"},42035:{name:"LensMake",type:"Ascii"},42036:{name:"LensModel",type:"Ascii"},42037:{name:"LensSerialNumber",type:"Ascii"},42240:{name:"Gamma",type:"Rational"}},GPS:{0:{name:"GPSVersionID",type:"Byte"},1:{name:"GPSLatitudeRef",type:"Ascii"},2:{name:"GPSLatitude",type:"Rational"},3:{name:"GPSLongitudeRef",type:"Ascii"},4:{name:"GPSLongitude",type:"Rational"},5:{name:"GPSAltitudeRef",type:"Byte"},6:{name:"GPSAltitude",type:"Rational"},7:{name:"GPSTimeStamp",type:"Rational"},8:{name:"GPSSatellites",type:"Ascii"},9:{name:"GPSStatus",type:"Ascii"},10:{name:"GPSMeasureMode",type:"Ascii"},11:{name:"GPSDOP",type:"Rational"},12:{name:"GPSSpeedRef",type:"Ascii"},13:{name:"GPSSpeed",type:"Rational"},14:{name:"GPSTrackRef",type:"Ascii"},15:{name:"GPSTrack",type:"Rational"},16:{name:"GPSImgDirectionRef",type:"Ascii"},17:{name:"GPSImgDirection",type:"Rational"},18:{name:"GPSMapDatum",type:"Ascii"},19:{name:"GPSDestLatitudeRef",type:"Ascii"},20:{name:"GPSDestLatitude",type:"Rational"},21:{name:"GPSDestLongitudeRef",type:"Ascii"},22:{name:"GPSDestLongitude",type:"Rational"},23:{name:"GPSDestBearingRef",type:"Ascii"},24:{name:"GPSDestBearing",type:"Rational"},25:{name:"GPSDestDistanceRef",type:"Ascii"},26:{name:"GPSDestDistance",type:"Rational"},27:{name:"GPSProcessingMethod",type:"Undefined"},28:{name:"GPSAreaInformation",type:"Undefined"},29:{name:"GPSDateStamp",type:"Ascii"},30:{name:"GPSDifferential",type:"Short"},31:{name:"GPSHPositioningError",type:"Rational"}},Interop:{1:{name:"InteroperabilityIndex",type:"Ascii"}}};E["0th"]=E.Image,E["1st"]=E.Image,n.TAGS=E,n.ImageIFD={ProcessingSoftware:11,NewSubfileType:254,SubfileType:255,ImageWidth:256,ImageLength:257,BitsPerSample:258,Compression:259,PhotometricInterpretation:262,Threshholding:263,CellWidth:264,CellLength:265,FillOrder:266,DocumentName:269,ImageDescription:270,Make:271,Model:272,StripOffsets:273,Orientation:274,SamplesPerPixel:277,RowsPerStrip:278,StripByteCounts:279,XResolution:282,YResolution:283,PlanarConfiguration:284,GrayResponseUnit:290,GrayResponseCurve:291,T4Options:292,T6Options:293,ResolutionUnit:296,TransferFunction:301,Software:305,DateTime:306,Artist:315,HostComputer:316,Predictor:317,WhitePoint:318,PrimaryChromaticities:319,ColorMap:320,HalftoneHints:321,TileWidth:322,TileLength:323,TileOffsets:324,TileByteCounts:325,SubIFDs:330,InkSet:332,InkNames:333,NumberOfInks:334,DotRange:336,TargetPrinter:337,ExtraSamples:338,SampleFormat:339,SMinSampleValue:340,SMaxSampleValue:341,TransferRange:342,ClipPath:343,XClipPathUnits:344,YClipPathUnits:345,Indexed:346,JPEGTables:347,OPIProxy:351,JPEGProc:512,JPEGInterchangeFormat:513,JPEGInterchangeFormatLength:514,JPEGRestartInterval:515,JPEGLosslessPredictors:517,JPEGPointTransforms:518,JPEGQTables:519,JPEGDCTables:520,JPEGACTables:521,YCbCrCoefficients:529,YCbCrSubSampling:530,YCbCrPositioning:531,ReferenceBlackWhite:532,XMLPacket:700,Rating:18246,RatingPercent:18249,ImageID:32781,CFARepeatPatternDim:33421,CFAPattern:33422,BatteryLevel:33423,Copyright:33432,ExposureTime:33434,ImageResources:34377,ExifTag:34665,InterColorProfile:34675,GPSTag:34853,Interlace:34857,TimeZoneOffset:34858,SelfTimerMode:34859,FlashEnergy:37387,SpatialFrequencyResponse:37388,Noise:37389,FocalPlaneXResolution:37390,FocalPlaneYResolution:37391,FocalPlaneResolutionUnit:37392,ImageNumber:37393,SecurityClassification:37394,ImageHistory:37395,ExposureIndex:37397,TIFFEPStandardID:37398,SensingMethod:37399,XPTitle:40091,XPComment:40092,XPAuthor:40093,XPKeywords:40094,XPSubject:40095,PrintImageMatching:50341,DNGVersion:50706,DNGBackwardVersion:50707,UniqueCameraModel:50708,LocalizedCameraModel:50709,CFAPlaneColor:50710,CFALayout:50711,LinearizationTable:50712,BlackLevelRepeatDim:50713,BlackLevel:50714,BlackLevelDeltaH:50715,BlackLevelDeltaV:50716,WhiteLevel:50717,DefaultScale:50718,DefaultCropOrigin:50719,DefaultCropSize:50720,ColorMatrix1:50721,ColorMatrix2:50722,CameraCalibration1:50723,CameraCalibration2:50724,ReductionMatrix1:50725,ReductionMatrix2:50726,AnalogBalance:50727,AsShotNeutral:50728,AsShotWhiteXY:50729,BaselineExposure:50730,BaselineNoise:50731,BaselineSharpness:50732,BayerGreenSplit:50733,LinearResponseLimit:50734,CameraSerialNumber:50735,LensInfo:50736,ChromaBlurRadius:50737,AntiAliasStrength:50738,ShadowScale:50739,DNGPrivateData:50740,MakerNoteSafety:50741,CalibrationIlluminant1:50778,CalibrationIlluminant2:50779,BestQualityScale:50780,RawDataUniqueID:50781,OriginalRawFileName:50827,OriginalRawFileData:50828,ActiveArea:50829,MaskedAreas:50830,AsShotICCProfile:50831,AsShotPreProfileMatrix:50832,CurrentICCProfile:50833,CurrentPreProfileMatrix:50834,ColorimetricReference:50879,CameraCalibrationSignature:50931,ProfileCalibrationSignature:50932,AsShotProfileName:50934,NoiseReductionApplied:50935,ProfileName:50936,ProfileHueSatMapDims:50937,ProfileHueSatMapData1:50938,ProfileHueSatMapData2:50939,ProfileToneCurve:50940,ProfileEmbedPolicy:50941,ProfileCopyright:50942,ForwardMatrix1:50964,ForwardMatrix2:50965,PreviewApplicationName:50966,PreviewApplicationVersion:50967,PreviewSettingsName:50968,PreviewSettingsDigest:50969,PreviewColorSpace:50970,PreviewDateTime:50971,RawImageDigest:50972,OriginalRawFileDigest:50973,SubTileBlockSize:50974,RowInterleaveFactor:50975,ProfileLookTableDims:50981,ProfileLookTableData:50982,OpcodeList1:51008,OpcodeList2:51009,OpcodeList3:51022,NoiseProfile:51041},n.ExifIFD={ExposureTime:33434,FNumber:33437,ExposureProgram:34850,SpectralSensitivity:34852,ISOSpeedRatings:34855,OECF:34856,SensitivityType:34864,StandardOutputSensitivity:34865,RecommendedExposureIndex:34866,ISOSpeed:34867,ISOSpeedLatitudeyyy:34868,ISOSpeedLatitudezzz:34869,ExifVersion:36864,DateTimeOriginal:36867,DateTimeDigitized:36868,ComponentsConfiguration:37121,CompressedBitsPerPixel:37122,ShutterSpeedValue:37377,ApertureValue:37378,BrightnessValue:37379,ExposureBiasValue:37380,MaxApertureValue:37381,SubjectDistance:37382,MeteringMode:37383,LightSource:37384,Flash:37385,FocalLength:37386,SubjectArea:37396,MakerNote:37500,UserComment:37510,SubSecTime:37520,SubSecTimeOriginal:37521,SubSecTimeDigitized:37522,FlashpixVersion:40960,ColorSpace:40961,PixelXDimension:40962,PixelYDimension:40963,RelatedSoundFile:40964,InteroperabilityTag:40965,FlashEnergy:41483,SpatialFrequencyResponse:41484,FocalPlaneXResolution:41486,FocalPlaneYResolution:41487,FocalPlaneResolutionUnit:41488,SubjectLocation:41492,ExposureIndex:41493,SensingMethod:41495,FileSource:41728,SceneType:41729,CFAPattern:41730,CustomRendered:41985,ExposureMode:41986,WhiteBalance:41987,DigitalZoomRatio:41988,FocalLengthIn35mmFilm:41989,SceneCaptureType:41990,GainControl:41991,Contrast:41992,Saturation:41993,Sharpness:41994,DeviceSettingDescription:41995,SubjectDistanceRange:41996,ImageUniqueID:42016,CameraOwnerName:42032,BodySerialNumber:42033,LensSpecification:42034,LensMake:42035,LensModel:42036,LensSerialNumber:42037,Gamma:42240},n.GPSIFD={GPSVersionID:0,GPSLatitudeRef:1,GPSLatitude:2,GPSLongitudeRef:3,GPSLongitude:4,GPSAltitudeRef:5,GPSAltitude:6,GPSTimeStamp:7,GPSSatellites:8,GPSStatus:9,GPSMeasureMode:10,GPSDOP:11,GPSSpeedRef:12,GPSSpeed:13,GPSTrackRef:14,GPSTrack:15,GPSImgDirectionRef:16,GPSImgDirection:17,GPSMapDatum:18,GPSDestLatitudeRef:19,GPSDestLatitude:20,GPSDestLongitudeRef:21,GPSDestLongitude:22,GPSDestBearingRef:23,GPSDestBearing:24,GPSDestDistanceRef:25,GPSDestDistance:26,GPSProcessingMethod:27,GPSAreaInformation:28,GPSDateStamp:29,GPSDifferential:30,GPSHPositioningError:31},n.InteropIFD={InteroperabilityIndex:1},n.GPSHelper={degToDmsRational:function(w){var A=Math.abs(w),_=A%1*60,S=_%1*60,C=Math.floor(A),I=Math.floor(_),P=Math.round(S*100);return[[C,1],[I,1],[P,100]]},dmsRationalToDeg:function(w,A){var _=A==="S"||A==="W"?-1:1,S=w[0][0]/w[0][1]+w[1][0]/w[1][1]/60+w[2][0]/w[2][1]/3600;return S*_}},e.exports&&(t=e.exports=n),t.piexif=n})()})(Cf,Cf.exports);var PI=Cf.exports;const BI=yl(PI),TI=new RI;async function OI(e){try{const t=await Cv(e),n=BI.remove(t);return DI(n)}catch(t){return console.warn("EXIF stripping failed, using original:",t),e}}async function LI(e){const t=await NI(e);let{width:n,height:r}=t;const i=1024;(n>i||r>i)&&(n>r?(r=Math.round(r*i/n),n=i):(n=Math.round(n*i/r),r=i));const s=document.createElement("canvas");s.width=n,s.height=r,await TI.resize(t,s,{quality:3,alpha:!1,unsharpAmount:80,unsharpRadius:.6,unsharpThreshold:2});let a=.85,o=await zm(s,"image/jpeg",a);const l=500*1024,c=.5;for(;o.size>l&&a>c;)a-=.05,o=await zm(s,"image/jpeg",a);return console.log(`Image compressed: ${e.size} -> ${o.size} bytes (quality: ${a})`),o}async function $I(e){return(await Cv(e)).split(",")[1]}function NI(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>t(r),r.onerror=n,r.src=URL.createObjectURL(e)})}function Cv(e){return new Promise((t,n)=>{const r=new FileReader;r.onload=()=>t(r.result),r.onerror=n,r.readAsDataURL(e)})}function DI(e){const t=e.split(","),n=t[0].match(/:(.*?);/)[1],r=atob(t[1]);let i=r.length;const s=new Uint8Array(i);for(;i--;)s[i]=r.charCodeAt(i);return new Blob([s],{type:n})}function zm(e,t,n){return new Promise((r,i)=>{e.toBlob(s=>{s?r(s):i(new Error("Canvas to blob conversion failed"))},t,n)})}async function FI(e){const t=await OI(e),n=await LI(t);return await $I(n)}const If="RFC3986",bf={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:e=>String(e)},jI="RFC1738",MI=Array.isArray,Qt=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),Wu=1024,UI=(e,t,n,r,i)=>{if(e.length===0)return e;let s=e;if(typeof e=="symbol"?s=Symbol.prototype.toString.call(e):typeof e!="string"&&(s=String(e)),n==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(o){return"%26%23"+parseInt(o.slice(2),16)+"%3B"});let a="";for(let o=0;o<s.length;o+=Wu){const l=s.length>=Wu?s.slice(o,o+Wu):s,c=[];for(let u=0;u<l.length;++u){let f=l.charCodeAt(u);if(f===45||f===46||f===95||f===126||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||i===jI&&(f===40||f===41)){c[c.length]=l.charAt(u);continue}if(f<128){c[c.length]=Qt[f];continue}if(f<2048){c[c.length]=Qt[192|f>>6]+Qt[128|f&63];continue}if(f<55296||f>=57344){c[c.length]=Qt[224|f>>12]+Qt[128|f>>6&63]+Qt[128|f&63];continue}u+=1,f=65536+((f&1023)<<10|l.charCodeAt(u)&1023),c[c.length]=Qt[240|f>>18]+Qt[128|f>>12&63]+Qt[128|f>>6&63]+Qt[128|f&63]}a+=c.join("")}return a};function QI(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}function Gm(e,t){if(MI(e)){const n=[];for(let r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)}const zI=Object.prototype.hasOwnProperty,Iv={brackets(e){return String(e)+"[]"},comma:"comma",indices(e,t){return String(e)+"["+t+"]"},repeat(e){return String(e)}},Ht=Array.isArray,GI=Array.prototype.push,bv=function(e,t){GI.apply(e,Ht(t)?t:[t])},WI=Date.prototype.toISOString,Ce={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:UI,encodeValuesOnly:!1,format:If,formatter:bf[If],indices:!1,serializeDate(e){return WI.call(e)},skipNulls:!1,strictNullHandling:!1};function HI(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"}const Hu={};function kv(e,t,n,r,i,s,a,o,l,c,u,f,d,p,y,m,x,g){let h=e,v=g,E=0,w=!1;for(;(v=v.get(Hu))!==void 0&&!w;){const I=v.get(e);if(E+=1,typeof I<"u"){if(I===E)throw new RangeError("Cyclic object value");w=!0}typeof v.get(Hu)>"u"&&(E=0)}if(typeof c=="function"?h=c(t,h):h instanceof Date?h=d==null?void 0:d(h):n==="comma"&&Ht(h)&&(h=Gm(h,function(I){return I instanceof Date?d==null?void 0:d(I):I})),h===null){if(s)return l&&!m?l(t,Ce.encoder,x,"key",p):t;h=""}if(HI(h)||QI(h)){if(l){const I=m?t:l(t,Ce.encoder,x,"key",p);return[(y==null?void 0:y(I))+"="+(y==null?void 0:y(l(h,Ce.encoder,x,"value",p)))]}return[(y==null?void 0:y(t))+"="+(y==null?void 0:y(String(h)))]}const A=[];if(typeof h>"u")return A;let _;if(n==="comma"&&Ht(h))m&&l&&(h=Gm(h,l)),_=[{value:h.length>0?h.join(",")||null:void 0}];else if(Ht(c))_=c;else{const I=Object.keys(h);_=u?I.sort(u):I}const S=o?String(t).replace(/\./g,"%2E"):String(t),C=r&&Ht(h)&&h.length===1?S+"[]":S;if(i&&Ht(h)&&h.length===0)return C+"[]";for(let I=0;I<_.length;++I){const P=_[I],F=typeof P=="object"&&typeof P.value<"u"?P.value:h[P];if(a&&F===null)continue;const N=f&&o?P.replace(/\./g,"%2E"):P,L=Ht(h)?typeof n=="function"?n(C,N):C:C+(f?"."+N:"["+N+"]");g.set(e,E);const $=new WeakMap;$.set(Hu,g),bv(A,kv(F,L,n,r,i,s,a,o,n==="comma"&&m&&Ht(h)?null:l,c,u,f,d,p,y,m,x,$))}return A}function VI(e=Ce){if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=e.charset||Ce.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=If;if(typeof e.format<"u"){if(!zI.call(bf,e.format))throw new TypeError("Unknown format option provided.");n=e.format}const r=bf[n];let i=Ce.filter;(typeof e.filter=="function"||Ht(e.filter))&&(i=e.filter);let s;if(e.arrayFormat&&e.arrayFormat in Iv?s=e.arrayFormat:"indices"in e?s=e.indices?"indices":"repeat":s=Ce.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const a=typeof e.allowDots>"u"?e.encodeDotInKeys?!0:Ce.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Ce.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Ce.allowEmptyArrays,arrayFormat:s,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Ce.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?Ce.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Ce.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:Ce.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:Ce.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Ce.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Ce.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Ce.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Ce.strictNullHandling}}function KI(e,t={}){let n=e;const r=VI(t);let i,s;typeof r.filter=="function"?(s=r.filter,n=s("",n)):Ht(r.filter)&&(s=r.filter,i=s);const a=[];if(typeof n!="object"||n===null)return"";const o=Iv[r.arrayFormat],l=o==="comma"&&r.commaRoundTrip;i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);const c=new WeakMap;for(let d=0;d<i.length;++d){const p=i[d];r.skipNulls&&n[p]===null||bv(a,kv(n[p],p,o,l,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,c))}const u=a.join(r.delimiter);let f=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?f+="utf8=%26%2310003%3B&":f+="utf8=%E2%9C%93&"),u.length>0?f+u:""}const Qr="4.104.0";let Wm=!1,Cs,Rv,Pv,kf,Bv,Tv,Ov,Lv,$v;function XI(e,t={auto:!1}){if(Wm)throw new Error(`you must \`import 'openai/shims/${e.kind}'\` before importing anything else from openai`);if(Cs)throw new Error(`can't \`import 'openai/shims/${e.kind}'\` after \`import 'openai/shims/${Cs}'\``);Wm=t.auto,Cs=e.kind,Rv=e.fetch,Pv=e.FormData,kf=e.File,Bv=e.ReadableStream,Tv=e.getMultipartRequestOptions,Ov=e.getDefaultAgent,Lv=e.fileFromPath,$v=e.isFsReadStream}class YI{constructor(t){this.body=t}get[Symbol.toStringTag](){return"MultipartBody"}}function qI({manuallyImported:e}={}){const t=e?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,r,i,s;try{n=fetch,r=Request,i=Response,s=Headers}catch(a){throw new Error(`this environment is missing the following Web Fetch API type: ${a.message}. ${t}`)}return{kind:"web",fetch:n,Request:r,Response:i,Headers:s,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(a,o)=>({...o,body:new YI(a)}),getDefaultAgent:a=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:a=>!1}}const Nv=()=>{Cs||XI(qI(),{auto:!0})};Nv();class X extends Error{}class Fe extends X{constructor(t,n,r,i){super(`${Fe.makeMessage(t,n,r)}`),this.status=t,this.headers=i,this.request_id=i==null?void 0:i["x-request-id"],this.error=n;const s=n;this.code=s==null?void 0:s.code,this.param=s==null?void 0:s.param,this.type=s==null?void 0:s.type}static makeMessage(t,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,n,r,i){if(!t||!i)return new zl({message:r,cause:Pf(n)});const s=n==null?void 0:n.error;return t===400?new Dv(t,s,r,i):t===401?new Fv(t,s,r,i):t===403?new jv(t,s,r,i):t===404?new Mv(t,s,r,i):t===409?new Uv(t,s,r,i):t===422?new Qv(t,s,r,i):t===429?new zv(t,s,r,i):t>=500?new Gv(t,s,r,i):new Fe(t,s,r,i)}}class xt extends Fe{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class zl extends Fe{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class ih extends zl{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Dv extends Fe{}class Fv extends Fe{}class jv extends Fe{}class Mv extends Fe{}class Uv extends Fe{}class Qv extends Fe{}class zv extends Fe{}class Gv extends Fe{}class Wv extends X{constructor(){super("Could not parse response content as the length limit was reached")}}class Hv extends X{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var eo=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},rr=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},ct;class Gl{constructor(){ct.set(this,void 0),this.buffer=new Uint8Array,eo(this,ct,null,"f")}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?new TextEncoder().encode(t):t;let r=new Uint8Array(this.buffer.length+n.length);r.set(this.buffer),r.set(n,this.buffer.length),this.buffer=r;const i=[];let s;for(;(s=JI(this.buffer,rr(this,ct,"f")))!=null;){if(s.carriage&&rr(this,ct,"f")==null){eo(this,ct,s.index,"f");continue}if(rr(this,ct,"f")!=null&&(s.index!==rr(this,ct,"f")+1||s.carriage)){i.push(this.decodeText(this.buffer.slice(0,rr(this,ct,"f")-1))),this.buffer=this.buffer.slice(rr(this,ct,"f")),eo(this,ct,null,"f");continue}const a=rr(this,ct,"f")!==null?s.preceding-1:s.preceding,o=this.decodeText(this.buffer.slice(0,a));i.push(o),this.buffer=this.buffer.slice(s.index),eo(this,ct,null,"f")}return i}decodeText(t){if(t==null)return"";if(typeof t=="string")return t;if(typeof Buffer<"u"){if(t instanceof Buffer)return t.toString();if(t instanceof Uint8Array)return Buffer.from(t).toString();throw new X(`Unexpected: received non-Uint8Array (${t.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(t instanceof Uint8Array||t instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(t);throw new X(`Unexpected: received non-Uint8Array/ArrayBuffer (${t.constructor.name}) in a web platform. Please report this error.`)}throw new X("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode(`
`):[]}}ct=new WeakMap;Gl.NEWLINE_CHARS=new Set([`
`,"\r"]);Gl.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function JI(e,t){for(let i=t??0;i<e.length;i++){if(e[i]===10)return{preceding:i,index:i+1,carriage:!1};if(e[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function ZI(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}function Vv(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class Yt{constructor(t,n){this.iterator=t,this.controller=n}static fromSSEResponse(t,n){let r=!1;async function*i(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let s=!1;try{for await(const a of eb(t,n))if(!s){if(a.data.startsWith("[DONE]")){s=!0;continue}if(a.event===null||a.event.startsWith("response.")||a.event.startsWith("transcript.")){let o;try{o=JSON.parse(a.data)}catch(l){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),l}if(o&&o.error)throw new Fe(void 0,o.error,void 0,ew(t.headers));yield o}else{let o;try{o=JSON.parse(a.data)}catch(l){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),l}if(a.event=="error")throw new Fe(void 0,o.error,o.message,void 0);yield{event:a.event,data:o}}}s=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{s||n.abort()}}return new Yt(i,n)}static fromReadableStream(t,n){let r=!1;async function*i(){const a=new Gl,o=Vv(t);for await(const l of o)for(const c of a.decode(l))yield c;for(const l of a.flush())yield l}async function*s(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let a=!1;try{for await(const o of i())a||o&&(yield JSON.parse(o));a=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{a||n.abort()}}return new Yt(s,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),i=s=>({next:()=>{if(s.length===0){const a=r.next();t.push(a),n.push(a)}return s.shift()}});return[new Yt(()=>i(t),this.controller),new Yt(()=>i(n),this.controller)]}toReadableStream(){const t=this;let n;const r=new TextEncoder;return new Bv({async start(){n=t[Symbol.asyncIterator]()},async pull(i){try{const{value:s,done:a}=await n.next();if(a)return i.close();const o=r.encode(JSON.stringify(s)+`
`);i.enqueue(o)}catch(s){i.error(s)}},async cancel(){var i;await((i=n.return)==null?void 0:i.call(n))}})}}async function*eb(e,t){if(!e.body)throw t.abort(),new X("Attempted to iterate over a response with no body");const n=new nb,r=new Gl,i=Vv(e.body);for await(const s of tb(i))for(const a of r.decode(s)){const o=n.decode(a);o&&(yield o)}for(const s of r.flush()){const a=n.decode(s);a&&(yield a)}}async function*tb(e){let t=new Uint8Array;for await(const n of e){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let i=new Uint8Array(t.length+r.length);i.set(t),i.set(r,t.length),t=i;let s;for(;(s=ZI(t))!==-1;)yield t.slice(0,s),t=t.slice(s)}t.length>0&&(yield t)}class nb{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,i]=rb(t,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function rb(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}const Kv=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function",Xv=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&Wl(e),Wl=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",ib=e=>Xv(e)||Kv(e)||$v(e);async function Yv(e,t,n){var i;if(e=await e,Xv(e))return e;if(Kv(e)){const s=await e.blob();t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file");const a=Wl(s)?[await s.arrayBuffer()]:[s];return new kf(a,t,n)}const r=await sb(e);if(t||(t=ob(e)??"unknown_file"),!(n!=null&&n.type)){const s=(i=r[0])==null?void 0:i.type;typeof s=="string"&&(n={...n,type:s})}return new kf(r,t,n)}async function sb(e){var n;let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(Wl(e))t.push(await e.arrayBuffer());else if(lb(e))for await(const r of e)t.push(r);else throw new Error(`Unexpected data type: ${typeof e}; constructor: ${(n=e==null?void 0:e.constructor)==null?void 0:n.name}; props: ${ab(e)}`);return t}function ab(e){return`[${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}function ob(e){var t;return Vu(e.name)||Vu(e.filename)||((t=Vu(e.path))==null?void 0:t.split(/[\\/]/).pop())}const Vu=e=>{if(typeof e=="string")return e;if(typeof Buffer<"u"&&e instanceof Buffer)return String(e)},lb=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",Hm=e=>e&&typeof e=="object"&&e.body&&e[Symbol.toStringTag]==="MultipartBody",kr=async e=>{const t=await ub(e.body);return Tv(t,e)},ub=async e=>{const t=new Pv;return await Promise.all(Object.entries(e||{}).map(([n,r])=>Rf(t,n,r))),t},Rf=async(e,t,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")e.append(t,String(n));else if(ib(n)){const r=await Yv(n);e.append(t,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>Rf(e,t+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,i])=>Rf(e,`${t}[${r}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var di={},cb=function(e,t,n,r,i){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n},fb=function(e,t,n,r){if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},to;Nv();async function qv(e){var a;const{response:t}=e;if(e.options.stream)return Wn("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):Yt.fromSSEResponse(t,e.controller);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const n=t.headers.get("content-type"),r=(a=n==null?void 0:n.split(";")[0])==null?void 0:a.trim();if((r==null?void 0:r.includes("application/json"))||(r==null?void 0:r.endsWith("+json"))){const o=await t.json();return Wn("response",t.status,t.url,t.headers,o),Jv(o,t)}const s=await t.text();return Wn("response",t.status,t.url,t.headers,s),s}function Jv(e,t){return!e||typeof e!="object"||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}class Hl extends Promise{constructor(t,n=qv){super(r=>{r(null)}),this.responsePromise=t,this.parseResponse=n}_thenUnwrap(t){return new Hl(this.responsePromise,async n=>Jv(t(await this.parseResponse(n),n),n.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}class db{constructor({baseURL:t,maxRetries:n=2,timeout:r=6e5,httpAgent:i,fetch:s}){this.baseURL=t,this.maxRetries=Ku("maxRetries",n),this.timeout=Ku("timeout",r),this.httpAgent=i,this.fetch=s??Rv}authHeaders(t){return{}}defaultHeaders(t){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...yb(),...this.authHeaders(t)}}validateHeaders(t,n){}defaultIdempotencyKey(){return`stainless-node-retry-${_b()}`}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(async i=>{const s=i&&Wl(i==null?void 0:i.body)?new DataView(await i.body.arrayBuffer()):(i==null?void 0:i.body)instanceof DataView?i.body:(i==null?void 0:i.body)instanceof ArrayBuffer?new DataView(i.body):i&&ArrayBuffer.isView(i==null?void 0:i.body)?new DataView(i.body.buffer):i==null?void 0:i.body;return{method:t,path:n,...i,body:s}}))}getAPIList(t,n,r){return this.requestAPIList(n,{method:"get",path:t,...r})}calculateContentLength(t){if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.byteLength(t,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(t).length.toString()}else if(ArrayBuffer.isView(t))return t.byteLength.toString();return null}buildRequest(t,{retryCount:n=0}={}){var m;const r={...t},{method:i,path:s,query:a,headers:o={}}=r,l=ArrayBuffer.isView(r.body)||r.__binaryRequest&&typeof r.body=="string"?r.body:Hm(r.body)?r.body.body:r.body?JSON.stringify(r.body,null,2):null,c=this.calculateContentLength(l),u=this.buildURL(s,a);"timeout"in r&&Ku("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const f=r.httpAgent??this.httpAgent??Ov(u),d=r.timeout+1e3;typeof((m=f==null?void 0:f.options)==null?void 0:m.timeout)=="number"&&d>(f.options.timeout??0)&&(f.options.timeout=d),this.idempotencyHeader&&i!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=t.idempotencyKey);const p=this.buildHeaders({options:r,headers:o,contentLength:c,retryCount:n});return{req:{method:i,...l&&{body:l},headers:p,...f&&{agent:f},signal:r.signal??null},url:u,timeout:r.timeout}}buildHeaders({options:t,headers:n,contentLength:r,retryCount:i}){const s={};r&&(s["content-length"]=r);const a=this.defaultHeaders(t);return Ym(s,a),Ym(s,n),Hm(t.body)&&Cs!=="node"&&delete s["content-type"],ro(a,"x-stainless-retry-count")===void 0&&ro(n,"x-stainless-retry-count")===void 0&&(s["x-stainless-retry-count"]=String(i)),ro(a,"x-stainless-timeout")===void 0&&ro(n,"x-stainless-timeout")===void 0&&t.timeout&&(s["x-stainless-timeout"]=String(Math.trunc(t.timeout/1e3))),this.validateHeaders(s,n),s}async prepareOptions(t){}async prepareRequest(t,{url:n,options:r}){}parseHeaders(t){return t?Symbol.iterator in t?Object.fromEntries(Array.from(t).map(n=>[...n])):{...t}:{}}makeStatusError(t,n,r,i){return Fe.generate(t,n,r,i)}request(t,n=null){return new Hl(this.makeRequest(t,n))}async makeRequest(t,n){var f,d;const r=await t,i=r.maxRetries??this.maxRetries;n==null&&(n=i),await this.prepareOptions(r);const{req:s,url:a,timeout:o}=this.buildRequest(r,{retryCount:i-n});if(await this.prepareRequest(s,{url:a,options:r}),Wn("request",a,r,s.headers),(f=r.signal)!=null&&f.aborted)throw new xt;const l=new AbortController,c=await this.fetchWithTimeout(a,s,o,l).catch(Pf);if(c instanceof Error){if((d=r.signal)!=null&&d.aborted)throw new xt;if(n)return this.retryRequest(r,n);throw c.name==="AbortError"?new ih:new zl({cause:c})}const u=ew(c.headers);if(!c.ok){if(n&&this.shouldRetry(c)){const h=`retrying, ${n} attempts remaining`;return Wn(`response (error; ${h})`,c.status,a,u),this.retryRequest(r,n,u)}const p=await c.text().catch(h=>Pf(h).message),y=vb(p),m=y?void 0:p;throw Wn(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,c.status,a,u,m),this.makeStatusError(c.status,y,m,u)}return{response:c,options:r,controller:l}}requestAPIList(t,n){const r=this.makeRequest(n,null);return new hb(this,r,t)}buildURL(t,n){const r=Ab(t)?new URL(t):new URL(this.baseURL+(this.baseURL.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),i=this.defaultQuery();return tw(i)||(n={...i,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new X(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(t,n,r,i){const{signal:s,...a}=n||{};s&&s.addEventListener("abort",()=>i.abort());const o=setTimeout(()=>i.abort(),r),l={signal:i.signal,...a};return l.method&&(l.method=l.method.toUpperCase()),this.fetch.call(void 0,t,l).finally(()=>{clearTimeout(o)})}shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r){let i;const s=r==null?void 0:r["retry-after-ms"];if(s){const o=parseFloat(s);Number.isNaN(o)||(i=o)}const a=r==null?void 0:r["retry-after"];if(a&&!i){const o=parseFloat(a);Number.isNaN(o)?i=Date.parse(a)-Date.now():i=o*1e3}if(!(i&&0<=i&&i<60*1e3)){const o=t.maxRetries??this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(n,o)}return await pa(i),this.makeRequest(t,n-1)}calculateDefaultRetryTimeoutMillis(t,n){const s=n-t,a=Math.min(.5*Math.pow(2,s),8),o=1-Math.random()*.25;return a*o*1e3}getUserAgent(){return`${this.constructor.name}/JS ${Qr}`}}class Zv{constructor(t,n,r,i){to.set(this,void 0),cb(this,to,t),this.options=i,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const t=this.nextPageInfo();if(!t)throw new X("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in t&&typeof n.query=="object")n.query={...n.query,...t.params};else if("url"in t){const r=[...Object.entries(n.query||{}),...t.url.searchParams.entries()];for(const[i,s]of r)t.url.searchParams.set(i,s);n.query=void 0,n.path=t.url.toString()}return await fb(this,to,"f").requestAPIList(this.constructor,n)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(to=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const n of t.getPaginatedItems())yield n}}class hb extends Hl{constructor(t,n,r){super(n,async i=>new r(t,i.response,await qv(i),i.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const n of t)yield n}}const ew=e=>new Proxy(Object.fromEntries(e.entries()),{get(t,n){const r=n.toString();return t[r.toLowerCase()]||t[r]}}),pb={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},me=e=>typeof e=="object"&&e!==null&&!tw(e)&&Object.keys(e).every(t=>nw(pb,t)),mb=()=>{var t;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Qr,"X-Stainless-OS":Km(Deno.build.os),"X-Stainless-Arch":Vm(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((t=Deno.version)==null?void 0:t.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Qr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Qr,"X-Stainless-OS":Km(process.platform),"X-Stainless-Arch":Vm(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=gb();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Qr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Qr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function gb(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,s=r[2]||0,a=r[3]||0;return{browser:t,version:`${i}.${s}.${a}`}}}return null}const Vm=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",Km=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Xm;const yb=()=>Xm??(Xm=mb()),vb=e=>{try{return JSON.parse(e)}catch{return}},wb=/^[a-z][a-z0-9+.-]*:/i,Ab=e=>wb.test(e),pa=e=>new Promise(t=>setTimeout(t,e)),Ku=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new X(`${e} must be an integer`);if(t<0)throw new X(`${e} must be a positive integer`);return t},Pf=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null)try{return new Error(JSON.stringify(e))}catch{}return new Error(e)},no=e=>{var t,n,r,i;if(typeof process<"u")return((t=di==null?void 0:di[e])==null?void 0:t.trim())??void 0;if(typeof Deno<"u")return(i=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,e))==null?void 0:i.trim()};function tw(e){if(!e)return!0;for(const t in e)return!1;return!0}function nw(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ym(e,t){for(const n in t){if(!nw(t,n))continue;const r=n.toLowerCase();if(!r)continue;const i=t[n];i===null?delete e[r]:i!==void 0&&(e[r]=i)}}const qm=new Set(["authorization","api-key"]);function Wn(e,...t){if(typeof process<"u"&&(di==null?void 0:di.DEBUG)==="true"){const n=t.map(r=>{if(!r)return r;if(r.headers){const s={...r,headers:{...r.headers}};for(const a in r.headers)qm.has(a.toLowerCase())&&(s.headers[a]="REDACTED");return s}let i=null;for(const s in r)qm.has(s.toLowerCase())&&(i??(i={...r}),i[s]="REDACTED");return i??r});console.log(`OpenAI:DEBUG:${e}`,...n)}}const _b=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),xb=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",Eb=e=>typeof(e==null?void 0:e.get)=="function",ro=(e,t)=>{var r;const n=t.toLowerCase();if(Eb(e)){const i=((r=t[0])==null?void 0:r.toUpperCase())+t.substring(1).replace(/([^\w])(\w)/g,(s,a,o)=>a+o.toUpperCase());for(const s of[t,n,t.toUpperCase(),i]){const a=e.get(s);if(a)return a}}for(const[i,s]of Object.entries(e))if(i.toLowerCase()===n)return Array.isArray(s)?(s.length<=1||console.warn(`Received ${s.length} entries for the ${t} header, using the first entry.`),s[0]):s},Sb=e=>{if(typeof Buffer<"u"){const t=Buffer.from(e,"base64");return Array.from(new Float32Array(t.buffer,t.byteOffset,t.length/Float32Array.BYTES_PER_ELEMENT))}else{const t=atob(e),n=t.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=t.charCodeAt(i);return Array.from(new Float32Array(r.buffer))}};function Xu(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}class Vl extends Zv{constructor(t,n,r,i){super(t,n,r,i),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class Re extends Zv{constructor(t,n,r,i){super(t,n,r,i),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){const t=this.nextPageInfo();if(!t)return null;if("params"in t)return t.params;const n=Object.fromEntries(t.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var r;const t=this.getPaginatedItems();if(!t.length)return null;const n=(r=t[t.length-1])==null?void 0:r.id;return n?{params:{after:n}}:null}}class q{constructor(t){this._client=t}}let rw=class extends q{list(t,n={},r){return me(n)?this.list(t,{},n):this._client.getAPIList(`/chat/completions/${t}/messages`,Cb,{query:n,...r})}},Kl=class extends q{constructor(){super(...arguments),this.messages=new rw(this._client)}create(t,n){return this._client.post("/chat/completions",{body:t,...n,stream:t.stream??!1})}retrieve(t,n){return this._client.get(`/chat/completions/${t}`,n)}update(t,n,r){return this._client.post(`/chat/completions/${t}`,{body:n,...r})}list(t={},n){return me(t)?this.list({},t):this._client.getAPIList("/chat/completions",Xl,{query:t,...n})}del(t,n){return this._client.delete(`/chat/completions/${t}`,n)}};class Xl extends Re{}class Cb extends Re{}Kl.ChatCompletionsPage=Xl;Kl.Messages=rw;let Yl=class extends q{constructor(){super(...arguments),this.completions=new Kl(this._client)}};Yl.Completions=Kl;Yl.ChatCompletionsPage=Xl;class iw extends q{create(t,n){return this._client.post("/audio/speech",{body:t,...n,headers:{Accept:"application/octet-stream",...n==null?void 0:n.headers},__binaryResponse:!0})}}class sw extends q{create(t,n){return this._client.post("/audio/transcriptions",kr({body:t,...n,stream:t.stream??!1,__metadata:{model:t.model}}))}}class aw extends q{create(t,n){return this._client.post("/audio/translations",kr({body:t,...n,__metadata:{model:t.model}}))}}class ma extends q{constructor(){super(...arguments),this.transcriptions=new sw(this._client),this.translations=new aw(this._client),this.speech=new iw(this._client)}}ma.Transcriptions=sw;ma.Translations=aw;ma.Speech=iw;class sh extends q{create(t,n){return this._client.post("/batches",{body:t,...n})}retrieve(t,n){return this._client.get(`/batches/${t}`,n)}list(t={},n){return me(t)?this.list({},t):this._client.getAPIList("/batches",ah,{query:t,...n})}cancel(t,n){return this._client.post(`/batches/${t}/cancel`,n)}}class ah extends Re{}sh.BatchesPage=ah;var Rt=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},fe=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Bf,Ro,Po,ss,as,Bo,os,rn,ls,hl,pl,zr,ow;class oh{constructor(){Bf.add(this),this.controller=new AbortController,Ro.set(this,void 0),Po.set(this,()=>{}),ss.set(this,()=>{}),as.set(this,void 0),Bo.set(this,()=>{}),os.set(this,()=>{}),rn.set(this,{}),ls.set(this,!1),hl.set(this,!1),pl.set(this,!1),zr.set(this,!1),Rt(this,Ro,new Promise((t,n)=>{Rt(this,Po,t,"f"),Rt(this,ss,n,"f")}),"f"),Rt(this,as,new Promise((t,n)=>{Rt(this,Bo,t,"f"),Rt(this,os,n,"f")}),"f"),fe(this,Ro,"f").catch(()=>{}),fe(this,as,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},fe(this,Bf,"m",ow).bind(this))},0)}_connected(){this.ended||(fe(this,Po,"f").call(this),this._emit("connect"))}get ended(){return fe(this,ls,"f")}get errored(){return fe(this,hl,"f")}get aborted(){return fe(this,pl,"f")}abort(){this.controller.abort()}on(t,n){return(fe(this,rn,"f")[t]||(fe(this,rn,"f")[t]=[])).push({listener:n}),this}off(t,n){const r=fe(this,rn,"f")[t];if(!r)return this;const i=r.findIndex(s=>s.listener===n);return i>=0&&r.splice(i,1),this}once(t,n){return(fe(this,rn,"f")[t]||(fe(this,rn,"f")[t]=[])).push({listener:n,once:!0}),this}emitted(t){return new Promise((n,r)=>{Rt(this,zr,!0,"f"),t!=="error"&&this.once("error",r),this.once(t,n)})}async done(){Rt(this,zr,!0,"f"),await fe(this,as,"f")}_emit(t,...n){if(fe(this,ls,"f"))return;t==="end"&&(Rt(this,ls,!0,"f"),fe(this,Bo,"f").call(this));const r=fe(this,rn,"f")[t];if(r&&(fe(this,rn,"f")[t]=r.filter(i=>!i.once),r.forEach(({listener:i})=>i(...n))),t==="abort"){const i=n[0];!fe(this,zr,"f")&&!(r!=null&&r.length)&&Promise.reject(i),fe(this,ss,"f").call(this,i),fe(this,os,"f").call(this,i),this._emit("end");return}if(t==="error"){const i=n[0];!fe(this,zr,"f")&&!(r!=null&&r.length)&&Promise.reject(i),fe(this,ss,"f").call(this,i),fe(this,os,"f").call(this,i),this._emit("end")}}_emitFinal(){}}Ro=new WeakMap,Po=new WeakMap,ss=new WeakMap,as=new WeakMap,Bo=new WeakMap,os=new WeakMap,rn=new WeakMap,ls=new WeakMap,hl=new WeakMap,pl=new WeakMap,zr=new WeakMap,Bf=new WeakSet,ow=function(t){if(Rt(this,hl,!0,"f"),t instanceof Error&&t.name==="AbortError"&&(t=new xt),t instanceof xt)return Rt(this,pl,!0,"f"),this._emit("abort",t);if(t instanceof X)return this._emit("error",t);if(t instanceof Error){const n=new X(t.message);return n.cause=t,this._emit("error",n)}return this._emit("error",new X(String(t)))};var W=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},ot=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},$e,Tf,Vt,To,Bt,dr,ni,or,ml,ft,Oo,Lo,Is,us,cs,Jm,Zm,eg,tg,ng,rg,ig;class Lt extends oh{constructor(){super(...arguments),$e.add(this),Tf.set(this,[]),Vt.set(this,{}),To.set(this,{}),Bt.set(this,void 0),dr.set(this,void 0),ni.set(this,void 0),or.set(this,void 0),ml.set(this,void 0),ft.set(this,void 0),Oo.set(this,void 0),Lo.set(this,void 0),Is.set(this,void 0)}[(Tf=new WeakMap,Vt=new WeakMap,To=new WeakMap,Bt=new WeakMap,dr=new WeakMap,ni=new WeakMap,or=new WeakMap,ml=new WeakMap,ft=new WeakMap,Oo=new WeakMap,Lo=new WeakMap,Is=new WeakMap,$e=new WeakSet,Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("event",i=>{const s=n.shift();s?s.resolve(i):t.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,a)=>n.push({resolve:s,reject:a})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){const n=new Lt;return n._run(()=>n._fromReadableStream(t)),n}async _fromReadableStream(t,n){var s;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const i=Yt.fromReadableStream(t,this.controller);for await(const a of i)W(this,$e,"m",us).call(this,a);if((s=i.controller.signal)!=null&&s.aborted)throw new xt;return this._addRun(W(this,$e,"m",cs).call(this))}toReadableStream(){return new Yt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,n,r,i,s){const a=new Lt;return a._run(()=>a._runToolAssistantStream(t,n,r,i,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createToolAssistantStream(t,n,r,i,s){var c;const a=s==null?void 0:s.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const o={...i,stream:!0},l=await t.submitToolOutputs(n,r,o,{...s,signal:this.controller.signal});this._connected();for await(const u of l)W(this,$e,"m",us).call(this,u);if((c=l.controller.signal)!=null&&c.aborted)throw new xt;return this._addRun(W(this,$e,"m",cs).call(this))}static createThreadAssistantStream(t,n,r){const i=new Lt;return i._run(()=>i._threadAssistantStream(t,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}static createAssistantStream(t,n,r,i){const s=new Lt;return s._run(()=>s._runAssistantStream(t,n,r,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),s}currentEvent(){return W(this,Oo,"f")}currentRun(){return W(this,Lo,"f")}currentMessageSnapshot(){return W(this,Bt,"f")}currentRunStepSnapshot(){return W(this,Is,"f")}async finalRunSteps(){return await this.done(),Object.values(W(this,Vt,"f"))}async finalMessages(){return await this.done(),Object.values(W(this,To,"f"))}async finalRun(){if(await this.done(),!W(this,dr,"f"))throw Error("Final run was not received.");return W(this,dr,"f")}async _createThreadAssistantStream(t,n,r){var o;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const s={...n,stream:!0},a=await t.createAndRun(s,{...r,signal:this.controller.signal});this._connected();for await(const l of a)W(this,$e,"m",us).call(this,l);if((o=a.controller.signal)!=null&&o.aborted)throw new xt;return this._addRun(W(this,$e,"m",cs).call(this))}async _createAssistantStream(t,n,r,i){var l;const s=i==null?void 0:i.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const a={...r,stream:!0},o=await t.create(n,a,{...i,signal:this.controller.signal});this._connected();for await(const c of o)W(this,$e,"m",us).call(this,c);if((l=o.controller.signal)!=null&&l.aborted)throw new xt;return this._addRun(W(this,$e,"m",cs).call(this))}static accumulateDelta(t,n){for(const[r,i]of Object.entries(n)){if(!t.hasOwnProperty(r)){t[r]=i;continue}let s=t[r];if(s==null){t[r]=i;continue}if(r==="index"||r==="type"){t[r]=i;continue}if(typeof s=="string"&&typeof i=="string")s+=i;else if(typeof s=="number"&&typeof i=="number")s+=i;else if(Xu(s)&&Xu(i))s=this.accumulateDelta(s,i);else if(Array.isArray(s)&&Array.isArray(i)){if(s.every(a=>typeof a=="string"||typeof a=="number")){s.push(...i);continue}for(const a of i){if(!Xu(a))throw new Error(`Expected array delta entry to be an object but got: ${a}`);const o=a.index;if(o==null)throw console.error(a),new Error("Expected array delta entry to have an `index` property");if(typeof o!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${o}`);const l=s[o];l==null?s.push(a):s[o]=this.accumulateDelta(l,a)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${i}, accValue: ${s}`);t[r]=s}return t}_addRun(t){return t}async _threadAssistantStream(t,n,r){return await this._createThreadAssistantStream(n,t,r)}async _runAssistantStream(t,n,r,i){return await this._createAssistantStream(n,t,r,i)}async _runToolAssistantStream(t,n,r,i,s){return await this._createToolAssistantStream(r,t,n,i,s)}}us=function(t){if(!this.ended)switch(ot(this,Oo,t,"f"),W(this,$e,"m",eg).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":W(this,$e,"m",ig).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":W(this,$e,"m",Zm).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":W(this,$e,"m",Jm).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},cs=function(){if(this.ended)throw new X("stream has ended, this shouldn't happen");if(!W(this,dr,"f"))throw Error("Final run has not been received");return W(this,dr,"f")},Jm=function(t){const[n,r]=W(this,$e,"m",ng).call(this,t,W(this,Bt,"f"));ot(this,Bt,n,"f"),W(this,To,"f")[n.id]=n;for(const i of r){const s=n.content[i.index];(s==null?void 0:s.type)=="text"&&this._emit("textCreated",s.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,n),t.data.delta.content)for(const i of t.data.delta.content){if(i.type=="text"&&i.text){let s=i.text,a=n.content[i.index];if(a&&a.type=="text")this._emit("textDelta",s,a.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(i.index!=W(this,ni,"f")){if(W(this,or,"f"))switch(W(this,or,"f").type){case"text":this._emit("textDone",W(this,or,"f").text,W(this,Bt,"f"));break;case"image_file":this._emit("imageFileDone",W(this,or,"f").image_file,W(this,Bt,"f"));break}ot(this,ni,i.index,"f")}ot(this,or,n.content[i.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(W(this,ni,"f")!==void 0){const i=t.data.content[W(this,ni,"f")];if(i)switch(i.type){case"image_file":this._emit("imageFileDone",i.image_file,W(this,Bt,"f"));break;case"text":this._emit("textDone",i.text,W(this,Bt,"f"));break}}W(this,Bt,"f")&&this._emit("messageDone",t.data),ot(this,Bt,void 0,"f")}},Zm=function(t){const n=W(this,$e,"m",tg).call(this,t);switch(ot(this,Is,n,"f"),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":const r=t.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const s of r.step_details.tool_calls)s.index==W(this,ml,"f")?this._emit("toolCallDelta",s,n.step_details.tool_calls[s.index]):(W(this,ft,"f")&&this._emit("toolCallDone",W(this,ft,"f")),ot(this,ml,s.index,"f"),ot(this,ft,n.step_details.tool_calls[s.index],"f"),W(this,ft,"f")&&this._emit("toolCallCreated",W(this,ft,"f")));this._emit("runStepDelta",t.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":ot(this,Is,void 0,"f"),t.data.step_details.type=="tool_calls"&&W(this,ft,"f")&&(this._emit("toolCallDone",W(this,ft,"f")),ot(this,ft,void 0,"f")),this._emit("runStepDone",t.data,n);break}},eg=function(t){W(this,Tf,"f").push(t),this._emit("event",t)},tg=function(t){switch(t.event){case"thread.run.step.created":return W(this,Vt,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let n=W(this,Vt,"f")[t.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=t.data;if(r.delta){const i=Lt.accumulateDelta(n,r.delta);W(this,Vt,"f")[t.data.id]=i}return W(this,Vt,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":W(this,Vt,"f")[t.data.id]=t.data;break}if(W(this,Vt,"f")[t.data.id])return W(this,Vt,"f")[t.data.id];throw new Error("No snapshot available")},ng=function(t,n){let r=[];switch(t.event){case"thread.message.created":return[t.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let i=t.data;if(i.delta.content)for(const s of i.delta.content)if(s.index in n.content){let a=n.content[s.index];n.content[s.index]=W(this,$e,"m",rg).call(this,s,a)}else n.content[s.index]=s,r.push(s);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},rg=function(t,n){return Lt.accumulateDelta(n,t)},ig=function(t){switch(ot(this,Lo,t.data,"f"),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":ot(this,dr,t.data,"f"),W(this,ft,"f")&&(this._emit("toolCallDone",W(this,ft,"f")),ot(this,ft,void 0,"f"));break}};class lh extends q{create(t,n){return this._client.post("/assistants",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/assistants/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/assistants/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(t={},n){return me(t)?this.list({},t):this._client.getAPIList("/assistants",uh,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,n){return this._client.delete(`/assistants/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class uh extends Re{}lh.AssistantsPage=uh;function sg(e){return typeof e.parse=="function"}const hi=e=>(e==null?void 0:e.role)==="assistant",lw=e=>(e==null?void 0:e.role)==="function",uw=e=>(e==null?void 0:e.role)==="tool";function ch(e){return(e==null?void 0:e.$brand)==="auto-parseable-response-format"}function ga(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function Ib(e,t){return!t||!cw(t)?{...e,choices:e.choices.map(n=>({...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:fh(e,t)}function fh(e,t){const n=e.choices.map(r=>{var i;if(r.finish_reason==="length")throw new Wv;if(r.finish_reason==="content_filter")throw new Hv;return{...r,message:{...r.message,...r.message.tool_calls?{tool_calls:((i=r.message.tool_calls)==null?void 0:i.map(s=>kb(t,s)))??void 0}:void 0,parsed:r.message.content&&!r.message.refusal?bb(t,r.message.content):null}}});return{...e,choices:n}}function bb(e,t){var n,r;return((n=e.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=e.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in e.response_format?e.response_format.$parseRaw(t):JSON.parse(t):null}function kb(e,t){var r;const n=(r=e.tools)==null?void 0:r.find(i=>{var s;return((s=i.function)==null?void 0:s.name)===t.function.name});return{...t,function:{...t.function,parsed_arguments:ga(n)?n.$parseRaw(t.function.arguments):n!=null&&n.function.strict?JSON.parse(t.function.arguments):null}}}function Rb(e,t){var r;if(!e)return!1;const n=(r=e.tools)==null?void 0:r.find(i=>{var s;return((s=i.function)==null?void 0:s.name)===t.function.name});return ga(n)||(n==null?void 0:n.function.strict)||!1}function cw(e){var t;return ch(e.response_format)?!0:((t=e.tools)==null?void 0:t.some(n=>ga(n)||n.type==="function"&&n.function.strict===!0))??!1}function Pb(e){for(const t of e??[]){if(t.type!=="function")throw new X(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new X(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var tt=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Ue,Of,gl,Lf,$f,Nf,fw,Df;const ag=10;class dw extends oh{constructor(){super(...arguments),Ue.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){var r;this._chatCompletions.push(t),this._emit("chatCompletion",t);const n=(r=t.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),t}_addMessage(t,n=!0){if("content"in t||(t.content=null),this.messages.push(t),n){if(this._emit("message",t),(lw(t)||uw(t))&&t.content)this._emit("functionCallResult",t.content);else if(hi(t)&&t.function_call)this._emit("functionCall",t.function_call);else if(hi(t)&&t.tool_calls)for(const r of t.tool_calls)r.type==="function"&&this._emit("functionCall",r.function)}}async finalChatCompletion(){await this.done();const t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new X("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),tt(this,Ue,"m",Of).call(this)}async finalMessage(){return await this.done(),tt(this,Ue,"m",gl).call(this)}async finalFunctionCall(){return await this.done(),tt(this,Ue,"m",Lf).call(this)}async finalFunctionCallResult(){return await this.done(),tt(this,Ue,"m",$f).call(this)}async totalUsage(){return await this.done(),tt(this,Ue,"m",Nf).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);const n=tt(this,Ue,"m",gl).call(this);n&&this._emit("finalMessage",n);const r=tt(this,Ue,"m",Of).call(this);r&&this._emit("finalContent",r);const i=tt(this,Ue,"m",Lf).call(this);i&&this._emit("finalFunctionCall",i);const s=tt(this,Ue,"m",$f).call(this);s!=null&&this._emit("finalFunctionCallResult",s),this._chatCompletions.some(a=>a.usage)&&this._emit("totalUsage",tt(this,Ue,"m",Nf).call(this))}async _createChatCompletion(t,n,r){const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),tt(this,Ue,"m",fw).call(this,n);const s=await t.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(fh(s,n))}async _runChatCompletion(t,n,r){for(const i of n.messages)this._addMessage(i,!1);return await this._createChatCompletion(t,n,r)}async _runFunctions(t,n,r){var d;const i="function",{function_call:s="auto",stream:a,...o}=n,l=typeof s!="string"&&(s==null?void 0:s.name),{maxChatCompletions:c=ag}=r||{},u={};for(const p of n.functions)u[p.name||p.function.name]=p;const f=n.functions.map(p=>({name:p.name||p.function.name,parameters:p.parameters,description:p.description}));for(const p of n.messages)this._addMessage(p,!1);for(let p=0;p<c;++p){const m=(d=(await this._createChatCompletion(t,{...o,function_call:s,functions:f,messages:[...this.messages]},r)).choices[0])==null?void 0:d.message;if(!m)throw new X("missing message in ChatCompletion response");if(!m.function_call)return;const{name:x,arguments:g}=m.function_call,h=u[x];if(h){if(l&&l!==x){const A=`Invalid function_call: ${JSON.stringify(x)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:i,name:x,content:A});continue}}else{const A=`Invalid function_call: ${JSON.stringify(x)}. Available options are: ${f.map(_=>JSON.stringify(_.name)).join(", ")}. Please try again`;this._addMessage({role:i,name:x,content:A});continue}let v;try{v=sg(h)?await h.parse(g):g}catch(A){this._addMessage({role:i,name:x,content:A instanceof Error?A.message:String(A)});continue}const E=await h.function(v,this),w=tt(this,Ue,"m",Df).call(this,E);if(this._addMessage({role:i,name:x,content:w}),l)return}}async _runTools(t,n,r){var p,y,m;const i="tool",{tool_choice:s="auto",stream:a,...o}=n,l=typeof s!="string"&&((p=s==null?void 0:s.function)==null?void 0:p.name),{maxChatCompletions:c=ag}=r||{},u=n.tools.map(x=>{if(ga(x)){if(!x.$callback)throw new X("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:x.$callback,name:x.function.name,description:x.function.description||"",parameters:x.function.parameters,parse:x.$parseRaw,strict:!0}}}return x}),f={};for(const x of u)x.type==="function"&&(f[x.function.name||x.function.function.name]=x.function);const d="tools"in n?u.map(x=>x.type==="function"?{type:"function",function:{name:x.function.name||x.function.function.name,parameters:x.function.parameters,description:x.function.description,strict:x.function.strict}}:x):void 0;for(const x of n.messages)this._addMessage(x,!1);for(let x=0;x<c;++x){const h=(y=(await this._createChatCompletion(t,{...o,tool_choice:s,tools:d,messages:[...this.messages]},r)).choices[0])==null?void 0:y.message;if(!h)throw new X("missing message in ChatCompletion response");if(!((m=h.tool_calls)!=null&&m.length))return;for(const v of h.tool_calls){if(v.type!=="function")continue;const E=v.id,{name:w,arguments:A}=v.function,_=f[w];if(_){if(l&&l!==w){const P=`Invalid tool_call: ${JSON.stringify(w)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:i,tool_call_id:E,content:P});continue}}else{const P=`Invalid tool_call: ${JSON.stringify(w)}. Available options are: ${Object.keys(f).map(F=>JSON.stringify(F)).join(", ")}. Please try again`;this._addMessage({role:i,tool_call_id:E,content:P});continue}let S;try{S=sg(_)?await _.parse(A):A}catch(P){const F=P instanceof Error?P.message:String(P);this._addMessage({role:i,tool_call_id:E,content:F});continue}const C=await _.function(S,this),I=tt(this,Ue,"m",Df).call(this,C);if(this._addMessage({role:i,tool_call_id:E,content:I}),l)return}}}}Ue=new WeakSet,Of=function(){return tt(this,Ue,"m",gl).call(this).content??null},gl=function(){let t=this.messages.length;for(;t-- >0;){const n=this.messages[t];if(hi(n)){const{function_call:r,...i}=n,s={...i,content:n.content??null,refusal:n.refusal??null};return r&&(s.function_call=r),s}}throw new X("stream ended without producing a ChatCompletionMessage with role=assistant")},Lf=function(){var t,n;for(let r=this.messages.length-1;r>=0;r--){const i=this.messages[r];if(hi(i)&&(i!=null&&i.function_call))return i.function_call;if(hi(i)&&((t=i==null?void 0:i.tool_calls)!=null&&t.length))return(n=i.tool_calls.at(-1))==null?void 0:n.function}},$f=function(){for(let t=this.messages.length-1;t>=0;t--){const n=this.messages[t];if(lw(n)&&n.content!=null||uw(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>{var i;return r.role==="assistant"&&((i=r.tool_calls)==null?void 0:i.some(s=>s.type==="function"&&s.id===n.tool_call_id))}))return n.content}},Nf=function(){const t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(t.completion_tokens+=n.completion_tokens,t.prompt_tokens+=n.prompt_tokens,t.total_tokens+=n.total_tokens);return t},fw=function(t){if(t.n!=null&&t.n>1)throw new X("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Df=function(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};class ea extends dw{static runFunctions(t,n,r){const i=new ea,s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return i._run(()=>i._runFunctions(t,n,s)),i}static runTools(t,n,r){const i=new ea,s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(t,n,s)),i}_addMessage(t,n=!0){super._addMessage(t,n),hi(t)&&t.content&&this._emit("content",t.content)}}const hw=1,pw=2,mw=4,gw=8,yw=16,vw=32,ww=64,Aw=128,_w=256,xw=Aw|_w,Ew=yw|vw|xw|ww,Sw=hw|pw|Ew,Cw=mw|gw,Bb=Sw|Cw,Pe={STR:hw,NUM:pw,ARR:mw,OBJ:gw,NULL:yw,BOOL:vw,NAN:ww,INFINITY:Aw,MINUS_INFINITY:_w,INF:xw,SPECIAL:Ew,ATOM:Sw,COLLECTION:Cw,ALL:Bb};class Tb extends Error{}class Ob extends Error{}function Lb(e,t=Pe.ALL){if(typeof e!="string")throw new TypeError(`expecting str, got ${typeof e}`);if(!e.trim())throw new Error(`${e} is empty`);return $b(e.trim(),t)}const $b=(e,t)=>{const n=e.length;let r=0;const i=d=>{throw new Tb(`${d} at position ${r}`)},s=d=>{throw new Ob(`${d} at position ${r}`)},a=()=>(f(),r>=n&&i("Unexpected end of input"),e[r]==='"'?o():e[r]==="{"?l():e[r]==="["?c():e.substring(r,r+4)==="null"||Pe.NULL&t&&n-r<4&&"null".startsWith(e.substring(r))?(r+=4,null):e.substring(r,r+4)==="true"||Pe.BOOL&t&&n-r<4&&"true".startsWith(e.substring(r))?(r+=4,!0):e.substring(r,r+5)==="false"||Pe.BOOL&t&&n-r<5&&"false".startsWith(e.substring(r))?(r+=5,!1):e.substring(r,r+8)==="Infinity"||Pe.INFINITY&t&&n-r<8&&"Infinity".startsWith(e.substring(r))?(r+=8,1/0):e.substring(r,r+9)==="-Infinity"||Pe.MINUS_INFINITY&t&&1<n-r&&n-r<9&&"-Infinity".startsWith(e.substring(r))?(r+=9,-1/0):e.substring(r,r+3)==="NaN"||Pe.NAN&t&&n-r<3&&"NaN".startsWith(e.substring(r))?(r+=3,NaN):u()),o=()=>{const d=r;let p=!1;for(r++;r<n&&(e[r]!=='"'||p&&e[r-1]==="\\");)p=e[r]==="\\"?!p:!1,r++;if(e.charAt(r)=='"')try{return JSON.parse(e.substring(d,++r-Number(p)))}catch(y){s(String(y))}else if(Pe.STR&t)try{return JSON.parse(e.substring(d,r-Number(p))+'"')}catch{return JSON.parse(e.substring(d,e.lastIndexOf("\\"))+'"')}i("Unterminated string literal")},l=()=>{r++,f();const d={};try{for(;e[r]!=="}";){if(f(),r>=n&&Pe.OBJ&t)return d;const p=o();f(),r++;try{const y=a();Object.defineProperty(d,p,{value:y,writable:!0,enumerable:!0,configurable:!0})}catch(y){if(Pe.OBJ&t)return d;throw y}f(),e[r]===","&&r++}}catch{if(Pe.OBJ&t)return d;i("Expected '}' at end of object")}return r++,d},c=()=>{r++;const d=[];try{for(;e[r]!=="]";)d.push(a()),f(),e[r]===","&&r++}catch{if(Pe.ARR&t)return d;i("Expected ']' at end of array")}return r++,d},u=()=>{if(r===0){e==="-"&&Pe.NUM&t&&i("Not sure what '-' is");try{return JSON.parse(e)}catch(p){if(Pe.NUM&t)try{return e[e.length-1]==="."?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch{}s(String(p))}}const d=r;for(e[r]==="-"&&r++;e[r]&&!",]}".includes(e[r]);)r++;r==n&&!(Pe.NUM&t)&&i("Unterminated number literal");try{return JSON.parse(e.substring(d,r))}catch{e.substring(d,r)==="-"&&Pe.NUM&t&&i("Not sure what '-' is");try{return JSON.parse(e.substring(d,e.lastIndexOf("e")))}catch(y){s(String(y))}}},f=()=>{for(;r<n&&` 
\r	`.includes(e[r]);)r++};return a()},og=e=>Lb(e,Pe.ALL^Pe.NUM);var Dr=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},ne=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Ee,nn,Fr,En,Yu,io,qu,Ju,Zu,so,ec,lg;class ta extends dw{constructor(t){super(),Ee.add(this),nn.set(this,void 0),Fr.set(this,void 0),En.set(this,void 0),Dr(this,nn,t,"f"),Dr(this,Fr,[],"f")}get currentChatCompletionSnapshot(){return ne(this,En,"f")}static fromReadableStream(t){const n=new ta(null);return n._run(()=>n._fromReadableStream(t)),n}static createChatCompletion(t,n,r){const i=new ta(n);return i._run(()=>i._runChatCompletion(t,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createChatCompletion(t,n,r){var a;super._createChatCompletion;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),ne(this,Ee,"m",Yu).call(this);const s=await t.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const o of s)ne(this,Ee,"m",qu).call(this,o);if((a=s.controller.signal)!=null&&a.aborted)throw new xt;return this._addChatCompletion(ne(this,Ee,"m",so).call(this))}async _fromReadableStream(t,n){var a;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),ne(this,Ee,"m",Yu).call(this),this._connected();const i=Yt.fromReadableStream(t,this.controller);let s;for await(const o of i)s&&s!==o.id&&this._addChatCompletion(ne(this,Ee,"m",so).call(this)),ne(this,Ee,"m",qu).call(this,o),s=o.id;if((a=i.controller.signal)!=null&&a.aborted)throw new xt;return this._addChatCompletion(ne(this,Ee,"m",so).call(this))}[(nn=new WeakMap,Fr=new WeakMap,En=new WeakMap,Ee=new WeakSet,Yu=function(){this.ended||Dr(this,En,void 0,"f")},io=function(n){let r=ne(this,Fr,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},ne(this,Fr,"f")[n.index]=r,r)},qu=function(n){var i,s,a,o,l,c,u,f,d,p,y,m,x,g,h;if(this.ended)return;const r=ne(this,Ee,"m",lg).call(this,n);this._emit("chunk",n,r);for(const v of n.choices){const E=r.choices[v.index];v.delta.content!=null&&((i=E.message)==null?void 0:i.role)==="assistant"&&((s=E.message)!=null&&s.content)&&(this._emit("content",v.delta.content,E.message.content),this._emit("content.delta",{delta:v.delta.content,snapshot:E.message.content,parsed:E.message.parsed})),v.delta.refusal!=null&&((a=E.message)==null?void 0:a.role)==="assistant"&&((o=E.message)!=null&&o.refusal)&&this._emit("refusal.delta",{delta:v.delta.refusal,snapshot:E.message.refusal}),((l=v.logprobs)==null?void 0:l.content)!=null&&((c=E.message)==null?void 0:c.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(u=v.logprobs)==null?void 0:u.content,snapshot:((f=E.logprobs)==null?void 0:f.content)??[]}),((d=v.logprobs)==null?void 0:d.refusal)!=null&&((p=E.message)==null?void 0:p.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(y=v.logprobs)==null?void 0:y.refusal,snapshot:((m=E.logprobs)==null?void 0:m.refusal)??[]});const w=ne(this,Ee,"m",io).call(this,E);E.finish_reason&&(ne(this,Ee,"m",Zu).call(this,E),w.current_tool_call_index!=null&&ne(this,Ee,"m",Ju).call(this,E,w.current_tool_call_index));for(const A of v.delta.tool_calls??[])w.current_tool_call_index!==A.index&&(ne(this,Ee,"m",Zu).call(this,E),w.current_tool_call_index!=null&&ne(this,Ee,"m",Ju).call(this,E,w.current_tool_call_index)),w.current_tool_call_index=A.index;for(const A of v.delta.tool_calls??[]){const _=(x=E.message.tool_calls)==null?void 0:x[A.index];_!=null&&_.type&&((_==null?void 0:_.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(g=_.function)==null?void 0:g.name,index:A.index,arguments:_.function.arguments,parsed_arguments:_.function.parsed_arguments,arguments_delta:((h=A.function)==null?void 0:h.arguments)??""}):(_==null||_.type,void 0))}}},Ju=function(n,r){var a,o,l;if(ne(this,Ee,"m",io).call(this,n).done_tool_calls.has(r))return;const s=(a=n.message.tool_calls)==null?void 0:a[r];if(!s)throw new Error("no tool call snapshot");if(!s.type)throw new Error("tool call snapshot missing `type`");if(s.type==="function"){const c=(l=(o=ne(this,nn,"f"))==null?void 0:o.tools)==null?void 0:l.find(u=>u.type==="function"&&u.function.name===s.function.name);this._emit("tool_calls.function.arguments.done",{name:s.function.name,index:r,arguments:s.function.arguments,parsed_arguments:ga(c)?c.$parseRaw(s.function.arguments):c!=null&&c.function.strict?JSON.parse(s.function.arguments):null})}else s.type},Zu=function(n){var i,s;const r=ne(this,Ee,"m",io).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const a=ne(this,Ee,"m",ec).call(this);this._emit("content.done",{content:n.message.content,parsed:a?a.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(i=n.logprobs)!=null&&i.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(s=n.logprobs)!=null&&s.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},so=function(){if(this.ended)throw new X("stream has ended, this shouldn't happen");const n=ne(this,En,"f");if(!n)throw new X("request ended without sending any chunks");return Dr(this,En,void 0,"f"),Dr(this,Fr,[],"f"),Nb(n,ne(this,nn,"f"))},ec=function(){var r;const n=(r=ne(this,nn,"f"))==null?void 0:r.response_format;return ch(n)?n:null},lg=function(n){var r,i,s,a;let o=ne(this,En,"f");const{choices:l,...c}=n;o?Object.assign(o,c):o=Dr(this,En,{...c,choices:[]},"f");for(const{delta:u,finish_reason:f,index:d,logprobs:p=null,...y}of n.choices){let m=o.choices[d];if(m||(m=o.choices[d]={finish_reason:f,index:d,message:{},logprobs:p,...y}),p)if(!m.logprobs)m.logprobs=Object.assign({},p);else{const{content:A,refusal:_,...S}=p;Object.assign(m.logprobs,S),A&&((r=m.logprobs).content??(r.content=[]),m.logprobs.content.push(...A)),_&&((i=m.logprobs).refusal??(i.refusal=[]),m.logprobs.refusal.push(..._))}if(f&&(m.finish_reason=f,ne(this,nn,"f")&&cw(ne(this,nn,"f")))){if(f==="length")throw new Wv;if(f==="content_filter")throw new Hv}if(Object.assign(m,y),!u)continue;const{content:x,refusal:g,function_call:h,role:v,tool_calls:E,...w}=u;if(Object.assign(m.message,w),g&&(m.message.refusal=(m.message.refusal||"")+g),v&&(m.message.role=v),h&&(m.message.function_call?(h.name&&(m.message.function_call.name=h.name),h.arguments&&((s=m.message.function_call).arguments??(s.arguments=""),m.message.function_call.arguments+=h.arguments)):m.message.function_call=h),x&&(m.message.content=(m.message.content||"")+x,!m.message.refusal&&ne(this,Ee,"m",ec).call(this)&&(m.message.parsed=og(m.message.content))),E){m.message.tool_calls||(m.message.tool_calls=[]);for(const{index:A,id:_,type:S,function:C,...I}of E){const P=(a=m.message.tool_calls)[A]??(a[A]={});Object.assign(P,I),_&&(P.id=_),S&&(P.type=S),C&&(P.function??(P.function={name:C.name??"",arguments:""})),C!=null&&C.name&&(P.function.name=C.name),C!=null&&C.arguments&&(P.function.arguments+=C.arguments,Rb(ne(this,nn,"f"),P)&&(P.function.parsed_arguments=og(P.function.arguments)))}}}return o},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("chunk",i=>{const s=n.shift();s?s.resolve(i):t.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,a)=>n.push({resolve:s,reject:a})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Yt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function Nb(e,t){const{id:n,choices:r,created:i,model:s,system_fingerprint:a,...o}=e,l={...o,id:n,choices:r.map(({message:c,finish_reason:u,index:f,logprobs:d,...p})=>{if(!u)throw new X(`missing finish_reason for choice ${f}`);const{content:y=null,function_call:m,tool_calls:x,...g}=c,h=c.role;if(!h)throw new X(`missing role for choice ${f}`);if(m){const{arguments:v,name:E}=m;if(v==null)throw new X(`missing function_call.arguments for choice ${f}`);if(!E)throw new X(`missing function_call.name for choice ${f}`);return{...p,message:{content:y,function_call:{arguments:v,name:E},role:h,refusal:c.refusal??null},finish_reason:u,index:f,logprobs:d}}return x?{...p,index:f,finish_reason:u,logprobs:d,message:{...g,role:h,content:y,refusal:c.refusal??null,tool_calls:x.map((v,E)=>{const{function:w,type:A,id:_,...S}=v,{arguments:C,name:I,...P}=w||{};if(_==null)throw new X(`missing choices[${f}].tool_calls[${E}].id
${ao(e)}`);if(A==null)throw new X(`missing choices[${f}].tool_calls[${E}].type
${ao(e)}`);if(I==null)throw new X(`missing choices[${f}].tool_calls[${E}].function.name
${ao(e)}`);if(C==null)throw new X(`missing choices[${f}].tool_calls[${E}].function.arguments
${ao(e)}`);return{...S,id:_,type:A,function:{...P,name:I,arguments:C}}})}}:{...p,message:{...g,content:y,role:h,refusal:c.refusal??null},finish_reason:u,index:f,logprobs:d}}),created:i,model:s,object:"chat.completion",...a?{system_fingerprint:a}:{}};return Ib(l,t)}function ao(e){return JSON.stringify(e)}class pi extends ta{static fromReadableStream(t){const n=new pi(null);return n._run(()=>n._fromReadableStream(t)),n}static runFunctions(t,n,r){const i=new pi(null),s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return i._run(()=>i._runFunctions(t,n,s)),i}static runTools(t,n,r){const i=new pi(n),s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(t,n,s)),i}}let Iw=class extends q{parse(t,n){return Pb(t.tools),this._client.chat.completions.create(t,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(r=>fh(r,t))}runFunctions(t,n){return t.stream?pi.runFunctions(this._client,t,n):ea.runFunctions(this._client,t,n)}runTools(t,n){return t.stream?pi.runTools(this._client,t,n):ea.runTools(this._client,t,n)}stream(t,n){return ta.createChatCompletion(this._client,t,n)}};class Ff extends q{constructor(){super(...arguments),this.completions=new Iw(this._client)}}(function(e){e.Completions=Iw})(Ff||(Ff={}));class bw extends q{create(t,n){return this._client.post("/realtime/sessions",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class kw extends q{create(t,n){return this._client.post("/realtime/transcription_sessions",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class ql extends q{constructor(){super(...arguments),this.sessions=new bw(this._client),this.transcriptionSessions=new kw(this._client)}}ql.Sessions=bw;ql.TranscriptionSessions=kw;class dh extends q{create(t,n,r){return this._client.post(`/threads/${t}/messages`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/threads/${t}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,n,r,i){return this._client.post(`/threads/${t}/messages/${n}`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(t,n={},r){return me(n)?this.list(t,{},n):this._client.getAPIList(`/threads/${t}/messages`,hh,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n,r){return this._client.delete(`/threads/${t}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class hh extends Re{}dh.MessagesPage=hh;class ph extends q{retrieve(t,n,r,i={},s){return me(i)?this.retrieve(t,n,r,{},i):this._client.get(`/threads/${t}/runs/${n}/steps/${r}`,{query:i,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(t,n,r={},i){return me(r)?this.list(t,n,{},r):this._client.getAPIList(`/threads/${t}/runs/${n}/steps`,mh,{query:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}}class mh extends Re{}ph.RunStepsPage=mh;let ya=class extends q{constructor(){super(...arguments),this.steps=new ph(this._client)}create(t,n,r){const{include:i,...s}=n;return this._client.post(`/threads/${t}/runs`,{query:{include:i},body:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:n.stream??!1})}retrieve(t,n,r){return this._client.get(`/threads/${t}/runs/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,n,r,i){return this._client.post(`/threads/${t}/runs/${n}`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(t,n={},r){return me(n)?this.list(t,{},n):this._client.getAPIList(`/threads/${t}/runs`,gh,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(t,n,r){return this._client.post(`/threads/${t}/runs/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){const i=await this.create(t,n,r);return await this.poll(t,i.id,r)}createAndStream(t,n,r){return Lt.createAssistantStream(t,this._client.beta.threads.runs,n,r)}async poll(t,n,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:s,response:a}=await this.retrieve(t,n,{...r,headers:{...r==null?void 0:r.headers,...i}}).withResponse();switch(s.status){case"queued":case"in_progress":case"cancelling":let o=5e3;if(r!=null&&r.pollIntervalMs)o=r.pollIntervalMs;else{const l=a.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(o=c)}}await pa(o);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return s}}}stream(t,n,r){return Lt.createAssistantStream(t,this._client.beta.threads.runs,n,r)}submitToolOutputs(t,n,r,i){return this._client.post(`/threads/${t}/runs/${n}/submit_tool_outputs`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers},stream:r.stream??!1})}async submitToolOutputsAndPoll(t,n,r,i){const s=await this.submitToolOutputs(t,n,r,i);return await this.poll(t,s.id,i)}submitToolOutputsStream(t,n,r,i){return Lt.createToolAssistantStream(t,n,this._client.beta.threads.runs,r,i)}};class gh extends Re{}ya.RunsPage=gh;ya.Steps=ph;ya.RunStepsPage=mh;class Pi extends q{constructor(){super(...arguments),this.runs=new ya(this._client),this.messages=new dh(this._client)}create(t={},n){return me(t)?this.create({},t):this._client.post("/threads",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/threads/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/threads/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n){return this._client.delete(`/threads/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}createAndRun(t,n){return this._client.post("/threads/runs",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:t.stream??!1})}async createAndRunPoll(t,n){const r=await this.createAndRun(t,n);return await this.runs.poll(r.thread_id,r.id,n)}createAndRunStream(t,n){return Lt.createThreadAssistantStream(t,this._client.beta.threads,n)}}Pi.Runs=ya;Pi.RunsPage=gh;Pi.Messages=dh;Pi.MessagesPage=hh;class Bi extends q{constructor(){super(...arguments),this.realtime=new ql(this._client),this.chat=new Ff(this._client),this.assistants=new lh(this._client),this.threads=new Pi(this._client)}}Bi.Realtime=ql;Bi.Assistants=lh;Bi.AssistantsPage=uh;Bi.Threads=Pi;class Rw extends q{create(t,n){return this._client.post("/completions",{body:t,...n,stream:t.stream??!1})}}class Pw extends q{retrieve(t,n,r){return this._client.get(`/containers/${t}/files/${n}/content`,{...r,headers:{Accept:"application/binary",...r==null?void 0:r.headers},__binaryResponse:!0})}}let Jl=class extends q{constructor(){super(...arguments),this.content=new Pw(this._client)}create(t,n,r){return this._client.post(`/containers/${t}/files`,kr({body:n,...r}))}retrieve(t,n,r){return this._client.get(`/containers/${t}/files/${n}`,r)}list(t,n={},r){return me(n)?this.list(t,{},n):this._client.getAPIList(`/containers/${t}/files`,yh,{query:n,...r})}del(t,n,r){return this._client.delete(`/containers/${t}/files/${n}`,{...r,headers:{Accept:"*/*",...r==null?void 0:r.headers}})}};class yh extends Re{}Jl.FileListResponsesPage=yh;Jl.Content=Pw;class va extends q{constructor(){super(...arguments),this.files=new Jl(this._client)}create(t,n){return this._client.post("/containers",{body:t,...n})}retrieve(t,n){return this._client.get(`/containers/${t}`,n)}list(t={},n){return me(t)?this.list({},t):this._client.getAPIList("/containers",vh,{query:t,...n})}del(t,n){return this._client.delete(`/containers/${t}`,{...n,headers:{Accept:"*/*",...n==null?void 0:n.headers}})}}class vh extends Re{}va.ContainerListResponsesPage=vh;va.Files=Jl;va.FileListResponsesPage=yh;class Bw extends q{create(t,n){const r=!!t.encoding_format;let i=r?t.encoding_format:"base64";r&&Wn("Request","User defined encoding_format:",t.encoding_format);const s=this._client.post("/embeddings",{body:{...t,encoding_format:i},...n});return r?s:(Wn("response","Decoding base64 embeddings to float32 array"),s._thenUnwrap(a=>(a&&a.data&&a.data.forEach(o=>{const l=o.embedding;o.embedding=Sb(l)}),a)))}}class wh extends q{retrieve(t,n,r,i){return this._client.get(`/evals/${t}/runs/${n}/output_items/${r}`,i)}list(t,n,r={},i){return me(r)?this.list(t,n,{},r):this._client.getAPIList(`/evals/${t}/runs/${n}/output_items`,Ah,{query:r,...i})}}class Ah extends Re{}wh.OutputItemListResponsesPage=Ah;class wa extends q{constructor(){super(...arguments),this.outputItems=new wh(this._client)}create(t,n,r){return this._client.post(`/evals/${t}/runs`,{body:n,...r})}retrieve(t,n,r){return this._client.get(`/evals/${t}/runs/${n}`,r)}list(t,n={},r){return me(n)?this.list(t,{},n):this._client.getAPIList(`/evals/${t}/runs`,_h,{query:n,...r})}del(t,n,r){return this._client.delete(`/evals/${t}/runs/${n}`,r)}cancel(t,n,r){return this._client.post(`/evals/${t}/runs/${n}`,r)}}class _h extends Re{}wa.RunListResponsesPage=_h;wa.OutputItems=wh;wa.OutputItemListResponsesPage=Ah;class Aa extends q{constructor(){super(...arguments),this.runs=new wa(this._client)}create(t,n){return this._client.post("/evals",{body:t,...n})}retrieve(t,n){return this._client.get(`/evals/${t}`,n)}update(t,n,r){return this._client.post(`/evals/${t}`,{body:n,...r})}list(t={},n){return me(t)?this.list({},t):this._client.getAPIList("/evals",xh,{query:t,...n})}del(t,n){return this._client.delete(`/evals/${t}`,n)}}class xh extends Re{}Aa.EvalListResponsesPage=xh;Aa.Runs=wa;Aa.RunListResponsesPage=_h;let Eh=class extends q{create(t,n){return this._client.post("/files",kr({body:t,...n}))}retrieve(t,n){return this._client.get(`/files/${t}`,n)}list(t={},n){return me(t)?this.list({},t):this._client.getAPIList("/files",Sh,{query:t,...n})}del(t,n){return this._client.delete(`/files/${t}`,n)}content(t,n){return this._client.get(`/files/${t}/content`,{...n,headers:{Accept:"application/binary",...n==null?void 0:n.headers},__binaryResponse:!0})}retrieveContent(t,n){return this._client.get(`/files/${t}/content`,n)}async waitForProcessing(t,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const i=new Set(["processed","error","deleted"]),s=Date.now();let a=await this.retrieve(t);for(;!a.status||!i.has(a.status);)if(await pa(n),a=await this.retrieve(t),Date.now()-s>r)throw new ih({message:`Giving up on waiting for file ${t} to finish processing after ${r} milliseconds.`});return a}};class Sh extends Re{}Eh.FileObjectsPage=Sh;class Tw extends q{}let Ow=class extends q{run(t,n){return this._client.post("/fine_tuning/alpha/graders/run",{body:t,...n})}validate(t,n){return this._client.post("/fine_tuning/alpha/graders/validate",{body:t,...n})}};class Ch extends q{constructor(){super(...arguments),this.graders=new Ow(this._client)}}Ch.Graders=Ow;class Ih extends q{create(t,n,r){return this._client.getAPIList(`/fine_tuning/checkpoints/${t}/permissions`,bh,{body:n,method:"post",...r})}retrieve(t,n={},r){return me(n)?this.retrieve(t,{},n):this._client.get(`/fine_tuning/checkpoints/${t}/permissions`,{query:n,...r})}del(t,n,r){return this._client.delete(`/fine_tuning/checkpoints/${t}/permissions/${n}`,r)}}class bh extends Vl{}Ih.PermissionCreateResponsesPage=bh;let Zl=class extends q{constructor(){super(...arguments),this.permissions=new Ih(this._client)}};Zl.Permissions=Ih;Zl.PermissionCreateResponsesPage=bh;class kh extends q{list(t,n={},r){return me(n)?this.list(t,{},n):this._client.getAPIList(`/fine_tuning/jobs/${t}/checkpoints`,Rh,{query:n,...r})}}class Rh extends Re{}kh.FineTuningJobCheckpointsPage=Rh;class Ti extends q{constructor(){super(...arguments),this.checkpoints=new kh(this._client)}create(t,n){return this._client.post("/fine_tuning/jobs",{body:t,...n})}retrieve(t,n){return this._client.get(`/fine_tuning/jobs/${t}`,n)}list(t={},n){return me(t)?this.list({},t):this._client.getAPIList("/fine_tuning/jobs",Ph,{query:t,...n})}cancel(t,n){return this._client.post(`/fine_tuning/jobs/${t}/cancel`,n)}listEvents(t,n={},r){return me(n)?this.listEvents(t,{},n):this._client.getAPIList(`/fine_tuning/jobs/${t}/events`,Bh,{query:n,...r})}pause(t,n){return this._client.post(`/fine_tuning/jobs/${t}/pause`,n)}resume(t,n){return this._client.post(`/fine_tuning/jobs/${t}/resume`,n)}}class Ph extends Re{}class Bh extends Re{}Ti.FineTuningJobsPage=Ph;Ti.FineTuningJobEventsPage=Bh;Ti.Checkpoints=kh;Ti.FineTuningJobCheckpointsPage=Rh;class er extends q{constructor(){super(...arguments),this.methods=new Tw(this._client),this.jobs=new Ti(this._client),this.checkpoints=new Zl(this._client),this.alpha=new Ch(this._client)}}er.Methods=Tw;er.Jobs=Ti;er.FineTuningJobsPage=Ph;er.FineTuningJobEventsPage=Bh;er.Checkpoints=Zl;er.Alpha=Ch;class Lw extends q{}class Th extends q{constructor(){super(...arguments),this.graderModels=new Lw(this._client)}}Th.GraderModels=Lw;class $w extends q{createVariation(t,n){return this._client.post("/images/variations",kr({body:t,...n}))}edit(t,n){return this._client.post("/images/edits",kr({body:t,...n}))}generate(t,n){return this._client.post("/images/generations",{body:t,...n})}}class Oh extends q{retrieve(t,n){return this._client.get(`/models/${t}`,n)}list(t){return this._client.getAPIList("/models",Lh,t)}del(t,n){return this._client.delete(`/models/${t}`,n)}}class Lh extends Vl{}Oh.ModelsPage=Lh;class Nw extends q{create(t,n){return this._client.post("/moderations",{body:t,...n})}}function Db(e,t){return!t||!jb(t)?{...e,output_parsed:null,output:e.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(r=>({...r,parsed:null}))}:n)}:Dw(e,t)}function Dw(e,t){const n=e.output.map(i=>{if(i.type==="function_call")return{...i,parsed_arguments:Qb(t,i)};if(i.type==="message"){const s=i.content.map(a=>a.type==="output_text"?{...a,parsed:Fb(t,a.text)}:a);return{...i,content:s}}return i}),r=Object.assign({},e,{output:n});return Object.getOwnPropertyDescriptor(e,"output_text")||Fw(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const i of r.output)if(i.type==="message"){for(const s of i.content)if(s.type==="output_text"&&s.parsed!==null)return s.parsed}return null}}),r}function Fb(e,t){var n,r,i,s;return((r=(n=e.text)==null?void 0:n.format)==null?void 0:r.type)!=="json_schema"?null:"$parseRaw"in((i=e.text)==null?void 0:i.format)?((s=e.text)==null?void 0:s.format).$parseRaw(t):JSON.parse(t)}function jb(e){var t;return!!ch((t=e.text)==null?void 0:t.format)}function Mb(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function Ub(e,t){return e.find(n=>n.type==="function"&&n.name===t)}function Qb(e,t){const n=Ub(e.tools??[],t.name);return{...t,...t,parsed_arguments:Mb(n)?n.$parseRaw(t.arguments):n!=null&&n.strict?JSON.parse(t.arguments):null}}function Fw(e){const t=[];for(const n of e.output)if(n.type==="message")for(const r of n.content)r.type==="output_text"&&t.push(r.text);e.output_text=t.join("")}class jw extends q{list(t,n={},r){return me(n)?this.list(t,{},n):this._client.getAPIList(`/responses/${t}/input_items`,Gb,{query:n,...r})}}var jr=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},Sn=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Mr,oo,Cn,lo,ug,cg,fg,dg;class $h extends oh{constructor(t){super(),Mr.add(this),oo.set(this,void 0),Cn.set(this,void 0),lo.set(this,void 0),jr(this,oo,t,"f")}static createResponse(t,n,r){const i=new $h(n);return i._run(()=>i._createOrRetrieveResponse(t,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createOrRetrieveResponse(t,n,r){var o;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),Sn(this,Mr,"m",ug).call(this);let s,a=null;"response_id"in n?(s=await t.responses.retrieve(n.response_id,{stream:!0},{...r,signal:this.controller.signal,stream:!0}),a=n.starting_after??null):s=await t.responses.create({...n,stream:!0},{...r,signal:this.controller.signal}),this._connected();for await(const l of s)Sn(this,Mr,"m",cg).call(this,l,a);if((o=s.controller.signal)!=null&&o.aborted)throw new xt;return Sn(this,Mr,"m",fg).call(this)}[(oo=new WeakMap,Cn=new WeakMap,lo=new WeakMap,Mr=new WeakSet,ug=function(){this.ended||jr(this,Cn,void 0,"f")},cg=function(n,r){if(this.ended)return;const i=(a,o)=>{(r==null||o.sequence_number>r)&&this._emit(a,o)},s=Sn(this,Mr,"m",dg).call(this,n);switch(i("event",n),n.type){case"response.output_text.delta":{const a=s.output[n.output_index];if(!a)throw new X(`missing output at index ${n.output_index}`);if(a.type==="message"){const o=a.content[n.content_index];if(!o)throw new X(`missing content at index ${n.content_index}`);if(o.type!=="output_text")throw new X(`expected content to be 'output_text', got ${o.type}`);i("response.output_text.delta",{...n,snapshot:o.text})}break}case"response.function_call_arguments.delta":{const a=s.output[n.output_index];if(!a)throw new X(`missing output at index ${n.output_index}`);a.type==="function_call"&&i("response.function_call_arguments.delta",{...n,snapshot:a.arguments});break}default:i(n.type,n);break}},fg=function(){if(this.ended)throw new X("stream has ended, this shouldn't happen");const n=Sn(this,Cn,"f");if(!n)throw new X("request ended without sending any events");jr(this,Cn,void 0,"f");const r=zb(n,Sn(this,oo,"f"));return jr(this,lo,r,"f"),r},dg=function(n){let r=Sn(this,Cn,"f");if(!r){if(n.type!=="response.created")throw new X(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return r=jr(this,Cn,n.response,"f"),r}switch(n.type){case"response.output_item.added":{r.output.push(n.item);break}case"response.content_part.added":{const i=r.output[n.output_index];if(!i)throw new X(`missing output at index ${n.output_index}`);i.type==="message"&&i.content.push(n.part);break}case"response.output_text.delta":{const i=r.output[n.output_index];if(!i)throw new X(`missing output at index ${n.output_index}`);if(i.type==="message"){const s=i.content[n.content_index];if(!s)throw new X(`missing content at index ${n.content_index}`);if(s.type!=="output_text")throw new X(`expected content to be 'output_text', got ${s.type}`);s.text+=n.delta}break}case"response.function_call_arguments.delta":{const i=r.output[n.output_index];if(!i)throw new X(`missing output at index ${n.output_index}`);i.type==="function_call"&&(i.arguments+=n.delta);break}case"response.completed":{jr(this,Cn,n.response,"f");break}}return r},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("event",i=>{const s=n.shift();s?s.resolve(i):t.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,a)=>n.push({resolve:s,reject:a})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const t=Sn(this,lo,"f");if(!t)throw new X("stream ended without producing a ChatCompletion");return t}}function zb(e,t){return Db(e,t)}class Nh extends q{constructor(){super(...arguments),this.inputItems=new jw(this._client)}create(t,n){return this._client.post("/responses",{body:t,...n,stream:t.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&Fw(r),r))}retrieve(t,n={},r){return this._client.get(`/responses/${t}`,{query:n,...r,stream:(n==null?void 0:n.stream)??!1})}del(t,n){return this._client.delete(`/responses/${t}`,{...n,headers:{Accept:"*/*",...n==null?void 0:n.headers}})}parse(t,n){return this._client.responses.create(t,n)._thenUnwrap(r=>Dw(r,t))}stream(t,n){return $h.createResponse(this._client,t,n)}cancel(t,n){return this._client.post(`/responses/${t}/cancel`,{...n,headers:{Accept:"*/*",...n==null?void 0:n.headers}})}}class Gb extends Re{}Nh.InputItems=jw;class Mw extends q{create(t,n,r){return this._client.post(`/uploads/${t}/parts`,kr({body:n,...r}))}}class Dh extends q{constructor(){super(...arguments),this.parts=new Mw(this._client)}create(t,n){return this._client.post("/uploads",{body:t,...n})}cancel(t,n){return this._client.post(`/uploads/${t}/cancel`,n)}complete(t,n,r){return this._client.post(`/uploads/${t}/complete`,{body:n,...r})}}Dh.Parts=Mw;const Wb=async e=>{const t=await Promise.allSettled(e),n=t.filter(i=>i.status==="rejected");if(n.length){for(const i of n)console.error(i.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const i of t)i.status==="fulfilled"&&r.push(i.value);return r};class eu extends q{create(t,n,r){return this._client.post(`/vector_stores/${t}/files`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/vector_stores/${t}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,n,r,i){return this._client.post(`/vector_stores/${t}/files/${n}`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(t,n={},r){return me(n)?this.list(t,{},n):this._client.getAPIList(`/vector_stores/${t}/files`,tu,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n,r){return this._client.delete(`/vector_stores/${t}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){const i=await this.create(t,n,r);return await this.poll(t,i.id,r)}async poll(t,n,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const s=await this.retrieve(t,n,{...r,headers:i}).withResponse(),a=s.data;switch(a.status){case"in_progress":let o=5e3;if(r!=null&&r.pollIntervalMs)o=r.pollIntervalMs;else{const l=s.response.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(o=c)}}await pa(o);break;case"failed":case"completed":return a}}}async upload(t,n,r){const i=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(t,{file_id:i.id},r)}async uploadAndPoll(t,n,r){const i=await this.upload(t,n,r);return await this.poll(t,i.id,r)}content(t,n,r){return this._client.getAPIList(`/vector_stores/${t}/files/${n}/content`,Fh,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class tu extends Re{}class Fh extends Vl{}eu.VectorStoreFilesPage=tu;eu.FileContentResponsesPage=Fh;class Uw extends q{create(t,n,r){return this._client.post(`/vector_stores/${t}/file_batches`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/vector_stores/${t}/file_batches/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(t,n,r){return this._client.post(`/vector_stores/${t}/file_batches/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){const i=await this.create(t,n);return await this.poll(t,i.id,r)}listFiles(t,n,r={},i){return me(r)?this.listFiles(t,n,{},r):this._client.getAPIList(`/vector_stores/${t}/file_batches/${n}/files`,tu,{query:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}async poll(t,n,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:s,response:a}=await this.retrieve(t,n,{...r,headers:i}).withResponse();switch(s.status){case"in_progress":let o=5e3;if(r!=null&&r.pollIntervalMs)o=r.pollIntervalMs;else{const l=a.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(o=c)}}await pa(o);break;case"failed":case"cancelled":case"completed":return s}}}async uploadAndPoll(t,{files:n,fileIds:r=[]},i){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const s=(i==null?void 0:i.maxConcurrency)??5,a=Math.min(s,n.length),o=this._client,l=n.values(),c=[...r];async function u(d){for(let p of d){const y=await o.files.create({file:p,purpose:"assistants"},i);c.push(y.id)}}const f=Array(a).fill(l).map(u);return await Wb(f),await this.createAndPoll(t,{file_ids:c})}}class tr extends q{constructor(){super(...arguments),this.files=new eu(this._client),this.fileBatches=new Uw(this._client)}create(t,n){return this._client.post("/vector_stores",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/vector_stores/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/vector_stores/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(t={},n){return me(t)?this.list({},t):this._client.getAPIList("/vector_stores",jh,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,n){return this._client.delete(`/vector_stores/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}search(t,n,r){return this._client.getAPIList(`/vector_stores/${t}/search`,Mh,{body:n,method:"post",...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class jh extends Re{}class Mh extends Vl{}tr.VectorStoresPage=jh;tr.VectorStoreSearchResponsesPage=Mh;tr.Files=eu;tr.VectorStoreFilesPage=tu;tr.FileContentResponsesPage=Fh;tr.FileBatches=Uw;var Qw;class J extends db{constructor({baseURL:t=no("OPENAI_BASE_URL"),apiKey:n=no("OPENAI_API_KEY"),organization:r=no("OPENAI_ORG_ID")??null,project:i=no("OPENAI_PROJECT_ID")??null,...s}={}){if(n===void 0)throw new X("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const a={apiKey:n,organization:r,project:i,...s,baseURL:t||"https://api.openai.com/v1"};if(!a.dangerouslyAllowBrowser&&xb())throw new X(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:a.baseURL,timeout:a.timeout??6e5,httpAgent:a.httpAgent,maxRetries:a.maxRetries,fetch:a.fetch}),this.completions=new Rw(this),this.chat=new Yl(this),this.embeddings=new Bw(this),this.files=new Eh(this),this.images=new $w(this),this.audio=new ma(this),this.moderations=new Nw(this),this.models=new Oh(this),this.fineTuning=new er(this),this.graders=new Th(this),this.vectorStores=new tr(this),this.beta=new Bi(this),this.batches=new sh(this),this.uploads=new Dh(this),this.responses=new Nh(this),this.evals=new Aa(this),this.containers=new va(this),this._options=a,this.apiKey=n,this.organization=r,this.project=i}defaultQuery(){return this._options.defaultQuery}defaultHeaders(t){return{...super.defaultHeaders(t),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(t){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(t){return KI(t,{arrayFormat:"brackets"})}}Qw=J;J.OpenAI=Qw;J.DEFAULT_TIMEOUT=6e5;J.OpenAIError=X;J.APIError=Fe;J.APIConnectionError=zl;J.APIConnectionTimeoutError=ih;J.APIUserAbortError=xt;J.NotFoundError=Mv;J.ConflictError=Uv;J.RateLimitError=zv;J.BadRequestError=Dv;J.AuthenticationError=Fv;J.InternalServerError=Gv;J.PermissionDeniedError=jv;J.UnprocessableEntityError=Qv;J.toFile=Yv;J.fileFromPath=Lv;J.Completions=Rw;J.Chat=Yl;J.ChatCompletionsPage=Xl;J.Embeddings=Bw;J.Files=Eh;J.FileObjectsPage=Sh;J.Images=$w;J.Audio=ma;J.Moderations=Nw;J.Models=Oh;J.ModelsPage=Lh;J.FineTuning=er;J.Graders=Th;J.VectorStores=tr;J.VectorStoresPage=jh;J.VectorStoreSearchResponsesPage=Mh;J.Beta=Bi;J.Batches=sh;J.BatchesPage=ah;J.Uploads=Dh;J.Responses=Nh;J.Evals=Aa;J.EvalListResponsesPage=xh;J.Containers=va;J.ContainerListResponsesPage=vh;async function Hb(e,t){if(!t)throw new Error("API key is required. Please configure it in Settings.");if(!t.startsWith("sk-"))throw new Error('Invalid API key format. Key must start with "sk-".');const n=new J({apiKey:t,dangerouslyAllowBrowser:!0}),r=`Analyze this food photo. Return a JSON object with an 'items' array. Each item should have: 'name' (string, food name), 'grams' (number, estimated portion in grams), 'calories' (number, estimated calories), 'confidence' (string: 'high', 'medium', or 'low'). Return up to 10 food items. If no food is detected, return an empty array. Example: {"items": [{"name": "White Rice", "grams": 180, "calories": 230, "confidence": "high"}]}`;try{const i=await Promise.race([n.chat.completions.create({model:"gpt-4o-mini",messages:[{role:"user",content:[{type:"text",text:r},{type:"image_url",image_url:{url:`data:image/jpeg;base64,${e}`}}]}],response_format:{type:"json_object"},max_tokens:500}),new Promise((s,a)=>setTimeout(()=>a(new Error("Request timeout - please try again")),3e4))]);return Vb(i)}catch(i){throw Kb(i)}}function Vb(e){var t,n;try{const r=(n=(t=e.choices[0])==null?void 0:t.message)==null?void 0:n.content;if(!r)throw new Error("Empty response from AI");const i=JSON.parse(r);if(!i.items||!Array.isArray(i.items))throw new Error("Invalid response format from AI");return i.items.map((a,o)=>{if(!a.name||typeof a.name!="string")throw new Error(`Item ${o}: missing or invalid name`);if(!a.grams||typeof a.grams!="number"||a.grams<1)throw new Error(`Item ${o}: grams must be >= 1`);if(typeof a.calories!="number"||a.calories<0)throw new Error(`Item ${o}: calories must be non-negative`);if(!["high","medium","low"].includes(a.confidence))throw new Error(`Item ${o}: confidence must be high, medium, or low`);return{name:a.name.substring(0,100),grams:Math.round(a.grams),calories:Math.round(a.calories),confidence:a.confidence}})}catch(r){throw console.error("AI response parsing error:",r),new Error(`Failed to parse AI response: ${r.message}`)}}function Kb(e){var t,n,r,i,s;return console.error("OpenAI API error:",e),e.status===401||(t=e.message)!=null&&t.includes("Incorrect API key")?new Error("Invalid API key. Please check your API key in Settings."):e.status===429||(n=e.message)!=null&&n.includes("Rate limit")?new Error("Rate limit exceeded. Please wait a moment and try again."):e.status>=500?new Error("OpenAI service is currently unavailable. Please try again later."):(r=e.message)!=null&&r.includes("timeout")?new Error("Request timeout. Please check your connection and try again."):(i=e.message)!=null&&i.includes("fetch")||(s=e.message)!=null&&s.includes("network")?new Error("Network error. Please check your internet connection."):new Error(e.message||"An unexpected error occurred. Please try again.")}function Xb(){const[e,t]=j.useState("select"),[n,r]=j.useState(null),[i,s]=j.useState(null),{setCurrentMeal:a,setCurrentImage:o}=Xd(),l=ua(),c=y=>{r(y),t("preview")},u=y=>{r(y),t("preview")},f=()=>{r(null),s(null),t("select")},d=async()=>{t("analyzing"),s(null);try{const y=await mv();if(!y)throw new Error("No API key configured. Please set up your API key in Settings.");const m=await FI(n),x=await Hb(m,y);o(URL.createObjectURL(n)),a({foodItems:x,timestamp:Date.now(),date:new Date().toISOString().split("T")[0]}),l("/results")}catch(y){console.error("AI analysis error:",y),s(y.message),t("preview")}},p=y=>{s(y)};return b.jsxs("div",{style:bt.container,children:[e==="select"&&b.jsxs("div",{style:bt.selectMode,children:[b.jsx("h1",{style:bt.title,children:"MealLens"}),b.jsx("p",{style:bt.subtitle,children:"Capture or upload a food photo"}),b.jsxs("div",{style:bt.buttonGroup,children:[b.jsx("button",{onClick:()=>t("camera"),style:bt.primaryButton,children:" Take Photo"}),b.jsx(CI,{onUpload:u,onError:p})]}),i&&b.jsxs("div",{style:bt.error,children:[" ",i]})]}),e==="camera"&&b.jsx(SI,{onCapture:c,onError:p}),e==="preview"&&n&&b.jsx(II,{imageBlob:n,onRetake:f,onConfirm:d}),e==="analyzing"&&b.jsx(bI,{message:"Analyzing photo... This may take 5-10 seconds"}),i&&e==="preview"&&b.jsx("div",{style:bt.errorOverlay,children:b.jsxs("div",{style:bt.errorBox,children:[b.jsxs("p",{style:bt.errorText,children:[" ",i]}),b.jsx("button",{onClick:()=>s(null),style:bt.errorButton,children:"OK"})]})})]})}const bt={container:{width:"100%",minHeight:"100vh",backgroundColor:"#FAFAFA"},selectMode:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",padding:"20px"},title:{fontSize:"36px",color:"#2ECC71",marginBottom:"10px",fontWeight:"bold"},subtitle:{fontSize:"18px",color:"#6B7280",marginBottom:"40px"},buttonGroup:{display:"flex",flexDirection:"column",gap:"20px",alignItems:"center"},primaryButton:{padding:"15px 40px",fontSize:"18px",backgroundColor:"#2ECC71",color:"white",border:"none",borderRadius:"50px",cursor:"pointer",fontWeight:"bold"},error:{marginTop:"20px",padding:"10px 20px",backgroundColor:"#FEE",color:"#E74C3C",borderRadius:"5px"},errorOverlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},errorBox:{backgroundColor:"white",padding:"30px",borderRadius:"10px",maxWidth:"400px",textAlign:"center"},errorText:{fontSize:"16px",marginBottom:"20px",color:"#1F2933"},errorButton:{padding:"10px 30px",fontSize:"16px",backgroundColor:"#2ECC71",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"}};function Yb({item:e,index:t}){const{name:n,grams:r,calories:i,confidence:s}=e,a={high:"#2ECC71",medium:"#F39C12",low:"#E74C3C"},o={high:"High",medium:"Medium",low:"Low"};return b.jsxs("div",{style:kt.card,children:[b.jsxs("div",{style:kt.header,children:[b.jsx("h3",{style:kt.name,children:n}),b.jsx("span",{style:{...kt.confidenceBadge,backgroundColor:a[s]},children:o[s]})]}),b.jsxs("div",{style:kt.details,children:[b.jsxs("div",{style:kt.detailItem,children:[b.jsx("span",{style:kt.label,children:"Portion:"}),b.jsxs("span",{style:kt.value,children:[r,"g"]})]}),b.jsxs("div",{style:kt.detailItem,children:[b.jsx("span",{style:kt.label,children:"Calories:"}),b.jsxs("span",{style:kt.value,children:[i," kcal"]})]})]})]})}const kt={card:{backgroundColor:"white",borderRadius:"10px",padding:"15px",marginBottom:"10px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},name:{fontSize:"18px",color:"#1F2933",margin:0},confidenceBadge:{padding:"4px 12px",borderRadius:"12px",color:"white",fontSize:"12px",fontWeight:"bold"},details:{display:"flex",gap:"20px"},detailItem:{display:"flex",flexDirection:"column"},label:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},value:{fontSize:"16px",color:"#1F2933",fontWeight:"500"}};function qb({items:e}){const t=e.reduce((n,r)=>n+r.calories,0);return b.jsxs("div",{style:tc.container,children:[b.jsx("div",{style:tc.label,children:"Total Calories"}),b.jsxs("div",{style:tc.value,children:[t," kcal"]})]})}const tc={container:{backgroundColor:"#F39C12",color:"white",padding:"20px",borderRadius:"10px",textAlign:"center",marginTop:"20px"},label:{fontSize:"14px",opacity:.9,marginBottom:"5px"},value:{fontSize:"32px",fontWeight:"bold"}};function Jb({item:e,onSave:t,onCancel:n}){const[r,i]=j.useState(e.name),[s,a]=j.useState(e.grams),[o,l]=j.useState(e.calories),[c,u]=j.useState({}),f=e.grams>0?e.calories/e.grams:0,d=m=>{const x=parseInt(m,10)||1;if(a(x),f>0){const g=Math.round(x*f);l(g)}},p=()=>{const m={};return!r||r.trim().length===0?m.name="Name is required":r.length>100&&(m.name="Name must be 100 characters or less"),s<1&&(m.grams="Portion must be at least 1 gram"),o<0&&(m.calories="Calories cannot be negative"),u(m),Object.keys(m).length===0},y=()=>{p()&&t({...e,name:r.trim(),grams:parseInt(s,10),calories:parseInt(o,10)})};return b.jsx("div",{style:ge.overlay,children:b.jsxs("div",{style:ge.modal,children:[b.jsx("h2",{style:ge.title,children:"Edit Food Item"}),b.jsxs("div",{style:ge.formGroup,children:[b.jsx("label",{style:ge.label,children:"Food Name"}),b.jsx("input",{type:"text",value:r,onChange:m=>i(m.target.value),style:ge.input,placeholder:"e.g., White Rice",maxLength:100}),c.name&&b.jsx("span",{style:ge.error,children:c.name})]}),b.jsxs("div",{style:ge.formGroup,children:[b.jsx("label",{style:ge.label,children:"Portion (grams)"}),b.jsxs("div",{style:ge.sliderContainer,children:[b.jsx("input",{type:"range",min:"1",max:Math.max(s*2,500),value:s,onChange:m=>d(m.target.value),style:ge.slider}),b.jsx("input",{type:"number",min:"1",value:s,onChange:m=>d(m.target.value),style:ge.numberInput}),b.jsx("span",{style:ge.unit,children:"g"})]}),c.grams&&b.jsx("span",{style:ge.error,children:c.grams})]}),b.jsxs("div",{style:ge.formGroup,children:[b.jsx("label",{style:ge.label,children:"Calories"}),b.jsx("input",{type:"number",min:"0",value:o,onChange:m=>l(parseInt(m.target.value,10)||0),style:ge.input}),c.calories&&b.jsx("span",{style:ge.error,children:c.calories})]}),b.jsx("div",{style:ge.info,children:" Adjusting portion size will automatically recalculate calories"}),b.jsxs("div",{style:ge.actions,children:[b.jsx("button",{onClick:n,style:ge.cancelButton,children:"Cancel"}),b.jsx("button",{onClick:y,style:ge.saveButton,children:"Save Changes"})]})]})})}const ge={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,padding:"20px"},modal:{backgroundColor:"white",borderRadius:"10px",padding:"25px",maxWidth:"500px",width:"100%",maxHeight:"90vh",overflowY:"auto"},title:{fontSize:"20px",fontWeight:"bold",marginBottom:"20px",color:"#1F2933"},formGroup:{marginBottom:"20px"},label:{display:"block",fontSize:"14px",fontWeight:"bold",marginBottom:"8px",color:"#6B7280"},input:{width:"100%",padding:"10px",fontSize:"16px",border:"1px solid #E5E7EB",borderRadius:"5px",boxSizing:"border-box"},sliderContainer:{display:"flex",alignItems:"center",gap:"10px"},slider:{flex:1,height:"6px"},numberInput:{width:"80px",padding:"8px",fontSize:"16px",border:"1px solid #E5E7EB",borderRadius:"5px",textAlign:"center"},unit:{fontSize:"14px",color:"#6B7280",minWidth:"15px"},info:{backgroundColor:"#FEF3E2",padding:"10px",borderRadius:"5px",fontSize:"13px",color:"#B87503",marginBottom:"20px"},error:{display:"block",color:"#E74C3C",fontSize:"12px",marginTop:"5px"},actions:{display:"flex",gap:"10px",marginTop:"20px"},cancelButton:{flex:1,padding:"12px",fontSize:"16px",backgroundColor:"#6B7280",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontWeight:"bold"},saveButton:{flex:1,padding:"12px",fontSize:"16px",backgroundColor:"#2ECC71",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontWeight:"bold"}};function Zb({onRemove:e,itemName:t}){const[n,r]=j.useState(!1),i=()=>{r(!0)},s=()=>{r(!1),e()},a=()=>{r(!1)};return n?b.jsxs("div",{style:qi.confirmContainer,children:[b.jsxs("span",{style:qi.confirmText,children:["Remove ",t,"?"]}),b.jsx("button",{onClick:s,style:qi.confirmButton,children:"Yes"}),b.jsx("button",{onClick:a,style:qi.cancelButton,children:"No"})]}):b.jsx("button",{onClick:i,style:qi.removeButton,title:"Remove item",children:""})}const qi={removeButton:{background:"transparent",border:"none",fontSize:"20px",cursor:"pointer",padding:"5px 10px",opacity:.7,transition:"opacity 0.2s"},confirmContainer:{display:"flex",alignItems:"center",gap:"10px",padding:"5px"},confirmText:{fontSize:"13px",color:"#E74C3C",fontWeight:"bold"},confirmButton:{padding:"5px 15px",fontSize:"12px",backgroundColor:"#E74C3C",color:"white",border:"none",borderRadius:"3px",cursor:"pointer",fontWeight:"bold"},cancelButton:{padding:"5px 15px",fontSize:"12px",backgroundColor:"#6B7280",color:"white",border:"none",borderRadius:"3px",cursor:"pointer",fontWeight:"bold"}};function ek({value:e,onChange:t}){const n=["Breakfast","Lunch","Dinner","Snack"];return b.jsxs("div",{style:Ji.container,children:[b.jsx("label",{style:Ji.label,children:"Meal Type"}),b.jsx("div",{style:Ji.options,children:n.map(r=>b.jsxs("button",{onClick:()=>t(r),style:{...Ji.option,...e===r?Ji.optionSelected:{}},children:[tk(r)," ",r]},r))})]})}function tk(e){return{Breakfast:"",Lunch:"",Dinner:"",Snack:""}[e]||""}const Ji={container:{marginBottom:"20px"},label:{display:"block",fontSize:"14px",fontWeight:"bold",marginBottom:"10px",color:"#6B7280"},options:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"10px"},option:{padding:"12px",fontSize:"14px",backgroundColor:"#FAFAFA",color:"#1F2933",border:"2px solid #E5E7EB",borderRadius:"8px",cursor:"pointer",fontWeight:"500",transition:"all 0.2s"},optionSelected:{backgroundColor:"#2ECC71",color:"white",borderColor:"#2ECC71",fontWeight:"bold"}};function nk(e=new Date){const t=e.getHours();return t>=5&&t<11?"Breakfast":t>=11&&t<16?"Lunch":t>=16&&t<21?"Dinner":"Snack"}function rk(){const{currentMeal:e,currentImage:t}=Xd(),n=ua(),[r,i]=j.useState(!1),[s,a]=j.useState(null),[o,l]=j.useState((e==null?void 0:e.foodItems)||[]),[c,u]=j.useState(null),[f,d]=j.useState(nk()),[p,y]=j.useState(!1);if(!e||!e.foodItems)return b.jsx("div",{style:Se.container,children:b.jsxs("div",{style:Se.emptyState,children:[b.jsx("p",{children:"No detection results available"}),b.jsx("a",{href:"/camera",style:Se.link,children:"Take a photo"})]})});if(o.length===0)return b.jsx("div",{style:Se.container,children:b.jsxs("div",{style:Se.emptyState,children:[b.jsx("h2",{children:"No food items"}),b.jsx("p",{children:"The AI couldn't identify any food in this photo, or all items were removed."}),b.jsx("p",{children:"Try taking another photo with better lighting or a clearer view of the food."}),b.jsx("a",{href:"/camera",style:Se.link,children:b.jsx("button",{style:Se.retryButton,children:" Try Again"})})]})});const m=o.every(w=>w.confidence==="low"),x=w=>{u(w)},g=w=>{const A=[...o];A[c]=w,l(A),u(null)},h=()=>{u(null)},v=w=>{const A=o.filter((_,S)=>S!==w);l(A)},E=async()=>{if(!p){y(!0);return}i(!0),a(null);try{const w=o.reduce((_,S)=>_+S.calories,0),A={timestamp:e.timestamp||Date.now(),date:e.date||new Date().toISOString().split("T")[0],type:f,totalCalories:w};await cE(A,o),n("/log")}catch(w){console.error("Failed to save meal:",w),a(w.message),i(!1)}};return b.jsxs("div",{style:Se.container,children:[b.jsxs("div",{style:Se.header,children:[b.jsx("h1",{style:Se.title,children:"Detection Results"}),t&&b.jsx("img",{src:t,alt:"Food",style:Se.thumbnail})]}),m&&b.jsx("div",{style:Se.warning,children:" Poor image quality detected. Results may be inaccurate. Consider retaking the photo."}),b.jsx("div",{style:Se.itemsList,children:o.map((w,A)=>b.jsxs("div",{style:Se.itemWrapper,children:[b.jsx("div",{onClick:()=>x(A),style:{cursor:"pointer",flex:1},children:b.jsx(Yb,{item:w,index:A})}),b.jsx(Zb,{onRemove:()=>v(A),itemName:w.name})]},A))}),b.jsx(qb,{items:o}),p&&b.jsx(ek,{value:f,onChange:d}),b.jsxs("div",{style:Se.actions,children:[b.jsx("a",{href:"/camera",style:Se.link,children:b.jsx("button",{style:Se.secondaryButton,disabled:r,children:" Retry"})}),b.jsx("button",{style:Se.primaryButton,onClick:E,disabled:r,children:r?" Saving...":p?" Save to Log":" Continue"})]}),s&&b.jsxs("div",{style:Se.errorMessage,children:[" Failed to save: ",s]}),c!==null&&b.jsx(Jb,{item:o[c],onSave:g,onCancel:h})]})}const Se={container:{maxWidth:"600px",margin:"0 auto",padding:"20px",fontFamily:"sans-serif"},header:{textAlign:"center",marginBottom:"20px"},title:{fontSize:"24px",color:"#1F2933",marginBottom:"15px"},thumbnail:{width:"100%",maxHeight:"200px",objectFit:"cover",borderRadius:"10px"},emptyState:{textAlign:"center",padding:"60px 20px"},warning:{backgroundColor:"#FEF3E2",border:"1px solid #F39C12",color:"#B87503",padding:"12px",borderRadius:"5px",marginBottom:"20px",fontSize:"14px"},itemsList:{marginBottom:"20px"},itemWrapper:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px"},actions:{display:"flex",gap:"10px",marginTop:"20px"},link:{textDecoration:"none",flex:1},primaryButton:{flex:1,padding:"15px",fontSize:"16px",backgroundColor:"#2ECC71",color:"white",border:"none",borderRadius:"10px",cursor:"pointer",fontWeight:"bold"},secondaryButton:{width:"100%",padding:"15px",fontSize:"16px",backgroundColor:"#6B7280",color:"white",border:"none",borderRadius:"10px"},errorMessage:{backgroundColor:"#FEE",border:"1px solid #E74C3C",color:"#C0392B",padding:"12px",borderRadius:"5px",marginTop:"15px",textAlign:"center",cursor:"pointer",fontWeight:"bold"},retryButton:{padding:"15px 30px",fontSize:"16px",backgroundColor:"#2ECC71",color:"white",border:"none",borderRadius:"10px",cursor:"pointer",fontWeight:"bold"}};function ik(){const[e,t]=j.useState(""),[n,r]=j.useState(!1),[i,s]=j.useState(null),[a,o]=j.useState(!0),[l,c]=j.useState(!1),u=ua();j.useEffect(()=>{f()},[]);const f=async()=>{try{const m=await mv();m&&t(m)}catch(m){console.error("Failed to load API key:",m)}finally{o(!1)}},d=async()=>{if(s(null),!e.trim()){s({type:"error",text:"Please enter an API key"});return}if(!e.startsWith("sk-")){s({type:"error",text:'Invalid API key format. Key must start with "sk-"'});return}try{await gE(e),s({type:"success",text:"API key saved successfully!"})}catch(m){s({type:"error",text:`Failed to save API key: ${m.message}`})}},p=async()=>{try{await Em("apiKey"),await Em("apiKeySalt"),t(""),s({type:"success",text:"API key deleted"}),c(!1)}catch(m){s({type:"error",text:`Failed to delete API key: ${m.message}`})}},y=async()=>{if(window.confirm(" This will delete ALL data including meals and settings. Are you sure?"))try{await hE(),t(""),s({type:"success",text:"All data deleted. App reset complete."}),setTimeout(()=>u("/"),2e3)}catch(m){s({type:"error",text:`Factory reset failed: ${m.message}`})}};return a?b.jsx("div",{style:re.container,children:"Loading..."}):b.jsxs("div",{style:re.container,children:[b.jsxs("div",{style:re.header,children:[b.jsx("button",{onClick:()=>u("/"),style:re.backButton,children:" Back"}),b.jsx("h1",{style:re.title,children:"Settings"})]}),b.jsxs("div",{style:re.section,children:[b.jsx("h2",{style:re.sectionTitle,children:"OpenAI API Key"}),b.jsx("p",{style:re.description,children:"Your API key is stored locally and encrypted. It's never transmitted except to OpenAI."}),b.jsxs("div",{style:re.inputGroup,children:[b.jsx("input",{type:n?"text":"password",value:e,onChange:m=>t(m.target.value),placeholder:"sk-...",style:re.input}),b.jsx("button",{onClick:()=>r(!n),style:re.toggleButton,children:n?" Hide":" Show"})]}),b.jsxs("div",{style:re.buttonGroup,children:[b.jsx("button",{onClick:d,style:re.primaryButton,children:" Save API Key"}),e&&b.jsx("button",{onClick:()=>c(!0),style:re.dangerButton,children:" Delete Key"})]}),l&&b.jsxs("div",{style:re.confirmBox,children:[b.jsx("p",{children:"Delete API key?"}),b.jsxs("div",{style:re.confirmButtons,children:[b.jsx("button",{onClick:p,style:re.confirmYes,children:"Yes"}),b.jsx("button",{onClick:()=>c(!1),style:re.confirmNo,children:"No"})]})]}),b.jsxs("div",{style:re.helpText,children:[b.jsxs("p",{children:[" Get an API key at ",b.jsx("a",{href:"https://platform.openai.com",target:"_blank",rel:"noopener noreferrer",style:re.link,children:"platform.openai.com"})]}),b.jsx("p",{children:" You pay for your own OpenAI usage (~$0.01-0.03 per photo)"})]})]}),b.jsxs("div",{style:re.section,children:[b.jsx("h2",{style:re.sectionTitle,children:"Privacy"}),b.jsxs("ul",{style:re.privacyList,children:[b.jsx("li",{children:" All data stored locally on your device"}),b.jsx("li",{children:" API key encrypted using browser crypto"}),b.jsx("li",{children:" EXIF metadata stripped from photos"}),b.jsx("li",{children:" Images never stored (memory-only during analysis)"}),b.jsx("li",{children:" No backend server, no data collection"})]})]}),b.jsxs("div",{style:re.section,children:[b.jsx("h2",{style:re.sectionTitle,children:"Danger Zone"}),b.jsx("button",{onClick:y,style:re.dangerButton,children:" Factory Reset (Delete All Data)"}),b.jsx("p",{style:re.warningText,children:"This will permanently delete all meals, settings, and your API key."})]}),i&&b.jsx("div",{style:{...re.message,backgroundColor:i.type==="success"?"#D5F5E3":"#FADBD8",color:i.type==="success"?"#1E8449":"#E74C3C"},children:i.text})]})}const re={container:{maxWidth:"600px",margin:"0 auto",padding:"20px",fontFamily:"sans-serif"},header:{display:"flex",alignItems:"center",marginBottom:"30px",gap:"15px"},backButton:{padding:"8px 15px",backgroundColor:"#FAFAFA",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"14px"},title:{fontSize:"28px",color:"#1F2933",margin:0},section:{backgroundColor:"white",padding:"20px",borderRadius:"10px",marginBottom:"20px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},sectionTitle:{fontSize:"20px",color:"#1F2933",marginTop:0,marginBottom:"10px"},description:{color:"#6B7280",fontSize:"14px",marginBottom:"15px"},inputGroup:{display:"flex",gap:"10px",marginBottom:"15px"},input:{flex:1,padding:"12px",fontSize:"16px",border:"1px solid #E5E7EB",borderRadius:"5px",fontFamily:"monospace"},toggleButton:{padding:"12px 20px",backgroundColor:"#FAFAFA",border:"1px solid #E5E7EB",borderRadius:"5px",cursor:"pointer",fontSize:"14px"},buttonGroup:{display:"flex",gap:"10px",marginBottom:"15px"},primaryButton:{flex:1,padding:"12px",fontSize:"16px",backgroundColor:"#2ECC71",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontWeight:"bold"},dangerButton:{padding:"12px 20px",fontSize:"16px",backgroundColor:"#E74C3C",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontWeight:"bold",width:"100%"},confirmBox:{backgroundColor:"#FEF3E2",padding:"15px",borderRadius:"5px",marginTop:"10px"},confirmButtons:{display:"flex",gap:"10px",marginTop:"10px"},confirmYes:{flex:1,padding:"8px",backgroundColor:"#E74C3C",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},confirmNo:{flex:1,padding:"8px",backgroundColor:"#6B7280",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},helpText:{marginTop:"15px",fontSize:"14px",color:"#6B7280"},link:{color:"#2ECC71",textDecoration:"none"},privacyList:{listStyle:"none",padding:0,margin:0},warningText:{fontSize:"14px",color:"#6B7280",marginTop:"10px"},message:{position:"fixed",bottom:"20px",left:"50%",transform:"translateX(-50%)",padding:"15px 30px",borderRadius:"5px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",zIndex:9999,maxWidth:"90%",textAlign:"center"}};function sk({meal:e,expanded:t,onToggleExpand:n}){ua();const r=Kd(()=>t?dE(e.id):Promise.resolve([]),[e.id,t],[]),i=async()=>{if(confirm(`Delete this ${e.type||"meal"}?`))try{await fE(e.id)}catch(o){console.error("Failed to delete meal:",o),alert("Failed to delete meal: "+o.message)}},s=o=>new Date(o).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),a=o=>({Breakfast:"",Lunch:"",Dinner:"",Snack:""})[o]||"";return b.jsxs("div",{style:Oe.card,children:[b.jsxs("div",{style:Oe.header,onClick:n,children:[b.jsxs("div",{style:Oe.headerLeft,children:[b.jsx("span",{style:Oe.icon,children:a(e.type)}),b.jsxs("div",{children:[b.jsx("div",{style:Oe.type,children:e.type||"Meal"}),b.jsx("div",{style:Oe.time,children:s(e.timestamp)})]})]}),b.jsxs("div",{style:Oe.headerRight,children:[b.jsxs("div",{style:Oe.calories,children:[e.totalCalories," kcal"]}),b.jsx("div",{style:Oe.expandIcon,children:t?"":""})]})]}),t&&b.jsxs("div",{style:Oe.details,children:[r.length===0?b.jsx("div",{style:Oe.loading,children:"Loading items..."}):b.jsx("div",{style:Oe.itemsList,children:r.map((o,l)=>b.jsxs("div",{style:Oe.item,children:[b.jsx("span",{style:Oe.itemName,children:o.name}),b.jsxs("span",{style:Oe.itemDetails,children:[o.grams,"g  ",o.calories," kcal"]})]},l))}),b.jsx("div",{style:Oe.actions,children:b.jsx("button",{onClick:i,style:Oe.deleteButton,children:" Delete Meal"})})]})]})}const Oe={card:{backgroundColor:"white",border:"1px solid #E5E7EB",borderRadius:"10px",marginBottom:"15px",overflow:"hidden",boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"15px",cursor:"pointer",userSelect:"none"},headerLeft:{display:"flex",alignItems:"center",gap:"12px"},icon:{fontSize:"28px"},type:{fontSize:"16px",fontWeight:"bold",color:"#1F2933"},time:{fontSize:"12px",color:"#6B7280",marginTop:"2px"},headerRight:{display:"flex",alignItems:"center",gap:"15px"},calories:{fontSize:"18px",fontWeight:"bold",color:"#F39C12"},expandIcon:{fontSize:"14px",color:"#6B7280"},details:{borderTop:"1px solid #E5E7EB",padding:"15px",backgroundColor:"#FAFAFA"},loading:{textAlign:"center",padding:"10px",color:"#6B7280",fontSize:"14px"},itemsList:{marginBottom:"15px"},item:{display:"flex",justifyContent:"space-between",padding:"8px 0",borderBottom:"1px solid #E5E7EB"},itemName:{fontSize:"14px",color:"#1F2933"},itemDetails:{fontSize:"13px",color:"#6B7280"},actions:{display:"flex",gap:"10px",marginTop:"10px"},deleteButton:{padding:"8px 15px",fontSize:"13px",backgroundColor:"#E74C3C",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontWeight:"bold"}};function ak({meals:e,date:t}){if(!e||e.length===0)return b.jsx("div",{style:lt.container,children:b.jsxs("div",{style:lt.emptyState,children:[b.jsx("p",{children:"No meals logged yet"}),b.jsx("p",{style:lt.hint,children:"Start tracking your meals to see your daily summary"})]})});const n=e.reduce((s,a)=>s+(a.totalCalories||0),0),r=e.length,i=s=>{const a=new Date(s+"T00:00:00"),o=new Date;o.setHours(0,0,0,0);const l=new Date(o);return l.setDate(l.getDate()-1),a.getTime()===o.getTime()?"Today":a.getTime()===l.getTime()?"Yesterday":a.toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"})};return b.jsxs("div",{style:lt.container,children:[b.jsx("div",{style:lt.dateHeader,children:i(t)}),b.jsxs("div",{style:lt.stats,children:[b.jsxs("div",{style:lt.stat,children:[b.jsx("div",{style:lt.statValue,children:n}),b.jsx("div",{style:lt.statLabel,children:"Total Calories"})]}),b.jsx("div",{style:lt.divider}),b.jsxs("div",{style:lt.stat,children:[b.jsx("div",{style:lt.statValue,children:r}),b.jsx("div",{style:lt.statLabel,children:"Meals Logged"})]})]})]})}const lt={container:{backgroundColor:"white",border:"2px solid #2ECC71",borderRadius:"10px",padding:"20px",marginBottom:"25px",boxShadow:"0 2px 6px rgba(46, 204, 113, 0.1)"},dateHeader:{fontSize:"18px",fontWeight:"bold",color:"#2ECC71",marginBottom:"15px",textAlign:"center"},stats:{display:"flex",justifyContent:"space-around",alignItems:"center"},stat:{textAlign:"center",flex:1},statValue:{fontSize:"32px",fontWeight:"bold",color:"#1F2933",marginBottom:"5px"},statLabel:{fontSize:"13px",color:"#6B7280",textTransform:"uppercase",letterSpacing:"0.5px"},divider:{width:"1px",height:"60px",backgroundColor:"#E5E7EB"},emptyState:{textAlign:"center",padding:"10px"},hint:{fontSize:"13px",color:"#6B7280",marginTop:"5px"}};function ok(){const[e,t]=j.useState(new Date().toISOString().split("T")[0]),n=Kd(()=>uE(e),[e],[]),[r,i]=j.useState(null),s=a=>{i(r===a?null:a)};return b.jsxs("div",{style:Ve.container,children:[b.jsx("h1",{style:Ve.title,children:"Meal Log"}),b.jsxs("div",{style:Ve.dateSelector,children:[b.jsx("label",{style:Ve.dateLabel,children:"Date:"}),b.jsx("input",{type:"date",value:e,onChange:a=>t(a.target.value),style:Ve.dateInput,max:new Date().toISOString().split("T")[0]})]}),b.jsx(ak,{meals:n,date:e}),n?n.length===0?b.jsxs("div",{style:Ve.emptyState,children:[b.jsxs("p",{children:[" No meals logged for ",e]}),b.jsx("a",{href:"/camera",style:Ve.link,children:b.jsx("button",{style:Ve.addButton,children:" Add First Meal"})})]}):b.jsx("div",{style:Ve.mealsList,children:n.map(a=>b.jsx(sk,{meal:a,expanded:r===a.id,onToggleExpand:()=>s(a.id)},a.id))}):b.jsx("div",{style:Ve.loading,children:"Loading..."}),b.jsxs("div",{style:Ve.footer,children:[b.jsx("a",{href:"/camera",style:Ve.link,children:b.jsx("button",{style:Ve.addButton,children:" Add Meal"})}),b.jsx("a",{href:"/",style:Ve.link,children:b.jsx("button",{style:Ve.homeButton,children:" Home"})})]})]})}const Ve={container:{maxWidth:"600px",margin:"0 auto",padding:"20px",fontFamily:"sans-serif"},title:{fontSize:"28px",fontWeight:"bold",color:"#1F2933",marginBottom:"20px",textAlign:"center"},dateSelector:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"20px",padding:"10px",backgroundColor:"#FAFAFA",borderRadius:"8px"},dateLabel:{fontSize:"14px",fontWeight:"bold",color:"#6B7280"},dateInput:{flex:1,padding:"8px",fontSize:"14px",border:"1px solid #E5E7EB",borderRadius:"5px"},loading:{textAlign:"center",padding:"40px",color:"#6B7280",fontSize:"16px"},emptyState:{textAlign:"center",padding:"60px 20px",color:"#6B7280"},mealsList:{marginBottom:"20px"},footer:{display:"flex",gap:"10px",marginTop:"30px"},link:{textDecoration:"none",flex:1},addButton:{width:"100%",padding:"15px",fontSize:"16px",backgroundColor:"#2ECC71",color:"white",border:"none",borderRadius:"10px",cursor:"pointer",fontWeight:"bold"},homeButton:{width:"100%",padding:"15px",fontSize:"16px",backgroundColor:"#6B7280",color:"white",border:"none",borderRadius:"10px",cursor:"pointer",fontWeight:"bold"}},lk=()=>b.jsxs("div",{style:{padding:"20px",textAlign:"center",marginTop:"100px"},children:[b.jsx("h1",{style:{color:"#2ECC71",fontSize:"48px"},children:"MealLens"}),b.jsx("p",{style:{fontSize:"18px",color:"#6B7280",marginBottom:"30px"},children:"AI-powered calorie tracking from food photos"}),b.jsxs("div",{style:{display:"flex",gap:"20px",justifyContent:"center",flexWrap:"wrap"},children:[b.jsx("a",{href:"/camera",style:{textDecoration:"none"},children:b.jsx("button",{style:{padding:"15px 40px",fontSize:"18px",backgroundColor:"#2ECC71",color:"white",border:"none",borderRadius:"50px",cursor:"pointer",fontWeight:"bold"},children:" Take Photo"})}),b.jsx("a",{href:"/log",style:{textDecoration:"none"},children:b.jsx("button",{style:{padding:"15px 40px",fontSize:"18px",backgroundColor:"#F39C12",color:"white",border:"none",borderRadius:"50px",cursor:"pointer",fontWeight:"bold"},children:" View Log"})}),b.jsx("a",{href:"/settings",style:{textDecoration:"none"},children:b.jsx("button",{style:{padding:"15px 40px",fontSize:"18px",backgroundColor:"#6B7280",color:"white",border:"none",borderRadius:"50px",cursor:"pointer",fontWeight:"bold"},children:" Settings"})})]})]});function uk(){const[e,t]=j.useState(null),[n,r]=j.useState(!1);return j.useEffect(()=>{pI().then(i=>{i.shouldShowNotification&&t({version:i.latestVersion,updateUrl:i.updateUrl})}).catch(i=>{console.warn("Version check failed:",i)})},[]),b.jsx(wE,{children:b.jsx(vE,{children:b.jsxs(mx,{children:[e&&b.jsx(_I,{version:e.version,onDismiss:()=>t(null),onClick:()=>r(!0)}),n&&e&&b.jsx(xI,{version:e.version,updateUrl:e.updateUrl,onClose:()=>r(!1)}),b.jsx(AE,{}),b.jsxs(dx,{children:[b.jsx(ar,{path:"/",element:b.jsx(lk,{})}),b.jsx(ar,{path:"/camera",element:b.jsx(Xb,{})}),b.jsx(ar,{path:"/results",element:b.jsx(rk,{})}),b.jsx(ar,{path:"/log",element:b.jsx(ok,{})}),b.jsx(ar,{path:"/settings",element:b.jsx(ik,{})}),b.jsx(ar,{path:"*",element:b.jsx(cx,{to:"/",replace:!0})})]})]})})})}nc.createRoot(document.getElementById("root")).render(b.jsx(Pn.StrictMode,{children:b.jsx(uk,{})}));
