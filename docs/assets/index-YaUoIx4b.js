function Yw(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Al(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var wg={exports:{}},_l={},Ag={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=Symbol.for("react.element"),qw=Symbol.for("react.portal"),Jw=Symbol.for("react.fragment"),Zw=Symbol.for("react.strict_mode"),eA=Symbol.for("react.profiler"),tA=Symbol.for("react.provider"),nA=Symbol.for("react.context"),rA=Symbol.for("react.forward_ref"),iA=Symbol.for("react.suspense"),sA=Symbol.for("react.memo"),aA=Symbol.for("react.lazy"),Jh=Symbol.iterator;function oA(e){return e===null||typeof e!="object"?null:(e=Jh&&e[Jh]||e["@@iterator"],typeof e=="function"?e:null)}var _g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xg=Object.assign,Eg={};function Ci(e,t,n){this.props=e,this.context=t,this.refs=Eg,this.updater=n||_g}Ci.prototype.isReactComponent={};Ci.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ci.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Sg(){}Sg.prototype=Ci.prototype;function zf(e,t,n){this.props=e,this.context=t,this.refs=Eg,this.updater=n||_g}var Gf=zf.prototype=new Sg;Gf.constructor=zf;xg(Gf,Ci.prototype);Gf.isPureReactComponent=!0;var Zh=Array.isArray,Cg=Object.prototype.hasOwnProperty,Wf={current:null},Ig={key:!0,ref:!0,__self:!0,__source:!0};function bg(e,t,n){var r,i={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)Cg.call(t,r)&&!Ig.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:aa,type:e,key:s,ref:a,props:i,_owner:Wf.current}}function lA(e,t){return{$$typeof:aa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Hf(e){return typeof e=="object"&&e!==null&&e.$$typeof===aa}function uA(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ep=/\/+/g;function au(e,t){return typeof e=="object"&&e!==null&&e.key!=null?uA(""+e.key):t.toString(36)}function fo(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case aa:case qw:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+au(a,0):r,Zh(i)?(n="",e!=null&&(n=e.replace(ep,"$&/")+"/"),fo(i,t,n,"",function(u){return u})):i!=null&&(Hf(i)&&(i=lA(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(ep,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",Zh(e))for(var o=0;o<e.length;o++){s=e[o];var l=r+au(s,o);a+=fo(s,t,n,l,i)}else if(l=oA(e),typeof l=="function")for(e=l.call(e),o=0;!(s=e.next()).done;)s=s.value,l=r+au(s,o++),a+=fo(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Sa(e,t,n){if(e==null)return e;var r=[],i=0;return fo(e,r,"","",function(s){return t.call(n,s,i++)}),r}function cA(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Je={current:null},ho={transition:null},fA={ReactCurrentDispatcher:Je,ReactCurrentBatchConfig:ho,ReactCurrentOwner:Wf};function kg(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:Sa,forEach:function(e,t,n){Sa(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Sa(e,function(){t++}),t},toArray:function(e){return Sa(e,function(t){return t})||[]},only:function(e){if(!Hf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Component=Ci;Z.Fragment=Jw;Z.Profiler=eA;Z.PureComponent=zf;Z.StrictMode=Zw;Z.Suspense=iA;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fA;Z.act=kg;Z.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=xg({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=Wf.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)Cg.call(t,l)&&!Ig.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:aa,type:e.type,key:i,ref:s,props:r,_owner:a}};Z.createContext=function(e){return e={$$typeof:nA,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:tA,_context:e},e.Consumer=e};Z.createElement=bg;Z.createFactory=function(e){var t=bg.bind(null,e);return t.type=e,t};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:rA,render:e}};Z.isValidElement=Hf;Z.lazy=function(e){return{$$typeof:aA,_payload:{_status:-1,_result:e},_init:cA}};Z.memo=function(e,t){return{$$typeof:sA,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=ho.transition;ho.transition={};try{e()}finally{ho.transition=t}};Z.unstable_act=kg;Z.useCallback=function(e,t){return Je.current.useCallback(e,t)};Z.useContext=function(e){return Je.current.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e){return Je.current.useDeferredValue(e)};Z.useEffect=function(e,t){return Je.current.useEffect(e,t)};Z.useId=function(){return Je.current.useId()};Z.useImperativeHandle=function(e,t,n){return Je.current.useImperativeHandle(e,t,n)};Z.useInsertionEffect=function(e,t){return Je.current.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return Je.current.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return Je.current.useMemo(e,t)};Z.useReducer=function(e,t,n){return Je.current.useReducer(e,t,n)};Z.useRef=function(e){return Je.current.useRef(e)};Z.useState=function(e){return Je.current.useState(e)};Z.useSyncExternalStore=function(e,t,n){return Je.current.useSyncExternalStore(e,t,n)};Z.useTransition=function(){return Je.current.useTransition()};Z.version="18.3.1";Ag.exports=Z;var F=Ag.exports;const Pn=Al(F),dA=Yw({__proto__:null,default:Pn},[F]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hA=F,pA=Symbol.for("react.element"),mA=Symbol.for("react.fragment"),gA=Object.prototype.hasOwnProperty,yA=hA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vA={key:!0,ref:!0,__self:!0,__source:!0};function Rg(e,t,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)gA.call(t,r)&&!vA.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:pA,type:e,key:s,ref:a,props:i,_owner:yA.current}}_l.Fragment=mA;_l.jsx=Rg;_l.jsxs=Rg;wg.exports=_l;var b=wg.exports,sc={},Pg={exports:{}},yt={},Bg={exports:{}},Og={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,B){var O=k.length;k.push(B);e:for(;0<O;){var M=O-1>>>1,D=k[M];if(0<i(D,B))k[M]=B,k[O]=D,O=M;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var B=k[0],O=k.pop();if(O!==B){k[0]=O;e:for(var M=0,D=k.length,Q=D>>>1;M<Q;){var V=2*(M+1)-1,K=k[V],ve=V+1,He=k[ve];if(0>i(K,O))ve<D&&0>i(He,K)?(k[M]=He,k[ve]=O,M=ve):(k[M]=K,k[V]=O,M=V);else if(ve<D&&0>i(He,O))k[M]=He,k[ve]=O,M=ve;else break e}}return B}function i(k,B){var O=k.sortIndex-B.sortIndex;return O!==0?O:k.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,f=null,d=3,p=!1,y=!1,m=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(k){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=k)r(u),B.sortIndex=B.expirationTime,t(l,B);else break;B=n(u)}}function E(k){if(m=!1,v(k),!y)if(n(l)!==null)y=!0,R(w);else{var B=n(u);B!==null&&T(E,B.startTime-k)}}function w(k,B){y=!1,m&&(m=!1,g(S),S=-1),p=!0;var O=d;try{for(v(B),f=n(l);f!==null&&(!(f.expirationTime>B)||k&&!P());){var M=f.callback;if(typeof M=="function"){f.callback=null,d=f.priorityLevel;var D=M(f.expirationTime<=B);B=e.unstable_now(),typeof D=="function"?f.callback=D:f===n(l)&&r(l),v(B)}else r(l);f=n(l)}if(f!==null)var Q=!0;else{var V=n(u);V!==null&&T(E,V.startTime-B),Q=!1}return Q}finally{f=null,d=O,p=!1}}var A=!1,_=null,S=-1,C=5,I=-1;function P(){return!(e.unstable_now()-I<C)}function j(){if(_!==null){var k=e.unstable_now();I=k;var B=!0;try{B=_(!0,k)}finally{B?N():(A=!1,_=null)}}else A=!1}var N;if(typeof h=="function")N=function(){h(j)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,$=L.port2;L.port1.onmessage=j,N=function(){$.postMessage(null)}}else N=function(){x(j,0)};function R(k){_=k,A||(A=!0,N())}function T(k,B){S=x(function(){k(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,R(w))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(k){switch(d){case 1:case 2:case 3:var B=3;break;default:B=d}var O=d;d=B;try{return k()}finally{d=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,B){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var O=d;d=k;try{return B()}finally{d=O}},e.unstable_scheduleCallback=function(k,B,O){var M=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?M+O:M):O=M,k){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=O+D,k={id:c++,callback:B,priorityLevel:k,startTime:O,expirationTime:D,sortIndex:-1},O>M?(k.sortIndex=O,t(u,k),n(l)===null&&k===n(u)&&(m?(g(S),S=-1):m=!0,T(E,O-M))):(k.sortIndex=D,t(l,k),y||p||(y=!0,R(w))),k},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(k){var B=d;return function(){var O=d;d=B;try{return k.apply(this,arguments)}finally{d=O}}}})(Og);Bg.exports=Og;var wA=Bg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AA=F,mt=wA;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Tg=new Set,Bs={};function Or(e,t){yi(e,t),yi(e+"Capture",t)}function yi(e,t){for(Bs[e]=t,e=0;e<t.length;e++)Tg.add(t[e])}var mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ac=Object.prototype.hasOwnProperty,_A=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tp={},np={};function xA(e){return ac.call(np,e)?!0:ac.call(tp,e)?!1:_A.test(e)?np[e]=!0:(tp[e]=!0,!1)}function EA(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function SA(e,t,n,r){if(t===null||typeof t>"u"||EA(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ze(e,t,n,r,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var De={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){De[e]=new Ze(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];De[t]=new Ze(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){De[e]=new Ze(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){De[e]=new Ze(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){De[e]=new Ze(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){De[e]=new Ze(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){De[e]=new Ze(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){De[e]=new Ze(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){De[e]=new Ze(e,5,!1,e.toLowerCase(),null,!1,!1)});var Vf=/[\-:]([a-z])/g;function Kf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Vf,Kf);De[t]=new Ze(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Vf,Kf);De[t]=new Ze(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Vf,Kf);De[t]=new Ze(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){De[e]=new Ze(e,1,!1,e.toLowerCase(),null,!1,!1)});De.xlinkHref=new Ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){De[e]=new Ze(e,1,!1,e.toLowerCase(),null,!0,!0)});function Xf(e,t,n,r){var i=De.hasOwnProperty(t)?De[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(SA(t,n,i,r)&&(n=null),r||i===null?xA(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var An=AA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ca=Symbol.for("react.element"),Hr=Symbol.for("react.portal"),Vr=Symbol.for("react.fragment"),Yf=Symbol.for("react.strict_mode"),oc=Symbol.for("react.profiler"),Lg=Symbol.for("react.provider"),$g=Symbol.for("react.context"),qf=Symbol.for("react.forward_ref"),lc=Symbol.for("react.suspense"),uc=Symbol.for("react.suspense_list"),Jf=Symbol.for("react.memo"),bn=Symbol.for("react.lazy"),Ng=Symbol.for("react.offscreen"),rp=Symbol.iterator;function Gi(e){return e===null||typeof e!="object"?null:(e=rp&&e[rp]||e["@@iterator"],typeof e=="function"?e:null)}var pe=Object.assign,ou;function rs(e){if(ou===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ou=t&&t[1]||""}return`
`+ou+e}var lu=!1;function uu(e,t){if(!e||lu)return"";lu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o);break}}}finally{lu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?rs(e):""}function CA(e){switch(e.tag){case 5:return rs(e.type);case 16:return rs("Lazy");case 13:return rs("Suspense");case 19:return rs("SuspenseList");case 0:case 2:case 15:return e=uu(e.type,!1),e;case 11:return e=uu(e.type.render,!1),e;case 1:return e=uu(e.type,!0),e;default:return""}}function cc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Vr:return"Fragment";case Hr:return"Portal";case oc:return"Profiler";case Yf:return"StrictMode";case lc:return"Suspense";case uc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $g:return(e.displayName||"Context")+".Consumer";case Lg:return(e._context.displayName||"Context")+".Provider";case qf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Jf:return t=e.displayName||null,t!==null?t:cc(e.type)||"Memo";case bn:t=e._payload,e=e._init;try{return cc(e(t))}catch{}}return null}function IA(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cc(t);case 8:return t===Yf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Vn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Dg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function bA(e){var t=Dg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ia(e){e._valueTracker||(e._valueTracker=bA(e))}function Fg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Dg(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Do(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function fc(e,t){var n=t.checked;return pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ip(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Vn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function jg(e,t){t=t.checked,t!=null&&Xf(e,"checked",t,!1)}function dc(e,t){jg(e,t);var n=Vn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?hc(e,t.type,n):t.hasOwnProperty("defaultValue")&&hc(e,t.type,Vn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function sp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function hc(e,t,n){(t!=="number"||Do(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var is=Array.isArray;function si(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Vn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function pc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ap(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(U(92));if(is(n)){if(1<n.length)throw Error(U(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Vn(n)}}function Mg(e,t){var n=Vn(t.value),r=Vn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function op(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ug(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ug(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ba,Qg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ba=ba||document.createElement("div"),ba.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ba.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Os(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ms={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kA=["Webkit","ms","Moz","O"];Object.keys(ms).forEach(function(e){kA.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ms[t]=ms[e]})});function zg(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ms.hasOwnProperty(e)&&ms[e]?(""+t).trim():t+"px"}function Gg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=zg(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var RA=pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gc(e,t){if(t){if(RA[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function yc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vc=null;function Zf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wc=null,ai=null,oi=null;function lp(e){if(e=ua(e)){if(typeof wc!="function")throw Error(U(280));var t=e.stateNode;t&&(t=Il(t),wc(e.stateNode,e.type,t))}}function Wg(e){ai?oi?oi.push(e):oi=[e]:ai=e}function Hg(){if(ai){var e=ai,t=oi;if(oi=ai=null,lp(e),t)for(e=0;e<t.length;e++)lp(t[e])}}function Vg(e,t){return e(t)}function Kg(){}var cu=!1;function Xg(e,t,n){if(cu)return e(t,n);cu=!0;try{return Vg(e,t,n)}finally{cu=!1,(ai!==null||oi!==null)&&(Kg(),Hg())}}function Ts(e,t){var n=e.stateNode;if(n===null)return null;var r=Il(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(U(231,t,typeof n));return n}var Ac=!1;if(mn)try{var Wi={};Object.defineProperty(Wi,"passive",{get:function(){Ac=!0}}),window.addEventListener("test",Wi,Wi),window.removeEventListener("test",Wi,Wi)}catch{Ac=!1}function PA(e,t,n,r,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var gs=!1,Fo=null,jo=!1,_c=null,BA={onError:function(e){gs=!0,Fo=e}};function OA(e,t,n,r,i,s,a,o,l){gs=!1,Fo=null,PA.apply(BA,arguments)}function TA(e,t,n,r,i,s,a,o,l){if(OA.apply(this,arguments),gs){if(gs){var u=Fo;gs=!1,Fo=null}else throw Error(U(198));jo||(jo=!0,_c=u)}}function Tr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Yg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function up(e){if(Tr(e)!==e)throw Error(U(188))}function LA(e){var t=e.alternate;if(!t){if(t=Tr(e),t===null)throw Error(U(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return up(i),e;if(s===r)return up(i),t;s=s.sibling}throw Error(U(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?e:t}function qg(e){return e=LA(e),e!==null?Jg(e):null}function Jg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Jg(e);if(t!==null)return t;e=e.sibling}return null}var Zg=mt.unstable_scheduleCallback,cp=mt.unstable_cancelCallback,$A=mt.unstable_shouldYield,NA=mt.unstable_requestPaint,we=mt.unstable_now,DA=mt.unstable_getCurrentPriorityLevel,ed=mt.unstable_ImmediatePriority,ey=mt.unstable_UserBlockingPriority,Mo=mt.unstable_NormalPriority,FA=mt.unstable_LowPriority,ty=mt.unstable_IdlePriority,xl=null,qt=null;function jA(e){if(qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(xl,e,void 0,(e.current.flags&128)===128)}catch{}}var $t=Math.clz32?Math.clz32:QA,MA=Math.log,UA=Math.LN2;function QA(e){return e>>>=0,e===0?32:31-(MA(e)/UA|0)|0}var ka=64,Ra=4194304;function ss(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Uo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=ss(o):(s&=a,s!==0&&(r=ss(s)))}else a=n&~i,a!==0?r=ss(a):s!==0&&(r=ss(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-$t(t),i=1<<n,r|=e[n],t&=~i;return r}function zA(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function GA(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-$t(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=zA(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}function xc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ny(){var e=ka;return ka<<=1,!(ka&4194240)&&(ka=64),e}function fu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function oa(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-$t(t),e[t]=n}function WA(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-$t(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function td(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-$t(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var te=0;function ry(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var iy,nd,sy,ay,oy,Ec=!1,Pa=[],Dn=null,Fn=null,jn=null,Ls=new Map,$s=new Map,Bn=[],HA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fp(e,t){switch(e){case"focusin":case"focusout":Dn=null;break;case"dragenter":case"dragleave":Fn=null;break;case"mouseover":case"mouseout":jn=null;break;case"pointerover":case"pointerout":Ls.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$s.delete(t.pointerId)}}function Hi(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=ua(t),t!==null&&nd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function VA(e,t,n,r,i){switch(t){case"focusin":return Dn=Hi(Dn,e,t,n,r,i),!0;case"dragenter":return Fn=Hi(Fn,e,t,n,r,i),!0;case"mouseover":return jn=Hi(jn,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ls.set(s,Hi(Ls.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,$s.set(s,Hi($s.get(s)||null,e,t,n,r,i)),!0}return!1}function ly(e){var t=fr(e.target);if(t!==null){var n=Tr(t);if(n!==null){if(t=n.tag,t===13){if(t=Yg(n),t!==null){e.blockedOn=t,oy(e.priority,function(){sy(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function po(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Sc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);vc=r,n.target.dispatchEvent(r),vc=null}else return t=ua(n),t!==null&&nd(t),e.blockedOn=n,!1;t.shift()}return!0}function dp(e,t,n){po(e)&&n.delete(t)}function KA(){Ec=!1,Dn!==null&&po(Dn)&&(Dn=null),Fn!==null&&po(Fn)&&(Fn=null),jn!==null&&po(jn)&&(jn=null),Ls.forEach(dp),$s.forEach(dp)}function Vi(e,t){e.blockedOn===t&&(e.blockedOn=null,Ec||(Ec=!0,mt.unstable_scheduleCallback(mt.unstable_NormalPriority,KA)))}function Ns(e){function t(i){return Vi(i,e)}if(0<Pa.length){Vi(Pa[0],e);for(var n=1;n<Pa.length;n++){var r=Pa[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Dn!==null&&Vi(Dn,e),Fn!==null&&Vi(Fn,e),jn!==null&&Vi(jn,e),Ls.forEach(t),$s.forEach(t),n=0;n<Bn.length;n++)r=Bn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Bn.length&&(n=Bn[0],n.blockedOn===null);)ly(n),n.blockedOn===null&&Bn.shift()}var li=An.ReactCurrentBatchConfig,Qo=!0;function XA(e,t,n,r){var i=te,s=li.transition;li.transition=null;try{te=1,rd(e,t,n,r)}finally{te=i,li.transition=s}}function YA(e,t,n,r){var i=te,s=li.transition;li.transition=null;try{te=4,rd(e,t,n,r)}finally{te=i,li.transition=s}}function rd(e,t,n,r){if(Qo){var i=Sc(e,t,n,r);if(i===null)_u(e,t,r,zo,n),fp(e,r);else if(VA(i,e,t,n,r))r.stopPropagation();else if(fp(e,r),t&4&&-1<HA.indexOf(e)){for(;i!==null;){var s=ua(i);if(s!==null&&iy(s),s=Sc(e,t,n,r),s===null&&_u(e,t,r,zo,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else _u(e,t,r,null,n)}}var zo=null;function Sc(e,t,n,r){if(zo=null,e=Zf(r),e=fr(e),e!==null)if(t=Tr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Yg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zo=e,null}function uy(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(DA()){case ed:return 1;case ey:return 4;case Mo:case FA:return 16;case ty:return 536870912;default:return 16}default:return 16}}var Ln=null,id=null,mo=null;function cy(){if(mo)return mo;var e,t=id,n=t.length,r,i="value"in Ln?Ln.value:Ln.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[s-r];r++);return mo=i.slice(e,1<r?1-r:void 0)}function go(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ba(){return!0}function hp(){return!1}function vt(e){function t(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ba:hp,this.isPropagationStopped=hp,this}return pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ba)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ba)},persist:function(){},isPersistent:Ba}),t}var Ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sd=vt(Ii),la=pe({},Ii,{view:0,detail:0}),qA=vt(la),du,hu,Ki,El=pe({},la,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ad,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ki&&(Ki&&e.type==="mousemove"?(du=e.screenX-Ki.screenX,hu=e.screenY-Ki.screenY):hu=du=0,Ki=e),du)},movementY:function(e){return"movementY"in e?e.movementY:hu}}),pp=vt(El),JA=pe({},El,{dataTransfer:0}),ZA=vt(JA),e1=pe({},la,{relatedTarget:0}),pu=vt(e1),t1=pe({},Ii,{animationName:0,elapsedTime:0,pseudoElement:0}),n1=vt(t1),r1=pe({},Ii,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),i1=vt(r1),s1=pe({},Ii,{data:0}),mp=vt(s1),a1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},l1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function u1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=l1[e])?!!t[e]:!1}function ad(){return u1}var c1=pe({},la,{key:function(e){if(e.key){var t=a1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=go(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?o1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ad,charCode:function(e){return e.type==="keypress"?go(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?go(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),f1=vt(c1),d1=pe({},El,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gp=vt(d1),h1=pe({},la,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ad}),p1=vt(h1),m1=pe({},Ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),g1=vt(m1),y1=pe({},El,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),v1=vt(y1),w1=[9,13,27,32],od=mn&&"CompositionEvent"in window,ys=null;mn&&"documentMode"in document&&(ys=document.documentMode);var A1=mn&&"TextEvent"in window&&!ys,fy=mn&&(!od||ys&&8<ys&&11>=ys),yp=" ",vp=!1;function dy(e,t){switch(e){case"keyup":return w1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Kr=!1;function _1(e,t){switch(e){case"compositionend":return hy(t);case"keypress":return t.which!==32?null:(vp=!0,yp);case"textInput":return e=t.data,e===yp&&vp?null:e;default:return null}}function x1(e,t){if(Kr)return e==="compositionend"||!od&&dy(e,t)?(e=cy(),mo=id=Ln=null,Kr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fy&&t.locale!=="ko"?null:t.data;default:return null}}var E1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!E1[e.type]:t==="textarea"}function py(e,t,n,r){Wg(r),t=Go(t,"onChange"),0<t.length&&(n=new sd("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var vs=null,Ds=null;function S1(e){Cy(e,0)}function Sl(e){var t=qr(e);if(Fg(t))return e}function C1(e,t){if(e==="change")return t}var my=!1;if(mn){var mu;if(mn){var gu="oninput"in document;if(!gu){var Ap=document.createElement("div");Ap.setAttribute("oninput","return;"),gu=typeof Ap.oninput=="function"}mu=gu}else mu=!1;my=mu&&(!document.documentMode||9<document.documentMode)}function _p(){vs&&(vs.detachEvent("onpropertychange",gy),Ds=vs=null)}function gy(e){if(e.propertyName==="value"&&Sl(Ds)){var t=[];py(t,Ds,e,Zf(e)),Xg(S1,t)}}function I1(e,t,n){e==="focusin"?(_p(),vs=t,Ds=n,vs.attachEvent("onpropertychange",gy)):e==="focusout"&&_p()}function b1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Sl(Ds)}function k1(e,t){if(e==="click")return Sl(t)}function R1(e,t){if(e==="input"||e==="change")return Sl(t)}function P1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ft=typeof Object.is=="function"?Object.is:P1;function Fs(e,t){if(Ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ac.call(t,i)||!Ft(e[i],t[i]))return!1}return!0}function xp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ep(e,t){var n=xp(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xp(n)}}function yy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vy(){for(var e=window,t=Do();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Do(e.document)}return t}function ld(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function B1(e){var t=vy(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&yy(n.ownerDocument.documentElement,n)){if(r!==null&&ld(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Ep(n,s);var a=Ep(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var O1=mn&&"documentMode"in document&&11>=document.documentMode,Xr=null,Cc=null,ws=null,Ic=!1;function Sp(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ic||Xr==null||Xr!==Do(r)||(r=Xr,"selectionStart"in r&&ld(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ws&&Fs(ws,r)||(ws=r,r=Go(Cc,"onSelect"),0<r.length&&(t=new sd("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Xr)))}function Oa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Yr={animationend:Oa("Animation","AnimationEnd"),animationiteration:Oa("Animation","AnimationIteration"),animationstart:Oa("Animation","AnimationStart"),transitionend:Oa("Transition","TransitionEnd")},yu={},wy={};mn&&(wy=document.createElement("div").style,"AnimationEvent"in window||(delete Yr.animationend.animation,delete Yr.animationiteration.animation,delete Yr.animationstart.animation),"TransitionEvent"in window||delete Yr.transitionend.transition);function Cl(e){if(yu[e])return yu[e];if(!Yr[e])return e;var t=Yr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in wy)return yu[e]=t[n];return e}var Ay=Cl("animationend"),_y=Cl("animationiteration"),xy=Cl("animationstart"),Ey=Cl("transitionend"),Sy=new Map,Cp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jn(e,t){Sy.set(e,t),Or(t,[e])}for(var vu=0;vu<Cp.length;vu++){var wu=Cp[vu],T1=wu.toLowerCase(),L1=wu[0].toUpperCase()+wu.slice(1);Jn(T1,"on"+L1)}Jn(Ay,"onAnimationEnd");Jn(_y,"onAnimationIteration");Jn(xy,"onAnimationStart");Jn("dblclick","onDoubleClick");Jn("focusin","onFocus");Jn("focusout","onBlur");Jn(Ey,"onTransitionEnd");yi("onMouseEnter",["mouseout","mouseover"]);yi("onMouseLeave",["mouseout","mouseover"]);yi("onPointerEnter",["pointerout","pointerover"]);yi("onPointerLeave",["pointerout","pointerover"]);Or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Or("onBeforeInput",["compositionend","keypress","textInput","paste"]);Or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var as="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$1=new Set("cancel close invalid load scroll toggle".split(" ").concat(as));function Ip(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,TA(r,t,void 0,e),e.currentTarget=null}function Cy(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Ip(i,o,u),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Ip(i,o,u),s=l}}}if(jo)throw e=_c,jo=!1,_c=null,e}function ae(e,t){var n=t[Bc];n===void 0&&(n=t[Bc]=new Set);var r=e+"__bubble";n.has(r)||(Iy(t,e,2,!1),n.add(r))}function Au(e,t,n){var r=0;t&&(r|=4),Iy(n,e,r,t)}var Ta="_reactListening"+Math.random().toString(36).slice(2);function js(e){if(!e[Ta]){e[Ta]=!0,Tg.forEach(function(n){n!=="selectionchange"&&($1.has(n)||Au(n,!1,e),Au(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ta]||(t[Ta]=!0,Au("selectionchange",!1,t))}}function Iy(e,t,n,r){switch(uy(t)){case 1:var i=XA;break;case 4:i=YA;break;default:i=rd}n=i.bind(null,t,n,e),i=void 0,!Ac||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function _u(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=fr(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}Xg(function(){var u=s,c=Zf(n),f=[];e:{var d=Sy.get(e);if(d!==void 0){var p=sd,y=e;switch(e){case"keypress":if(go(n)===0)break e;case"keydown":case"keyup":p=f1;break;case"focusin":y="focus",p=pu;break;case"focusout":y="blur",p=pu;break;case"beforeblur":case"afterblur":p=pu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=pp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=ZA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=p1;break;case Ay:case _y:case xy:p=n1;break;case Ey:p=g1;break;case"scroll":p=qA;break;case"wheel":p=v1;break;case"copy":case"cut":case"paste":p=i1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=gp}var m=(t&4)!==0,x=!m&&e==="scroll",g=m?d!==null?d+"Capture":null:d;m=[];for(var h=u,v;h!==null;){v=h;var E=v.stateNode;if(v.tag===5&&E!==null&&(v=E,g!==null&&(E=Ts(h,g),E!=null&&m.push(Ms(h,E,v)))),x)break;h=h.return}0<m.length&&(d=new p(d,y,null,n,c),f.push({event:d,listeners:m}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",d&&n!==vc&&(y=n.relatedTarget||n.fromElement)&&(fr(y)||y[gn]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?fr(y):null,y!==null&&(x=Tr(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(m=pp,E="onMouseLeave",g="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(m=gp,E="onPointerLeave",g="onPointerEnter",h="pointer"),x=p==null?d:qr(p),v=y==null?d:qr(y),d=new m(E,h+"leave",p,n,c),d.target=x,d.relatedTarget=v,E=null,fr(c)===u&&(m=new m(g,h+"enter",y,n,c),m.target=v,m.relatedTarget=x,E=m),x=E,p&&y)t:{for(m=p,g=y,h=0,v=m;v;v=$r(v))h++;for(v=0,E=g;E;E=$r(E))v++;for(;0<h-v;)m=$r(m),h--;for(;0<v-h;)g=$r(g),v--;for(;h--;){if(m===g||g!==null&&m===g.alternate)break t;m=$r(m),g=$r(g)}m=null}else m=null;p!==null&&bp(f,d,p,m,!1),y!==null&&x!==null&&bp(f,x,y,m,!0)}}e:{if(d=u?qr(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var w=C1;else if(wp(d))if(my)w=R1;else{w=b1;var A=I1}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(w=k1);if(w&&(w=w(e,u))){py(f,w,n,c);break e}A&&A(e,d,u),e==="focusout"&&(A=d._wrapperState)&&A.controlled&&d.type==="number"&&hc(d,"number",d.value)}switch(A=u?qr(u):window,e){case"focusin":(wp(A)||A.contentEditable==="true")&&(Xr=A,Cc=u,ws=null);break;case"focusout":ws=Cc=Xr=null;break;case"mousedown":Ic=!0;break;case"contextmenu":case"mouseup":case"dragend":Ic=!1,Sp(f,n,c);break;case"selectionchange":if(O1)break;case"keydown":case"keyup":Sp(f,n,c)}var _;if(od)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Kr?dy(e,n)&&(S="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(fy&&n.locale!=="ko"&&(Kr||S!=="onCompositionStart"?S==="onCompositionEnd"&&Kr&&(_=cy()):(Ln=c,id="value"in Ln?Ln.value:Ln.textContent,Kr=!0)),A=Go(u,S),0<A.length&&(S=new mp(S,e,null,n,c),f.push({event:S,listeners:A}),_?S.data=_:(_=hy(n),_!==null&&(S.data=_)))),(_=A1?_1(e,n):x1(e,n))&&(u=Go(u,"onBeforeInput"),0<u.length&&(c=new mp("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=_))}Cy(f,t)})}function Ms(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Go(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ts(e,n),s!=null&&r.unshift(Ms(e,s,i)),s=Ts(e,t),s!=null&&r.push(Ms(e,s,i))),e=e.return}return r}function $r(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function bp(e,t,n,r,i){for(var s=t._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=Ts(n,s),l!=null&&a.unshift(Ms(n,l,o))):i||(l=Ts(n,s),l!=null&&a.push(Ms(n,l,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var N1=/\r\n?/g,D1=/\u0000|\uFFFD/g;function kp(e){return(typeof e=="string"?e:""+e).replace(N1,`
`).replace(D1,"")}function La(e,t,n){if(t=kp(t),kp(e)!==t&&n)throw Error(U(425))}function Wo(){}var bc=null,kc=null;function Rc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Pc=typeof setTimeout=="function"?setTimeout:void 0,F1=typeof clearTimeout=="function"?clearTimeout:void 0,Rp=typeof Promise=="function"?Promise:void 0,j1=typeof queueMicrotask=="function"?queueMicrotask:typeof Rp<"u"?function(e){return Rp.resolve(null).then(e).catch(M1)}:Pc;function M1(e){setTimeout(function(){throw e})}function xu(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Ns(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ns(t)}function Mn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Pp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var bi=Math.random().toString(36).slice(2),Kt="__reactFiber$"+bi,Us="__reactProps$"+bi,gn="__reactContainer$"+bi,Bc="__reactEvents$"+bi,U1="__reactListeners$"+bi,Q1="__reactHandles$"+bi;function fr(e){var t=e[Kt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[gn]||n[Kt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Pp(e);e!==null;){if(n=e[Kt])return n;e=Pp(e)}return t}e=n,n=e.parentNode}return null}function ua(e){return e=e[Kt]||e[gn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function Il(e){return e[Us]||null}var Oc=[],Jr=-1;function Zn(e){return{current:e}}function le(e){0>Jr||(e.current=Oc[Jr],Oc[Jr]=null,Jr--)}function se(e,t){Jr++,Oc[Jr]=e.current,e.current=t}var Kn={},We=Zn(Kn),it=Zn(!1),xr=Kn;function vi(e,t){var n=e.type.contextTypes;if(!n)return Kn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function st(e){return e=e.childContextTypes,e!=null}function Ho(){le(it),le(We)}function Bp(e,t,n){if(We.current!==Kn)throw Error(U(168));se(We,t),se(it,n)}function by(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(U(108,IA(e)||"Unknown",i));return pe({},n,r)}function Vo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Kn,xr=We.current,se(We,e),se(it,it.current),!0}function Op(e,t,n){var r=e.stateNode;if(!r)throw Error(U(169));n?(e=by(e,t,xr),r.__reactInternalMemoizedMergedChildContext=e,le(it),le(We),se(We,e)):le(it),se(it,n)}var an=null,bl=!1,Eu=!1;function ky(e){an===null?an=[e]:an.push(e)}function z1(e){bl=!0,ky(e)}function er(){if(!Eu&&an!==null){Eu=!0;var e=0,t=te;try{var n=an;for(te=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}an=null,bl=!1}catch(i){throw an!==null&&(an=an.slice(e+1)),Zg(ed,er),i}finally{te=t,Eu=!1}}return null}var Zr=[],ei=0,Ko=null,Xo=0,wt=[],At=0,Er=null,un=1,cn="";function or(e,t){Zr[ei++]=Xo,Zr[ei++]=Ko,Ko=e,Xo=t}function Ry(e,t,n){wt[At++]=un,wt[At++]=cn,wt[At++]=Er,Er=e;var r=un;e=cn;var i=32-$t(r)-1;r&=~(1<<i),n+=1;var s=32-$t(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,un=1<<32-$t(t)+i|n<<i|r,cn=s+e}else un=1<<s|n<<i|r,cn=e}function ud(e){e.return!==null&&(or(e,1),Ry(e,1,0))}function cd(e){for(;e===Ko;)Ko=Zr[--ei],Zr[ei]=null,Xo=Zr[--ei],Zr[ei]=null;for(;e===Er;)Er=wt[--At],wt[At]=null,cn=wt[--At],wt[At]=null,un=wt[--At],wt[At]=null}var pt=null,ht=null,ce=!1,Tt=null;function Py(e,t){var n=_t(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Tp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,pt=e,ht=Mn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,pt=e,ht=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Er!==null?{id:un,overflow:cn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=_t(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,pt=e,ht=null,!0):!1;default:return!1}}function Tc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Lc(e){if(ce){var t=ht;if(t){var n=t;if(!Tp(e,t)){if(Tc(e))throw Error(U(418));t=Mn(n.nextSibling);var r=pt;t&&Tp(e,t)?Py(r,n):(e.flags=e.flags&-4097|2,ce=!1,pt=e)}}else{if(Tc(e))throw Error(U(418));e.flags=e.flags&-4097|2,ce=!1,pt=e}}}function Lp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pt=e}function $a(e){if(e!==pt)return!1;if(!ce)return Lp(e),ce=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Rc(e.type,e.memoizedProps)),t&&(t=ht)){if(Tc(e))throw By(),Error(U(418));for(;t;)Py(e,t),t=Mn(t.nextSibling)}if(Lp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ht=Mn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ht=null}}else ht=pt?Mn(e.stateNode.nextSibling):null;return!0}function By(){for(var e=ht;e;)e=Mn(e.nextSibling)}function wi(){ht=pt=null,ce=!1}function fd(e){Tt===null?Tt=[e]:Tt.push(e)}var G1=An.ReactCurrentBatchConfig;function Xi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,e))}return e}function Na(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $p(e){var t=e._init;return t(e._payload)}function Oy(e){function t(g,h){if(e){var v=g.deletions;v===null?(g.deletions=[h],g.flags|=16):v.push(h)}}function n(g,h){if(!e)return null;for(;h!==null;)t(g,h),h=h.sibling;return null}function r(g,h){for(g=new Map;h!==null;)h.key!==null?g.set(h.key,h):g.set(h.index,h),h=h.sibling;return g}function i(g,h){return g=Gn(g,h),g.index=0,g.sibling=null,g}function s(g,h,v){return g.index=v,e?(v=g.alternate,v!==null?(v=v.index,v<h?(g.flags|=2,h):v):(g.flags|=2,h)):(g.flags|=1048576,h)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,h,v,E){return h===null||h.tag!==6?(h=Pu(v,g.mode,E),h.return=g,h):(h=i(h,v),h.return=g,h)}function l(g,h,v,E){var w=v.type;return w===Vr?c(g,h,v.props.children,E,v.key):h!==null&&(h.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===bn&&$p(w)===h.type)?(E=i(h,v.props),E.ref=Xi(g,h,v),E.return=g,E):(E=Eo(v.type,v.key,v.props,null,g.mode,E),E.ref=Xi(g,h,v),E.return=g,E)}function u(g,h,v,E){return h===null||h.tag!==4||h.stateNode.containerInfo!==v.containerInfo||h.stateNode.implementation!==v.implementation?(h=Bu(v,g.mode,E),h.return=g,h):(h=i(h,v.children||[]),h.return=g,h)}function c(g,h,v,E,w){return h===null||h.tag!==7?(h=yr(v,g.mode,E,w),h.return=g,h):(h=i(h,v),h.return=g,h)}function f(g,h,v){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Pu(""+h,g.mode,v),h.return=g,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Ca:return v=Eo(h.type,h.key,h.props,null,g.mode,v),v.ref=Xi(g,null,h),v.return=g,v;case Hr:return h=Bu(h,g.mode,v),h.return=g,h;case bn:var E=h._init;return f(g,E(h._payload),v)}if(is(h)||Gi(h))return h=yr(h,g.mode,v,null),h.return=g,h;Na(g,h)}return null}function d(g,h,v,E){var w=h!==null?h.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return w!==null?null:o(g,h,""+v,E);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ca:return v.key===w?l(g,h,v,E):null;case Hr:return v.key===w?u(g,h,v,E):null;case bn:return w=v._init,d(g,h,w(v._payload),E)}if(is(v)||Gi(v))return w!==null?null:c(g,h,v,E,null);Na(g,v)}return null}function p(g,h,v,E,w){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(v)||null,o(h,g,""+E,w);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ca:return g=g.get(E.key===null?v:E.key)||null,l(h,g,E,w);case Hr:return g=g.get(E.key===null?v:E.key)||null,u(h,g,E,w);case bn:var A=E._init;return p(g,h,v,A(E._payload),w)}if(is(E)||Gi(E))return g=g.get(v)||null,c(h,g,E,w,null);Na(h,E)}return null}function y(g,h,v,E){for(var w=null,A=null,_=h,S=h=0,C=null;_!==null&&S<v.length;S++){_.index>S?(C=_,_=null):C=_.sibling;var I=d(g,_,v[S],E);if(I===null){_===null&&(_=C);break}e&&_&&I.alternate===null&&t(g,_),h=s(I,h,S),A===null?w=I:A.sibling=I,A=I,_=C}if(S===v.length)return n(g,_),ce&&or(g,S),w;if(_===null){for(;S<v.length;S++)_=f(g,v[S],E),_!==null&&(h=s(_,h,S),A===null?w=_:A.sibling=_,A=_);return ce&&or(g,S),w}for(_=r(g,_);S<v.length;S++)C=p(_,g,S,v[S],E),C!==null&&(e&&C.alternate!==null&&_.delete(C.key===null?S:C.key),h=s(C,h,S),A===null?w=C:A.sibling=C,A=C);return e&&_.forEach(function(P){return t(g,P)}),ce&&or(g,S),w}function m(g,h,v,E){var w=Gi(v);if(typeof w!="function")throw Error(U(150));if(v=w.call(v),v==null)throw Error(U(151));for(var A=w=null,_=h,S=h=0,C=null,I=v.next();_!==null&&!I.done;S++,I=v.next()){_.index>S?(C=_,_=null):C=_.sibling;var P=d(g,_,I.value,E);if(P===null){_===null&&(_=C);break}e&&_&&P.alternate===null&&t(g,_),h=s(P,h,S),A===null?w=P:A.sibling=P,A=P,_=C}if(I.done)return n(g,_),ce&&or(g,S),w;if(_===null){for(;!I.done;S++,I=v.next())I=f(g,I.value,E),I!==null&&(h=s(I,h,S),A===null?w=I:A.sibling=I,A=I);return ce&&or(g,S),w}for(_=r(g,_);!I.done;S++,I=v.next())I=p(_,g,S,I.value,E),I!==null&&(e&&I.alternate!==null&&_.delete(I.key===null?S:I.key),h=s(I,h,S),A===null?w=I:A.sibling=I,A=I);return e&&_.forEach(function(j){return t(g,j)}),ce&&or(g,S),w}function x(g,h,v,E){if(typeof v=="object"&&v!==null&&v.type===Vr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Ca:e:{for(var w=v.key,A=h;A!==null;){if(A.key===w){if(w=v.type,w===Vr){if(A.tag===7){n(g,A.sibling),h=i(A,v.props.children),h.return=g,g=h;break e}}else if(A.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===bn&&$p(w)===A.type){n(g,A.sibling),h=i(A,v.props),h.ref=Xi(g,A,v),h.return=g,g=h;break e}n(g,A);break}else t(g,A);A=A.sibling}v.type===Vr?(h=yr(v.props.children,g.mode,E,v.key),h.return=g,g=h):(E=Eo(v.type,v.key,v.props,null,g.mode,E),E.ref=Xi(g,h,v),E.return=g,g=E)}return a(g);case Hr:e:{for(A=v.key;h!==null;){if(h.key===A)if(h.tag===4&&h.stateNode.containerInfo===v.containerInfo&&h.stateNode.implementation===v.implementation){n(g,h.sibling),h=i(h,v.children||[]),h.return=g,g=h;break e}else{n(g,h);break}else t(g,h);h=h.sibling}h=Bu(v,g.mode,E),h.return=g,g=h}return a(g);case bn:return A=v._init,x(g,h,A(v._payload),E)}if(is(v))return y(g,h,v,E);if(Gi(v))return m(g,h,v,E);Na(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,h!==null&&h.tag===6?(n(g,h.sibling),h=i(h,v),h.return=g,g=h):(n(g,h),h=Pu(v,g.mode,E),h.return=g,g=h),a(g)):n(g,h)}return x}var Ai=Oy(!0),Ty=Oy(!1),Yo=Zn(null),qo=null,ti=null,dd=null;function hd(){dd=ti=qo=null}function pd(e){var t=Yo.current;le(Yo),e._currentValue=t}function $c(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ui(e,t){qo=e,dd=ti=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(rt=!0),e.firstContext=null)}function St(e){var t=e._currentValue;if(dd!==e)if(e={context:e,memoizedValue:t,next:null},ti===null){if(qo===null)throw Error(U(308));ti=e,qo.dependencies={lanes:0,firstContext:e}}else ti=ti.next=e;return t}var dr=null;function md(e){dr===null?dr=[e]:dr.push(e)}function Ly(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,md(t)):(n.next=i.next,i.next=n),t.interleaved=n,yn(e,r)}function yn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var kn=!1;function gd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $y(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function dn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Un(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ee&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,yn(e,n)}return i=r.interleaved,i===null?(t.next=t,md(r)):(t.next=i.next,i.next=t),r.interleaved=t,yn(e,n)}function yo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,td(e,n)}}function Np(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Jo(e,t,n,r){var i=e.updateQueue;kn=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var c=e.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;a=0,c=u=l=null,o=s;do{var d=o.lane,p=o.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=e,m=o;switch(d=t,p=n,m.tag){case 1:if(y=m.payload,typeof y=="function"){f=y.call(p,f,d);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=m.payload,d=typeof y=="function"?y.call(p,f,d):y,d==null)break e;f=pe({},f,d);break e;case 2:kn=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[o]:d.push(o))}else p={eventTime:p,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,a|=d;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;d=o,o=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Cr|=a,e.lanes=a,e.memoizedState=f}}function Dp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(U(191,i));i.call(r)}}}var ca={},Jt=Zn(ca),Qs=Zn(ca),zs=Zn(ca);function hr(e){if(e===ca)throw Error(U(174));return e}function yd(e,t){switch(se(zs,t),se(Qs,e),se(Jt,ca),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:mc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=mc(t,e)}le(Jt),se(Jt,t)}function _i(){le(Jt),le(Qs),le(zs)}function Ny(e){hr(zs.current);var t=hr(Jt.current),n=mc(t,e.type);t!==n&&(se(Qs,e),se(Jt,n))}function vd(e){Qs.current===e&&(le(Jt),le(Qs))}var de=Zn(0);function Zo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Su=[];function wd(){for(var e=0;e<Su.length;e++)Su[e]._workInProgressVersionPrimary=null;Su.length=0}var vo=An.ReactCurrentDispatcher,Cu=An.ReactCurrentBatchConfig,Sr=0,he=null,Ie=null,Be=null,el=!1,As=!1,Gs=0,W1=0;function je(){throw Error(U(321))}function Ad(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ft(e[n],t[n]))return!1;return!0}function _d(e,t,n,r,i,s){if(Sr=s,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,vo.current=e===null||e.memoizedState===null?X1:Y1,e=n(r,i),As){s=0;do{if(As=!1,Gs=0,25<=s)throw Error(U(301));s+=1,Be=Ie=null,t.updateQueue=null,vo.current=q1,e=n(r,i)}while(As)}if(vo.current=tl,t=Ie!==null&&Ie.next!==null,Sr=0,Be=Ie=he=null,el=!1,t)throw Error(U(300));return e}function xd(){var e=Gs!==0;return Gs=0,e}function Gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?he.memoizedState=Be=e:Be=Be.next=e,Be}function Ct(){if(Ie===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=Ie.next;var t=Be===null?he.memoizedState:Be.next;if(t!==null)Be=t,Ie=e;else{if(e===null)throw Error(U(310));Ie=e,e={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},Be===null?he.memoizedState=Be=e:Be=Be.next=e}return Be}function Ws(e,t){return typeof t=="function"?t(e):t}function Iu(e){var t=Ct(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=Ie,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,u=s;do{var c=u.lane;if((Sr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,a=r):l=l.next=f,he.lanes|=c,Cr|=c}u=u.next}while(u!==null&&u!==s);l===null?a=r:l.next=o,Ft(r,t.memoizedState)||(rt=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,he.lanes|=s,Cr|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function bu(e){var t=Ct(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);Ft(s,t.memoizedState)||(rt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Dy(){}function Fy(e,t){var n=he,r=Ct(),i=t(),s=!Ft(r.memoizedState,i);if(s&&(r.memoizedState=i,rt=!0),r=r.queue,Ed(Uy.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Be!==null&&Be.memoizedState.tag&1){if(n.flags|=2048,Hs(9,My.bind(null,n,r,i,t),void 0,null),Oe===null)throw Error(U(349));Sr&30||jy(n,t,i)}return i}function jy(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function My(e,t,n,r){t.value=n,t.getSnapshot=r,Qy(t)&&zy(e)}function Uy(e,t,n){return n(function(){Qy(t)&&zy(e)})}function Qy(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ft(e,n)}catch{return!0}}function zy(e){var t=yn(e,1);t!==null&&Nt(t,e,1,-1)}function Fp(e){var t=Gt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:e},t.queue=e,e=e.dispatch=K1.bind(null,he,e),[t.memoizedState,e]}function Hs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Gy(){return Ct().memoizedState}function wo(e,t,n,r){var i=Gt();he.flags|=e,i.memoizedState=Hs(1|t,n,void 0,r===void 0?null:r)}function kl(e,t,n,r){var i=Ct();r=r===void 0?null:r;var s=void 0;if(Ie!==null){var a=Ie.memoizedState;if(s=a.destroy,r!==null&&Ad(r,a.deps)){i.memoizedState=Hs(t,n,s,r);return}}he.flags|=e,i.memoizedState=Hs(1|t,n,s,r)}function jp(e,t){return wo(8390656,8,e,t)}function Ed(e,t){return kl(2048,8,e,t)}function Wy(e,t){return kl(4,2,e,t)}function Hy(e,t){return kl(4,4,e,t)}function Vy(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ky(e,t,n){return n=n!=null?n.concat([e]):null,kl(4,4,Vy.bind(null,t,e),n)}function Sd(){}function Xy(e,t){var n=Ct();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ad(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yy(e,t){var n=Ct();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ad(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qy(e,t,n){return Sr&21?(Ft(n,t)||(n=ny(),he.lanes|=n,Cr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,rt=!0),e.memoizedState=n)}function H1(e,t){var n=te;te=n!==0&&4>n?n:4,e(!0);var r=Cu.transition;Cu.transition={};try{e(!1),t()}finally{te=n,Cu.transition=r}}function Jy(){return Ct().memoizedState}function V1(e,t,n){var r=zn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Zy(e))e0(t,n);else if(n=Ly(e,t,n,r),n!==null){var i=Ye();Nt(n,e,r,i),t0(n,t,r)}}function K1(e,t,n){var r=zn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Zy(e))e0(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Ft(o,a)){var l=t.interleaved;l===null?(i.next=i,md(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=Ly(e,t,i,r),n!==null&&(i=Ye(),Nt(n,e,r,i),t0(n,t,r))}}function Zy(e){var t=e.alternate;return e===he||t!==null&&t===he}function e0(e,t){As=el=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function t0(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,td(e,n)}}var tl={readContext:St,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useInsertionEffect:je,useLayoutEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useMutableSource:je,useSyncExternalStore:je,useId:je,unstable_isNewReconciler:!1},X1={readContext:St,useCallback:function(e,t){return Gt().memoizedState=[e,t===void 0?null:t],e},useContext:St,useEffect:jp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,wo(4194308,4,Vy.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wo(4194308,4,e,t)},useInsertionEffect:function(e,t){return wo(4,2,e,t)},useMemo:function(e,t){var n=Gt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Gt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=V1.bind(null,he,e),[r.memoizedState,e]},useRef:function(e){var t=Gt();return e={current:e},t.memoizedState=e},useState:Fp,useDebugValue:Sd,useDeferredValue:function(e){return Gt().memoizedState=e},useTransition:function(){var e=Fp(!1),t=e[0];return e=H1.bind(null,e[1]),Gt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=he,i=Gt();if(ce){if(n===void 0)throw Error(U(407));n=n()}else{if(n=t(),Oe===null)throw Error(U(349));Sr&30||jy(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,jp(Uy.bind(null,r,s,e),[e]),r.flags|=2048,Hs(9,My.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Gt(),t=Oe.identifierPrefix;if(ce){var n=cn,r=un;n=(r&~(1<<32-$t(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Gs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=W1++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Y1={readContext:St,useCallback:Xy,useContext:St,useEffect:Ed,useImperativeHandle:Ky,useInsertionEffect:Wy,useLayoutEffect:Hy,useMemo:Yy,useReducer:Iu,useRef:Gy,useState:function(){return Iu(Ws)},useDebugValue:Sd,useDeferredValue:function(e){var t=Ct();return qy(t,Ie.memoizedState,e)},useTransition:function(){var e=Iu(Ws)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:Dy,useSyncExternalStore:Fy,useId:Jy,unstable_isNewReconciler:!1},q1={readContext:St,useCallback:Xy,useContext:St,useEffect:Ed,useImperativeHandle:Ky,useInsertionEffect:Wy,useLayoutEffect:Hy,useMemo:Yy,useReducer:bu,useRef:Gy,useState:function(){return bu(Ws)},useDebugValue:Sd,useDeferredValue:function(e){var t=Ct();return Ie===null?t.memoizedState=e:qy(t,Ie.memoizedState,e)},useTransition:function(){var e=bu(Ws)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:Dy,useSyncExternalStore:Fy,useId:Jy,unstable_isNewReconciler:!1};function Pt(e,t){if(e&&e.defaultProps){t=pe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Nc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:pe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Rl={isMounted:function(e){return(e=e._reactInternals)?Tr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ye(),i=zn(e),s=dn(r,i);s.payload=t,n!=null&&(s.callback=n),t=Un(e,s,i),t!==null&&(Nt(t,e,i,r),yo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ye(),i=zn(e),s=dn(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Un(e,s,i),t!==null&&(Nt(t,e,i,r),yo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ye(),r=zn(e),i=dn(n,r);i.tag=2,t!=null&&(i.callback=t),t=Un(e,i,r),t!==null&&(Nt(t,e,r,n),yo(t,e,r))}};function Mp(e,t,n,r,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!Fs(n,r)||!Fs(i,s):!0}function n0(e,t,n){var r=!1,i=Kn,s=t.contextType;return typeof s=="object"&&s!==null?s=St(s):(i=st(t)?xr:We.current,r=t.contextTypes,s=(r=r!=null)?vi(e,i):Kn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Rl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Up(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Rl.enqueueReplaceState(t,t.state,null)}function Dc(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},gd(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=St(s):(s=st(t)?xr:We.current,i.context=vi(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Nc(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Rl.enqueueReplaceState(i,i.state,null),Jo(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function xi(e,t){try{var n="",r=t;do n+=CA(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function ku(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Fc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var J1=typeof WeakMap=="function"?WeakMap:Map;function r0(e,t,n){n=dn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){rl||(rl=!0,Kc=r),Fc(e,t)},n}function i0(e,t,n){n=dn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Fc(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Fc(e,t),typeof r!="function"&&(Qn===null?Qn=new Set([this]):Qn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Qp(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new J1;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=d_.bind(null,e,t,n),t.then(e,e))}function zp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Gp(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=dn(-1,1),t.tag=2,Un(n,t,1))),n.lanes|=1),e)}var Z1=An.ReactCurrentOwner,rt=!1;function Ke(e,t,n,r){t.child=e===null?Ty(t,null,n,r):Ai(t,e.child,n,r)}function Wp(e,t,n,r,i){n=n.render;var s=t.ref;return ui(t,i),r=_d(e,t,n,r,s,i),n=xd(),e!==null&&!rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,vn(e,t,i)):(ce&&n&&ud(t),t.flags|=1,Ke(e,t,r,i),t.child)}function Hp(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Od(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,s0(e,t,s,r,i)):(e=Eo(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Fs,n(a,r)&&e.ref===t.ref)return vn(e,t,i)}return t.flags|=1,e=Gn(s,r),e.ref=t.ref,e.return=t,t.child=e}function s0(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Fs(s,r)&&e.ref===t.ref)if(rt=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(rt=!0);else return t.lanes=e.lanes,vn(e,t,i)}return jc(e,t,n,r,i)}function a0(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},se(ri,dt),dt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,se(ri,dt),dt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,se(ri,dt),dt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,se(ri,dt),dt|=r;return Ke(e,t,i,n),t.child}function o0(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function jc(e,t,n,r,i){var s=st(n)?xr:We.current;return s=vi(t,s),ui(t,i),n=_d(e,t,n,r,s,i),r=xd(),e!==null&&!rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,vn(e,t,i)):(ce&&r&&ud(t),t.flags|=1,Ke(e,t,n,i),t.child)}function Vp(e,t,n,r,i){if(st(n)){var s=!0;Vo(t)}else s=!1;if(ui(t,i),t.stateNode===null)Ao(e,t),n0(t,n,r),Dc(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=St(u):(u=st(n)?xr:We.current,u=vi(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&Up(t,a,r,u),kn=!1;var d=t.memoizedState;a.state=d,Jo(t,r,a,i),l=t.memoizedState,o!==r||d!==l||it.current||kn?(typeof c=="function"&&(Nc(t,n,c,r),l=t.memoizedState),(o=kn||Mp(t,n,o,r,d,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,$y(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Pt(t.type,o),a.props=u,f=t.pendingProps,d=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=St(l):(l=st(n)?xr:We.current,l=vi(t,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||d!==l)&&Up(t,a,r,l),kn=!1,d=t.memoizedState,a.state=d,Jo(t,r,a,i);var y=t.memoizedState;o!==f||d!==y||it.current||kn?(typeof p=="function"&&(Nc(t,n,p,r),y=t.memoizedState),(u=kn||Mp(t,n,u,r,d,y,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,y,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,y,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),a.props=r,a.state=y,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Mc(e,t,n,r,s,i)}function Mc(e,t,n,r,i,s){o0(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&Op(t,n,!1),vn(e,t,s);r=t.stateNode,Z1.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Ai(t,e.child,null,s),t.child=Ai(t,null,o,s)):Ke(e,t,o,s),t.memoizedState=r.state,i&&Op(t,n,!0),t.child}function l0(e){var t=e.stateNode;t.pendingContext?Bp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Bp(e,t.context,!1),yd(e,t.containerInfo)}function Kp(e,t,n,r,i){return wi(),fd(i),t.flags|=256,Ke(e,t,n,r),t.child}var Uc={dehydrated:null,treeContext:null,retryLane:0};function Qc(e){return{baseLanes:e,cachePool:null,transitions:null}}function u0(e,t,n){var r=t.pendingProps,i=de.current,s=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),se(de,i&1),e===null)return Lc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Ol(a,r,0,null),e=yr(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Qc(n),t.memoizedState=Uc,e):Cd(t,a));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return e_(e,t,a,r,o,i,n);if(s){s=r.fallback,a=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Gn(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Gn(o,s):(s=yr(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?Qc(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=Uc,r}return s=e.child,e=s.sibling,r=Gn(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Cd(e,t){return t=Ol({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Da(e,t,n,r){return r!==null&&fd(r),Ai(t,e.child,null,n),e=Cd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function e_(e,t,n,r,i,s,a){if(n)return t.flags&256?(t.flags&=-257,r=ku(Error(U(422))),Da(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Ol({mode:"visible",children:r.children},i,0,null),s=yr(s,i,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Ai(t,e.child,null,a),t.child.memoizedState=Qc(a),t.memoizedState=Uc,s);if(!(t.mode&1))return Da(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(U(419)),r=ku(s,r,void 0),Da(e,t,a,r)}if(o=(a&e.childLanes)!==0,rt||o){if(r=Oe,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,yn(e,i),Nt(r,e,i,-1))}return Bd(),r=ku(Error(U(421))),Da(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=h_.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ht=Mn(i.nextSibling),pt=t,ce=!0,Tt=null,e!==null&&(wt[At++]=un,wt[At++]=cn,wt[At++]=Er,un=e.id,cn=e.overflow,Er=t),t=Cd(t,r.children),t.flags|=4096,t)}function Xp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),$c(e.return,t,n)}function Ru(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function c0(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Ke(e,t,r.children,n),r=de.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xp(e,n,t);else if(e.tag===19)Xp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(se(de,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Zo(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ru(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Zo(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ru(t,!0,n,null,s);break;case"together":Ru(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ao(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Cr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,n=Gn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Gn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function t_(e,t,n){switch(t.tag){case 3:l0(t),wi();break;case 5:Ny(t);break;case 1:st(t.type)&&Vo(t);break;case 4:yd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;se(Yo,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(se(de,de.current&1),t.flags|=128,null):n&t.child.childLanes?u0(e,t,n):(se(de,de.current&1),e=vn(e,t,n),e!==null?e.sibling:null);se(de,de.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return c0(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),se(de,de.current),r)break;return null;case 22:case 23:return t.lanes=0,a0(e,t,n)}return vn(e,t,n)}var f0,zc,d0,h0;f0=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};zc=function(){};d0=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,hr(Jt.current);var s=null;switch(n){case"input":i=fc(e,i),r=fc(e,r),s=[];break;case"select":i=pe({},i,{value:void 0}),r=pe({},r,{value:void 0}),s=[];break;case"textarea":i=pc(e,i),r=pc(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Wo)}gc(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Bs.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Bs.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ae("scroll",e),s||o===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};h0=function(e,t,n,r){n!==r&&(t.flags|=4)};function Yi(e,t){if(!ce)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Me(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function n_(e,t,n){var r=t.pendingProps;switch(cd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(t),null;case 1:return st(t.type)&&Ho(),Me(t),null;case 3:return r=t.stateNode,_i(),le(it),le(We),wd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&($a(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Tt!==null&&(qc(Tt),Tt=null))),zc(e,t),Me(t),null;case 5:vd(t);var i=hr(zs.current);if(n=t.type,e!==null&&t.stateNode!=null)d0(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(U(166));return Me(t),null}if(e=hr(Jt.current),$a(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Kt]=t,r[Us]=s,e=(t.mode&1)!==0,n){case"dialog":ae("cancel",r),ae("close",r);break;case"iframe":case"object":case"embed":ae("load",r);break;case"video":case"audio":for(i=0;i<as.length;i++)ae(as[i],r);break;case"source":ae("error",r);break;case"img":case"image":case"link":ae("error",r),ae("load",r);break;case"details":ae("toggle",r);break;case"input":ip(r,s),ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ae("invalid",r);break;case"textarea":ap(r,s),ae("invalid",r)}gc(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&La(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&La(r.textContent,o,e),i=["children",""+o]):Bs.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&ae("scroll",r)}switch(n){case"input":Ia(r),sp(r,s,!0);break;case"textarea":Ia(r),op(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Wo)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ug(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Kt]=t,e[Us]=r,f0(e,t,!1,!1),t.stateNode=e;e:{switch(a=yc(n,r),n){case"dialog":ae("cancel",e),ae("close",e),i=r;break;case"iframe":case"object":case"embed":ae("load",e),i=r;break;case"video":case"audio":for(i=0;i<as.length;i++)ae(as[i],e);i=r;break;case"source":ae("error",e),i=r;break;case"img":case"image":case"link":ae("error",e),ae("load",e),i=r;break;case"details":ae("toggle",e),i=r;break;case"input":ip(e,r),i=fc(e,r),ae("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=pe({},r,{value:void 0}),ae("invalid",e);break;case"textarea":ap(e,r),i=pc(e,r),ae("invalid",e);break;default:i=r}gc(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?Gg(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Qg(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Os(e,l):typeof l=="number"&&Os(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Bs.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ae("scroll",e):l!=null&&Xf(e,s,l,a))}switch(n){case"input":Ia(e),sp(e,r,!1);break;case"textarea":Ia(e),op(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Vn(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?si(e,!!r.multiple,s,!1):r.defaultValue!=null&&si(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Wo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Me(t),null;case 6:if(e&&t.stateNode!=null)h0(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(U(166));if(n=hr(zs.current),hr(Jt.current),$a(t)){if(r=t.stateNode,n=t.memoizedProps,r[Kt]=t,(s=r.nodeValue!==n)&&(e=pt,e!==null))switch(e.tag){case 3:La(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&La(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Kt]=t,t.stateNode=r}return Me(t),null;case 13:if(le(de),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ce&&ht!==null&&t.mode&1&&!(t.flags&128))By(),wi(),t.flags|=98560,s=!1;else if(s=$a(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(U(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[Kt]=t}else wi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Me(t),s=!1}else Tt!==null&&(qc(Tt),Tt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||de.current&1?be===0&&(be=3):Bd())),t.updateQueue!==null&&(t.flags|=4),Me(t),null);case 4:return _i(),zc(e,t),e===null&&js(t.stateNode.containerInfo),Me(t),null;case 10:return pd(t.type._context),Me(t),null;case 17:return st(t.type)&&Ho(),Me(t),null;case 19:if(le(de),s=t.memoizedState,s===null)return Me(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)Yi(s,!1);else{if(be!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Zo(e),a!==null){for(t.flags|=128,Yi(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return se(de,de.current&1|2),t.child}e=e.sibling}s.tail!==null&&we()>Ei&&(t.flags|=128,r=!0,Yi(s,!1),t.lanes=4194304)}else{if(!r)if(e=Zo(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Yi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!ce)return Me(t),null}else 2*we()-s.renderingStartTime>Ei&&n!==1073741824&&(t.flags|=128,r=!0,Yi(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=we(),t.sibling=null,n=de.current,se(de,r?n&1|2:n&1),t):(Me(t),null);case 22:case 23:return Pd(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?dt&1073741824&&(Me(t),t.subtreeFlags&6&&(t.flags|=8192)):Me(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function r_(e,t){switch(cd(t),t.tag){case 1:return st(t.type)&&Ho(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _i(),le(it),le(We),wd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return vd(t),null;case 13:if(le(de),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));wi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return le(de),null;case 4:return _i(),null;case 10:return pd(t.type._context),null;case 22:case 23:return Pd(),null;case 24:return null;default:return null}}var Fa=!1,Qe=!1,i_=typeof WeakSet=="function"?WeakSet:Set,G=null;function ni(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ye(e,t,r)}else n.current=null}function Gc(e,t,n){try{n()}catch(r){ye(e,t,r)}}var Yp=!1;function s_(e,t){if(bc=Qo,e=vy(),ld(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,c=0,f=e,d=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(o=a+i),f!==s||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++u===i&&(o=a),d===s&&++c===r&&(l=a),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(kc={focusedElem:e,selectionRange:n},Qo=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var m=y.memoizedProps,x=y.memoizedState,g=t.stateNode,h=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:Pt(t.type,m),x);g.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(E){ye(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return y=Yp,Yp=!1,y}function _s(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Gc(t,n,s)}i=i.next}while(i!==r)}}function Pl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Wc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function p0(e){var t=e.alternate;t!==null&&(e.alternate=null,p0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Kt],delete t[Us],delete t[Bc],delete t[U1],delete t[Q1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function m0(e){return e.tag===5||e.tag===3||e.tag===4}function qp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||m0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Wo));else if(r!==4&&(e=e.child,e!==null))for(Hc(e,t,n),e=e.sibling;e!==null;)Hc(e,t,n),e=e.sibling}function Vc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Vc(e,t,n),e=e.sibling;e!==null;)Vc(e,t,n),e=e.sibling}var Le=null,Ot=!1;function xn(e,t,n){for(n=n.child;n!==null;)g0(e,t,n),n=n.sibling}function g0(e,t,n){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(xl,n)}catch{}switch(n.tag){case 5:Qe||ni(n,t);case 6:var r=Le,i=Ot;Le=null,xn(e,t,n),Le=r,Ot=i,Le!==null&&(Ot?(e=Le,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Le.removeChild(n.stateNode));break;case 18:Le!==null&&(Ot?(e=Le,n=n.stateNode,e.nodeType===8?xu(e.parentNode,n):e.nodeType===1&&xu(e,n),Ns(e)):xu(Le,n.stateNode));break;case 4:r=Le,i=Ot,Le=n.stateNode.containerInfo,Ot=!0,xn(e,t,n),Le=r,Ot=i;break;case 0:case 11:case 14:case 15:if(!Qe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Gc(n,t,a),i=i.next}while(i!==r)}xn(e,t,n);break;case 1:if(!Qe&&(ni(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){ye(n,t,o)}xn(e,t,n);break;case 21:xn(e,t,n);break;case 22:n.mode&1?(Qe=(r=Qe)||n.memoizedState!==null,xn(e,t,n),Qe=r):xn(e,t,n);break;default:xn(e,t,n)}}function Jp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new i_),t.forEach(function(r){var i=p_.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function It(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Le=o.stateNode,Ot=!1;break e;case 3:Le=o.stateNode.containerInfo,Ot=!0;break e;case 4:Le=o.stateNode.containerInfo,Ot=!0;break e}o=o.return}if(Le===null)throw Error(U(160));g0(s,a,i),Le=null,Ot=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ye(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)y0(t,e),t=t.sibling}function y0(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(It(t,e),Ut(e),r&4){try{_s(3,e,e.return),Pl(3,e)}catch(m){ye(e,e.return,m)}try{_s(5,e,e.return)}catch(m){ye(e,e.return,m)}}break;case 1:It(t,e),Ut(e),r&512&&n!==null&&ni(n,n.return);break;case 5:if(It(t,e),Ut(e),r&512&&n!==null&&ni(n,n.return),e.flags&32){var i=e.stateNode;try{Os(i,"")}catch(m){ye(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&jg(i,s),yc(o,a);var u=yc(o,s);for(a=0;a<l.length;a+=2){var c=l[a],f=l[a+1];c==="style"?Gg(i,f):c==="dangerouslySetInnerHTML"?Qg(i,f):c==="children"?Os(i,f):Xf(i,c,f,u)}switch(o){case"input":dc(i,s);break;case"textarea":Mg(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?si(i,!!s.multiple,p,!1):d!==!!s.multiple&&(s.defaultValue!=null?si(i,!!s.multiple,s.defaultValue,!0):si(i,!!s.multiple,s.multiple?[]:"",!1))}i[Us]=s}catch(m){ye(e,e.return,m)}}break;case 6:if(It(t,e),Ut(e),r&4){if(e.stateNode===null)throw Error(U(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){ye(e,e.return,m)}}break;case 3:if(It(t,e),Ut(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ns(t.containerInfo)}catch(m){ye(e,e.return,m)}break;case 4:It(t,e),Ut(e);break;case 13:It(t,e),Ut(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(kd=we())),r&4&&Jp(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Qe=(u=Qe)||c,It(t,e),Qe=u):It(t,e),Ut(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(G=e,c=e.child;c!==null;){for(f=G=c;G!==null;){switch(d=G,p=d.child,d.tag){case 0:case 11:case 14:case 15:_s(4,d,d.return);break;case 1:ni(d,d.return);var y=d.stateNode;if(typeof y.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(m){ye(r,n,m)}}break;case 5:ni(d,d.return);break;case 22:if(d.memoizedState!==null){em(f);continue}}p!==null?(p.return=d,G=p):em(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=zg("display",a))}catch(m){ye(e,e.return,m)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){ye(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:It(t,e),Ut(e),r&4&&Jp(e);break;case 21:break;default:It(t,e),Ut(e)}}function Ut(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(m0(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Os(i,""),r.flags&=-33);var s=qp(e);Vc(e,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=qp(e);Hc(e,o,a);break;default:throw Error(U(161))}}catch(l){ye(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function a_(e,t,n){G=e,v0(e)}function v0(e,t,n){for(var r=(e.mode&1)!==0;G!==null;){var i=G,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Fa;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Qe;o=Fa;var u=Qe;if(Fa=a,(Qe=l)&&!u)for(G=i;G!==null;)a=G,l=a.child,a.tag===22&&a.memoizedState!==null?tm(i):l!==null?(l.return=a,G=l):tm(i);for(;s!==null;)G=s,v0(s),s=s.sibling;G=i,Fa=o,Qe=u}Zp(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,G=s):Zp(e)}}function Zp(e){for(;G!==null;){var t=G;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qe||Pl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Qe)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Pt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Dp(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Dp(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Ns(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Qe||t.flags&512&&Wc(t)}catch(d){ye(t,t.return,d)}}if(t===e){G=null;break}if(n=t.sibling,n!==null){n.return=t.return,G=n;break}G=t.return}}function em(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var n=t.sibling;if(n!==null){n.return=t.return,G=n;break}G=t.return}}function tm(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Pl(4,t)}catch(l){ye(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){ye(t,i,l)}}var s=t.return;try{Wc(t)}catch(l){ye(t,s,l)}break;case 5:var a=t.return;try{Wc(t)}catch(l){ye(t,a,l)}}}catch(l){ye(t,t.return,l)}if(t===e){G=null;break}var o=t.sibling;if(o!==null){o.return=t.return,G=o;break}G=t.return}}var o_=Math.ceil,nl=An.ReactCurrentDispatcher,Id=An.ReactCurrentOwner,Et=An.ReactCurrentBatchConfig,ee=0,Oe=null,_e=null,Ne=0,dt=0,ri=Zn(0),be=0,Vs=null,Cr=0,Bl=0,bd=0,xs=null,nt=null,kd=0,Ei=1/0,sn=null,rl=!1,Kc=null,Qn=null,ja=!1,$n=null,il=0,Es=0,Xc=null,_o=-1,xo=0;function Ye(){return ee&6?we():_o!==-1?_o:_o=we()}function zn(e){return e.mode&1?ee&2&&Ne!==0?Ne&-Ne:G1.transition!==null?(xo===0&&(xo=ny()),xo):(e=te,e!==0||(e=window.event,e=e===void 0?16:uy(e.type)),e):1}function Nt(e,t,n,r){if(50<Es)throw Es=0,Xc=null,Error(U(185));oa(e,n,r),(!(ee&2)||e!==Oe)&&(e===Oe&&(!(ee&2)&&(Bl|=n),be===4&&On(e,Ne)),at(e,r),n===1&&ee===0&&!(t.mode&1)&&(Ei=we()+500,bl&&er()))}function at(e,t){var n=e.callbackNode;GA(e,t);var r=Uo(e,e===Oe?Ne:0);if(r===0)n!==null&&cp(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&cp(n),t===1)e.tag===0?z1(nm.bind(null,e)):ky(nm.bind(null,e)),j1(function(){!(ee&6)&&er()}),n=null;else{switch(ry(r)){case 1:n=ed;break;case 4:n=ey;break;case 16:n=Mo;break;case 536870912:n=ty;break;default:n=Mo}n=I0(n,w0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function w0(e,t){if(_o=-1,xo=0,ee&6)throw Error(U(327));var n=e.callbackNode;if(ci()&&e.callbackNode!==n)return null;var r=Uo(e,e===Oe?Ne:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=sl(e,r);else{t=r;var i=ee;ee|=2;var s=_0();(Oe!==e||Ne!==t)&&(sn=null,Ei=we()+500,gr(e,t));do try{c_();break}catch(o){A0(e,o)}while(!0);hd(),nl.current=s,ee=i,_e!==null?t=0:(Oe=null,Ne=0,t=be)}if(t!==0){if(t===2&&(i=xc(e),i!==0&&(r=i,t=Yc(e,i))),t===1)throw n=Vs,gr(e,0),On(e,r),at(e,we()),n;if(t===6)On(e,r);else{if(i=e.current.alternate,!(r&30)&&!l_(i)&&(t=sl(e,r),t===2&&(s=xc(e),s!==0&&(r=s,t=Yc(e,s))),t===1))throw n=Vs,gr(e,0),On(e,r),at(e,we()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(U(345));case 2:lr(e,nt,sn);break;case 3:if(On(e,r),(r&130023424)===r&&(t=kd+500-we(),10<t)){if(Uo(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ye(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Pc(lr.bind(null,e,nt,sn),t);break}lr(e,nt,sn);break;case 4:if(On(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-$t(r);s=1<<a,a=t[a],a>i&&(i=a),r&=~s}if(r=i,r=we()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*o_(r/1960))-r,10<r){e.timeoutHandle=Pc(lr.bind(null,e,nt,sn),r);break}lr(e,nt,sn);break;case 5:lr(e,nt,sn);break;default:throw Error(U(329))}}}return at(e,we()),e.callbackNode===n?w0.bind(null,e):null}function Yc(e,t){var n=xs;return e.current.memoizedState.isDehydrated&&(gr(e,t).flags|=256),e=sl(e,t),e!==2&&(t=nt,nt=n,t!==null&&qc(t)),e}function qc(e){nt===null?nt=e:nt.push.apply(nt,e)}function l_(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ft(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function On(e,t){for(t&=~bd,t&=~Bl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-$t(t),r=1<<n;e[n]=-1,t&=~r}}function nm(e){if(ee&6)throw Error(U(327));ci();var t=Uo(e,0);if(!(t&1))return at(e,we()),null;var n=sl(e,t);if(e.tag!==0&&n===2){var r=xc(e);r!==0&&(t=r,n=Yc(e,r))}if(n===1)throw n=Vs,gr(e,0),On(e,t),at(e,we()),n;if(n===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,lr(e,nt,sn),at(e,we()),null}function Rd(e,t){var n=ee;ee|=1;try{return e(t)}finally{ee=n,ee===0&&(Ei=we()+500,bl&&er())}}function Ir(e){$n!==null&&$n.tag===0&&!(ee&6)&&ci();var t=ee;ee|=1;var n=Et.transition,r=te;try{if(Et.transition=null,te=1,e)return e()}finally{te=r,Et.transition=n,ee=t,!(ee&6)&&er()}}function Pd(){dt=ri.current,le(ri)}function gr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,F1(n)),_e!==null)for(n=_e.return;n!==null;){var r=n;switch(cd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ho();break;case 3:_i(),le(it),le(We),wd();break;case 5:vd(r);break;case 4:_i();break;case 13:le(de);break;case 19:le(de);break;case 10:pd(r.type._context);break;case 22:case 23:Pd()}n=n.return}if(Oe=e,_e=e=Gn(e.current,null),Ne=dt=t,be=0,Vs=null,bd=Bl=Cr=0,nt=xs=null,dr!==null){for(t=0;t<dr.length;t++)if(n=dr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}dr=null}return e}function A0(e,t){do{var n=_e;try{if(hd(),vo.current=tl,el){for(var r=he.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}el=!1}if(Sr=0,Be=Ie=he=null,As=!1,Gs=0,Id.current=null,n===null||n.return===null){be=1,Vs=t,_e=null;break}e:{var s=e,a=n.return,o=n,l=t;if(t=Ne,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=zp(a);if(p!==null){p.flags&=-257,Gp(p,a,o,s,t),p.mode&1&&Qp(s,u,t),t=p,l=u;var y=t.updateQueue;if(y===null){var m=new Set;m.add(l),t.updateQueue=m}else y.add(l);break e}else{if(!(t&1)){Qp(s,u,t),Bd();break e}l=Error(U(426))}}else if(ce&&o.mode&1){var x=zp(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Gp(x,a,o,s,t),fd(xi(l,o));break e}}s=l=xi(l,o),be!==4&&(be=2),xs===null?xs=[s]:xs.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=r0(s,l,t);Np(s,g);break e;case 1:o=l;var h=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof h.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Qn===null||!Qn.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t;var E=i0(s,o,t);Np(s,E);break e}}s=s.return}while(s!==null)}E0(n)}catch(w){t=w,_e===n&&n!==null&&(_e=n=n.return);continue}break}while(!0)}function _0(){var e=nl.current;return nl.current=tl,e===null?tl:e}function Bd(){(be===0||be===3||be===2)&&(be=4),Oe===null||!(Cr&268435455)&&!(Bl&268435455)||On(Oe,Ne)}function sl(e,t){var n=ee;ee|=2;var r=_0();(Oe!==e||Ne!==t)&&(sn=null,gr(e,t));do try{u_();break}catch(i){A0(e,i)}while(!0);if(hd(),ee=n,nl.current=r,_e!==null)throw Error(U(261));return Oe=null,Ne=0,be}function u_(){for(;_e!==null;)x0(_e)}function c_(){for(;_e!==null&&!$A();)x0(_e)}function x0(e){var t=C0(e.alternate,e,dt);e.memoizedProps=e.pendingProps,t===null?E0(e):_e=t,Id.current=null}function E0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=r_(n,t),n!==null){n.flags&=32767,_e=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{be=6,_e=null;return}}else if(n=n_(n,t,dt),n!==null){_e=n;return}if(t=t.sibling,t!==null){_e=t;return}_e=t=e}while(t!==null);be===0&&(be=5)}function lr(e,t,n){var r=te,i=Et.transition;try{Et.transition=null,te=1,f_(e,t,n,r)}finally{Et.transition=i,te=r}return null}function f_(e,t,n,r){do ci();while($n!==null);if(ee&6)throw Error(U(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(WA(e,s),e===Oe&&(_e=Oe=null,Ne=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ja||(ja=!0,I0(Mo,function(){return ci(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Et.transition,Et.transition=null;var a=te;te=1;var o=ee;ee|=4,Id.current=null,s_(e,n),y0(n,e),B1(kc),Qo=!!bc,kc=bc=null,e.current=n,a_(n),NA(),ee=o,te=a,Et.transition=s}else e.current=n;if(ja&&(ja=!1,$n=e,il=i),s=e.pendingLanes,s===0&&(Qn=null),jA(n.stateNode),at(e,we()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(rl)throw rl=!1,e=Kc,Kc=null,e;return il&1&&e.tag!==0&&ci(),s=e.pendingLanes,s&1?e===Xc?Es++:(Es=0,Xc=e):Es=0,er(),null}function ci(){if($n!==null){var e=ry(il),t=Et.transition,n=te;try{if(Et.transition=null,te=16>e?16:e,$n===null)var r=!1;else{if(e=$n,$n=null,il=0,ee&6)throw Error(U(331));var i=ee;for(ee|=4,G=e.current;G!==null;){var s=G,a=s.child;if(G.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(G=u;G!==null;){var c=G;switch(c.tag){case 0:case 11:case 15:_s(8,c,s)}var f=c.child;if(f!==null)f.return=c,G=f;else for(;G!==null;){c=G;var d=c.sibling,p=c.return;if(p0(c),c===u){G=null;break}if(d!==null){d.return=p,G=d;break}G=p}}}var y=s.alternate;if(y!==null){var m=y.child;if(m!==null){y.child=null;do{var x=m.sibling;m.sibling=null,m=x}while(m!==null)}}G=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,G=a;else e:for(;G!==null;){if(s=G,s.flags&2048)switch(s.tag){case 0:case 11:case 15:_s(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,G=g;break e}G=s.return}}var h=e.current;for(G=h;G!==null;){a=G;var v=a.child;if(a.subtreeFlags&2064&&v!==null)v.return=a,G=v;else e:for(a=h;G!==null;){if(o=G,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Pl(9,o)}}catch(w){ye(o,o.return,w)}if(o===a){G=null;break e}var E=o.sibling;if(E!==null){E.return=o.return,G=E;break e}G=o.return}}if(ee=i,er(),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(xl,e)}catch{}r=!0}return r}finally{te=n,Et.transition=t}}return!1}function rm(e,t,n){t=xi(n,t),t=r0(e,t,1),e=Un(e,t,1),t=Ye(),e!==null&&(oa(e,1,t),at(e,t))}function ye(e,t,n){if(e.tag===3)rm(e,e,n);else for(;t!==null;){if(t.tag===3){rm(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qn===null||!Qn.has(r))){e=xi(n,e),e=i0(t,e,1),t=Un(t,e,1),e=Ye(),t!==null&&(oa(t,1,e),at(t,e));break}}t=t.return}}function d_(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ye(),e.pingedLanes|=e.suspendedLanes&n,Oe===e&&(Ne&n)===n&&(be===4||be===3&&(Ne&130023424)===Ne&&500>we()-kd?gr(e,0):bd|=n),at(e,t)}function S0(e,t){t===0&&(e.mode&1?(t=Ra,Ra<<=1,!(Ra&130023424)&&(Ra=4194304)):t=1);var n=Ye();e=yn(e,t),e!==null&&(oa(e,t,n),at(e,n))}function h_(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),S0(e,n)}function p_(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(t),S0(e,n)}var C0;C0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||it.current)rt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return rt=!1,t_(e,t,n);rt=!!(e.flags&131072)}else rt=!1,ce&&t.flags&1048576&&Ry(t,Xo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ao(e,t),e=t.pendingProps;var i=vi(t,We.current);ui(t,n),i=_d(null,t,r,e,i,n);var s=xd();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,st(r)?(s=!0,Vo(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,gd(t),i.updater=Rl,t.stateNode=i,i._reactInternals=t,Dc(t,r,e,n),t=Mc(null,t,r,!0,s,n)):(t.tag=0,ce&&s&&ud(t),Ke(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ao(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=g_(r),e=Pt(r,e),i){case 0:t=jc(null,t,r,e,n);break e;case 1:t=Vp(null,t,r,e,n);break e;case 11:t=Wp(null,t,r,e,n);break e;case 14:t=Hp(null,t,r,Pt(r.type,e),n);break e}throw Error(U(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pt(r,i),jc(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pt(r,i),Vp(e,t,r,i,n);case 3:e:{if(l0(t),e===null)throw Error(U(387));r=t.pendingProps,s=t.memoizedState,i=s.element,$y(e,t),Jo(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=xi(Error(U(423)),t),t=Kp(e,t,r,n,i);break e}else if(r!==i){i=xi(Error(U(424)),t),t=Kp(e,t,r,n,i);break e}else for(ht=Mn(t.stateNode.containerInfo.firstChild),pt=t,ce=!0,Tt=null,n=Ty(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(wi(),r===i){t=vn(e,t,n);break e}Ke(e,t,r,n)}t=t.child}return t;case 5:return Ny(t),e===null&&Lc(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,Rc(r,i)?a=null:s!==null&&Rc(r,s)&&(t.flags|=32),o0(e,t),Ke(e,t,a,n),t.child;case 6:return e===null&&Lc(t),null;case 13:return u0(e,t,n);case 4:return yd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ai(t,null,r,n):Ke(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pt(r,i),Wp(e,t,r,i,n);case 7:return Ke(e,t,t.pendingProps,n),t.child;case 8:return Ke(e,t,t.pendingProps.children,n),t.child;case 12:return Ke(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,se(Yo,r._currentValue),r._currentValue=a,s!==null)if(Ft(s.value,a)){if(s.children===i.children&&!it.current){t=vn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=dn(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),$c(s.return,n,t),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(U(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),$c(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Ke(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ui(t,n),i=St(i),r=r(i),t.flags|=1,Ke(e,t,r,n),t.child;case 14:return r=t.type,i=Pt(r,t.pendingProps),i=Pt(r.type,i),Hp(e,t,r,i,n);case 15:return s0(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pt(r,i),Ao(e,t),t.tag=1,st(r)?(e=!0,Vo(t)):e=!1,ui(t,n),n0(t,r,i),Dc(t,r,i,n),Mc(null,t,r,!0,e,n);case 19:return c0(e,t,n);case 22:return a0(e,t,n)}throw Error(U(156,t.tag))};function I0(e,t){return Zg(e,t)}function m_(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(e,t,n,r){return new m_(e,t,n,r)}function Od(e){return e=e.prototype,!(!e||!e.isReactComponent)}function g_(e){if(typeof e=="function")return Od(e)?1:0;if(e!=null){if(e=e.$$typeof,e===qf)return 11;if(e===Jf)return 14}return 2}function Gn(e,t){var n=e.alternate;return n===null?(n=_t(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Eo(e,t,n,r,i,s){var a=2;if(r=e,typeof e=="function")Od(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Vr:return yr(n.children,i,s,t);case Yf:a=8,i|=8;break;case oc:return e=_t(12,n,t,i|2),e.elementType=oc,e.lanes=s,e;case lc:return e=_t(13,n,t,i),e.elementType=lc,e.lanes=s,e;case uc:return e=_t(19,n,t,i),e.elementType=uc,e.lanes=s,e;case Ng:return Ol(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Lg:a=10;break e;case $g:a=9;break e;case qf:a=11;break e;case Jf:a=14;break e;case bn:a=16,r=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=_t(a,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function yr(e,t,n,r){return e=_t(7,e,r,t),e.lanes=n,e}function Ol(e,t,n,r){return e=_t(22,e,r,t),e.elementType=Ng,e.lanes=n,e.stateNode={isHidden:!1},e}function Pu(e,t,n){return e=_t(6,e,null,t),e.lanes=n,e}function Bu(e,t,n){return t=_t(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function y_(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fu(0),this.expirationTimes=fu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Td(e,t,n,r,i,s,a,o,l){return e=new y_(e,t,n,o,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=_t(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gd(s),e}function v_(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function b0(e){if(!e)return Kn;e=e._reactInternals;e:{if(Tr(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(st(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var n=e.type;if(st(n))return by(e,n,t)}return t}function k0(e,t,n,r,i,s,a,o,l){return e=Td(n,r,!0,e,i,s,a,o,l),e.context=b0(null),n=e.current,r=Ye(),i=zn(n),s=dn(r,i),s.callback=t??null,Un(n,s,i),e.current.lanes=i,oa(e,i,r),at(e,r),e}function Tl(e,t,n,r){var i=t.current,s=Ye(),a=zn(i);return n=b0(n),t.context===null?t.context=n:t.pendingContext=n,t=dn(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Un(i,t,a),e!==null&&(Nt(e,i,a,s),yo(e,i,a)),a}function al(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function im(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ld(e,t){im(e,t),(e=e.alternate)&&im(e,t)}function w_(){return null}var R0=typeof reportError=="function"?reportError:function(e){console.error(e)};function $d(e){this._internalRoot=e}Ll.prototype.render=$d.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));Tl(e,t,null,null)};Ll.prototype.unmount=$d.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ir(function(){Tl(null,e,null,null)}),t[gn]=null}};function Ll(e){this._internalRoot=e}Ll.prototype.unstable_scheduleHydration=function(e){if(e){var t=ay();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Bn.length&&t!==0&&t<Bn[n].priority;n++);Bn.splice(n,0,e),n===0&&ly(e)}};function Nd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function $l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function sm(){}function A_(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=al(a);s.call(u)}}var a=k0(t,r,e,0,null,!1,!1,"",sm);return e._reactRootContainer=a,e[gn]=a.current,js(e.nodeType===8?e.parentNode:e),Ir(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=al(l);o.call(u)}}var l=Td(e,0,!1,null,null,!1,!1,"",sm);return e._reactRootContainer=l,e[gn]=l.current,js(e.nodeType===8?e.parentNode:e),Ir(function(){Tl(t,l,n,r)}),l}function Nl(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=al(a);o.call(l)}}Tl(t,a,e,i)}else a=A_(n,t,e,i,r);return al(a)}iy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ss(t.pendingLanes);n!==0&&(td(t,n|1),at(t,we()),!(ee&6)&&(Ei=we()+500,er()))}break;case 13:Ir(function(){var r=yn(e,1);if(r!==null){var i=Ye();Nt(r,e,1,i)}}),Ld(e,1)}};nd=function(e){if(e.tag===13){var t=yn(e,134217728);if(t!==null){var n=Ye();Nt(t,e,134217728,n)}Ld(e,134217728)}};sy=function(e){if(e.tag===13){var t=zn(e),n=yn(e,t);if(n!==null){var r=Ye();Nt(n,e,t,r)}Ld(e,t)}};ay=function(){return te};oy=function(e,t){var n=te;try{return te=e,t()}finally{te=n}};wc=function(e,t,n){switch(t){case"input":if(dc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Il(r);if(!i)throw Error(U(90));Fg(r),dc(r,i)}}}break;case"textarea":Mg(e,n);break;case"select":t=n.value,t!=null&&si(e,!!n.multiple,t,!1)}};Vg=Rd;Kg=Ir;var __={usingClientEntryPoint:!1,Events:[ua,qr,Il,Wg,Hg,Rd]},qi={findFiberByHostInstance:fr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},x_={bundleType:qi.bundleType,version:qi.version,rendererPackageName:qi.rendererPackageName,rendererConfig:qi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:An.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=qg(e),e===null?null:e.stateNode},findFiberByHostInstance:qi.findFiberByHostInstance||w_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ma=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ma.isDisabled&&Ma.supportsFiber)try{xl=Ma.inject(x_),qt=Ma}catch{}}yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=__;yt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nd(t))throw Error(U(200));return v_(e,t,null,n)};yt.createRoot=function(e,t){if(!Nd(e))throw Error(U(299));var n=!1,r="",i=R0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Td(e,1,!1,null,null,n,!1,r,i),e[gn]=t.current,js(e.nodeType===8?e.parentNode:e),new $d(t)};yt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=qg(t),e=e===null?null:e.stateNode,e};yt.flushSync=function(e){return Ir(e)};yt.hydrate=function(e,t,n){if(!$l(t))throw Error(U(200));return Nl(null,e,t,!0,n)};yt.hydrateRoot=function(e,t,n){if(!Nd(e))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=R0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=k0(t,null,e,1,n??null,i,!1,s,a),e[gn]=t.current,js(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ll(t)};yt.render=function(e,t,n){if(!$l(t))throw Error(U(200));return Nl(null,e,t,!1,n)};yt.unmountComponentAtNode=function(e){if(!$l(e))throw Error(U(40));return e._reactRootContainer?(Ir(function(){Nl(null,null,e,!1,function(){e._reactRootContainer=null,e[gn]=null})}),!0):!1};yt.unstable_batchedUpdates=Rd;yt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$l(n))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return Nl(e,t,n,!1,r)};yt.version="18.3.1-next-f1338f8080-20240426";function P0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(P0)}catch(e){console.error(e)}}P0(),Pg.exports=yt;var E_=Pg.exports,am=E_;sc.createRoot=am.createRoot,sc.hydrateRoot=am.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ks(){return Ks=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ks.apply(this,arguments)}var Nn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Nn||(Nn={}));const om="popstate";function S_(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:a,hash:o}=r.location;return Jc("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ol(i)}return I_(t,n,null,e)}function Ae(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Dd(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function C_(){return Math.random().toString(36).substr(2,8)}function lm(e,t){return{usr:e.state,key:e.key,idx:t}}function Jc(e,t,n,r){return n===void 0&&(n=null),Ks({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ki(t):t,{state:n,key:t&&t.key||r||C_()})}function ol(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ki(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function I_(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=Nn.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(Ks({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function f(){o=Nn.Pop;let x=c(),g=x==null?null:x-u;u=x,l&&l({action:o,location:m.location,delta:g})}function d(x,g){o=Nn.Push;let h=Jc(m.location,x,g);u=c()+1;let v=lm(h,u),E=m.createHref(h);try{a.pushState(v,"",E)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(E)}s&&l&&l({action:o,location:m.location,delta:1})}function p(x,g){o=Nn.Replace;let h=Jc(m.location,x,g);u=c();let v=lm(h,u),E=m.createHref(h);a.replaceState(v,"",E),s&&l&&l({action:o,location:m.location,delta:0})}function y(x){let g=i.location.origin!=="null"?i.location.origin:i.location.href,h=typeof x=="string"?x:ol(x);return h=h.replace(/ $/,"%20"),Ae(g,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,g)}let m={get action(){return o},get location(){return e(i,a)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(om,f),l=x,()=>{i.removeEventListener(om,f),l=null}},createHref(x){return t(i,x)},createURL:y,encodeLocation(x){let g=y(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:d,replace:p,go(x){return a.go(x)}};return m}var um;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(um||(um={}));function b_(e,t,n){return n===void 0&&(n="/"),k_(e,t,n)}function k_(e,t,n,r){let i=typeof t=="string"?ki(t):t,s=Fd(i.pathname||"/",n);if(s==null)return null;let a=B0(e);R_(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=U_(s);o=F_(a[l],u)}return o}function B0(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(Ae(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Wn([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Ae(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),B0(s.children,t,c,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:N_(u,s.index),routesMeta:c})};return e.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of O0(s.path))i(s,a,l)}),t}function O0(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=O0(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function R_(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:D_(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const P_=/^:[\w-]+$/,B_=3,O_=2,T_=1,L_=10,$_=-2,cm=e=>e==="*";function N_(e,t){let n=e.split("/"),r=n.length;return n.some(cm)&&(r+=$_),t&&(r+=O_),n.filter(i=>!cm(i)).reduce((i,s)=>i+(P_.test(s)?B_:s===""?T_:L_),r)}function D_(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function F_(e,t,n){let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,c=s==="/"?t:t.slice(s.length)||"/",f=j_({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),d=l.route;if(!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:Wn([s,f.pathname]),pathnameBase:H_(Wn([s,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(s=Wn([s,f.pathnameBase]))}return a}function j_(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=M_(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:d,isOptional:p}=c;if(d==="*"){let m=o[f]||"";a=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const y=o[f];return p&&!y?u[d]=void 0:u[d]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:e}}function M_(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Dd(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function U_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Dd(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Fd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const Q_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,z_=e=>Q_.test(e);function G_(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?ki(e):e,s;if(n)if(z_(n))s=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),Dd(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?s=fm(n.substring(1),"/"):s=fm(n,t)}else s=t;return{pathname:s,search:V_(r),hash:K_(i)}}function fm(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ou(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function W_(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function jd(e,t){let n=W_(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Md(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=ki(e):(i=Ks({},e),Ae(!i.pathname||!i.pathname.includes("?"),Ou("?","pathname","search",i)),Ae(!i.pathname||!i.pathname.includes("#"),Ou("#","pathname","hash",i)),Ae(!i.search||!i.search.includes("#"),Ou("#","search","hash",i)));let s=e===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}o=f>=0?t[f]:"/"}let l=G_(i,o),u=a&&a!=="/"&&a.endsWith("/"),c=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Wn=e=>e.join("/").replace(/\/\/+/g,"/"),H_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),V_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,K_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function X_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const T0=["post","put","patch","delete"];new Set(T0);const Y_=["get",...T0];new Set(Y_);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xs(){return Xs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xs.apply(this,arguments)}const Ud=F.createContext(null),q_=F.createContext(null),tr=F.createContext(null),Dl=F.createContext(null),nr=F.createContext({outlet:null,matches:[],isDataRoute:!1}),L0=F.createContext(null);function J_(e,t){let{relative:n}=t===void 0?{}:t;Ri()||Ae(!1);let{basename:r,navigator:i}=F.useContext(tr),{hash:s,pathname:a,search:o}=N0(e,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:Wn([r,a])),i.createHref({pathname:l,search:o,hash:s})}function Ri(){return F.useContext(Dl)!=null}function fa(){return Ri()||Ae(!1),F.useContext(Dl).location}function $0(e){F.useContext(tr).static||F.useLayoutEffect(e)}function Pi(){let{isDataRoute:e}=F.useContext(nr);return e?fx():Z_()}function Z_(){Ri()||Ae(!1);let e=F.useContext(Ud),{basename:t,future:n,navigator:r}=F.useContext(tr),{matches:i}=F.useContext(nr),{pathname:s}=fa(),a=JSON.stringify(jd(i,n.v7_relativeSplatPath)),o=F.useRef(!1);return $0(()=>{o.current=!0}),F.useCallback(function(u,c){if(c===void 0&&(c={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let f=Md(u,JSON.parse(a),s,c.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Wn([t,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[t,r,a,s,e])}function N0(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=F.useContext(tr),{matches:i}=F.useContext(nr),{pathname:s}=fa(),a=JSON.stringify(jd(i,r.v7_relativeSplatPath));return F.useMemo(()=>Md(e,JSON.parse(a),s,n==="path"),[e,a,s,n])}function ex(e,t){return tx(e,t)}function tx(e,t,n,r){Ri()||Ae(!1);let{navigator:i}=F.useContext(tr),{matches:s}=F.useContext(nr),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=fa(),c;if(t){var f;let x=typeof t=="string"?ki(t):t;l==="/"||(f=x.pathname)!=null&&f.startsWith(l)||Ae(!1),c=x}else c=u;let d=c.pathname||"/",p=d;if(l!=="/"){let x=l.replace(/^\//,"").split("/");p="/"+d.replace(/^\//,"").split("/").slice(x.length).join("/")}let y=b_(e,{pathname:p}),m=ax(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:Wn([l,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Wn([l,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,r);return t&&m?F.createElement(Dl.Provider,{value:{location:Xs({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Nn.Pop}},m):m}function nx(){let e=cx(),t=X_(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},t),n?F.createElement("pre",{style:i},n):null,null)}const rx=F.createElement(nx,null);class ix extends F.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?F.createElement(nr.Provider,{value:this.props.routeContext},F.createElement(L0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function sx(e){let{routeContext:t,match:n,children:r}=e,i=F.useContext(Ud);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),F.createElement(nr.Provider,{value:t},r)}function ax(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=(i=n)==null?void 0:i.errors;if(o!=null){let c=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);c>=0||Ae(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<a.length;c++){let f=a[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:d,errors:p}=n,y=f.route.loader&&d[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||y){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,f,d)=>{let p,y=!1,m=null,x=null;n&&(p=o&&f.route.id?o[f.route.id]:void 0,m=f.route.errorElement||rx,l&&(u<0&&d===0?(dx("route-fallback"),y=!0,x=null):u===d&&(y=!0,x=f.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,d+1)),h=()=>{let v;return p?v=m:y?v=x:f.route.Component?v=F.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=c,F.createElement(sx,{match:f,routeContext:{outlet:c,matches:g,isDataRoute:n!=null},children:v})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?F.createElement(ix,{location:n.location,revalidation:n.revalidation,component:m,error:p,children:h(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):h()},null)}var D0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(D0||{}),F0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(F0||{});function ox(e){let t=F.useContext(Ud);return t||Ae(!1),t}function lx(e){let t=F.useContext(q_);return t||Ae(!1),t}function ux(e){let t=F.useContext(nr);return t||Ae(!1),t}function j0(e){let t=ux(),n=t.matches[t.matches.length-1];return n.route.id||Ae(!1),n.route.id}function cx(){var e;let t=F.useContext(L0),n=lx(),r=j0();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function fx(){let{router:e}=ox(D0.UseNavigateStable),t=j0(F0.UseNavigateStable),n=F.useRef(!1);return $0(()=>{n.current=!0}),F.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Xs({fromRouteId:t},s)))},[e,t])}const dm={};function dx(e,t,n){dm[e]||(dm[e]=!0)}function hx(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function px(e){let{to:t,replace:n,state:r,relative:i}=e;Ri()||Ae(!1);let{future:s,static:a}=F.useContext(tr),{matches:o}=F.useContext(nr),{pathname:l}=fa(),u=Pi(),c=Md(t,jd(o,s.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(c);return F.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function ur(e){Ae(!1)}function mx(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Nn.Pop,navigator:s,static:a=!1,future:o}=e;Ri()&&Ae(!1);let l=t.replace(/^\/*/,"/"),u=F.useMemo(()=>({basename:l,navigator:s,static:a,future:Xs({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof r=="string"&&(r=ki(r));let{pathname:c="/",search:f="",hash:d="",state:p=null,key:y="default"}=r,m=F.useMemo(()=>{let x=Fd(c,l);return x==null?null:{location:{pathname:x,search:f,hash:d,state:p,key:y},navigationType:i}},[l,c,f,d,p,y,i]);return m==null?null:F.createElement(tr.Provider,{value:u},F.createElement(Dl.Provider,{children:n,value:m}))}function gx(e){let{children:t,location:n}=e;return ex(Zc(t),n)}new Promise(()=>{});function Zc(e,t){t===void 0&&(t=[]);let n=[];return F.Children.forEach(e,(r,i)=>{if(!F.isValidElement(r))return;let s=[...t,i];if(r.type===F.Fragment){n.push.apply(n,Zc(r.props.children,s));return}r.type!==ur&&Ae(!1),!r.props.index||!r.props.children||Ae(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Zc(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ef(){return ef=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ef.apply(this,arguments)}function yx(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function vx(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function wx(e,t){return e.button===0&&(!t||t==="_self")&&!vx(e)}const Ax=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_x="6";try{window.__reactRouterVersion=_x}catch{}const xx="startTransition",hm=dA[xx];function Ex(e){let{basename:t,children:n,future:r,window:i}=e,s=F.useRef();s.current==null&&(s.current=S_({window:i,v5Compat:!0}));let a=s.current,[o,l]=F.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},c=F.useCallback(f=>{u&&hm?hm(()=>l(f)):l(f)},[l,u]);return F.useLayoutEffect(()=>a.listen(c),[a,c]),F.useEffect(()=>hx(r),[r]),F.createElement(mx,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const Sx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Cx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vr=F.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:c,viewTransition:f}=t,d=yx(t,Ax),{basename:p}=F.useContext(tr),y,m=!1;if(typeof u=="string"&&Cx.test(u)&&(y=u,Sx))try{let v=new URL(window.location.href),E=u.startsWith("//")?new URL(v.protocol+u):new URL(u),w=Fd(E.pathname,p);E.origin===v.origin&&w!=null?u=w+E.search+E.hash:m=!0}catch{}let x=J_(u,{relative:i}),g=Ix(u,{replace:a,state:o,target:l,preventScrollReset:c,relative:i,viewTransition:f});function h(v){r&&r(v),v.defaultPrevented||g(v)}return F.createElement("a",ef({},d,{href:y||x,onClick:m||s?r:h,ref:n,target:l}))});var pm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(pm||(pm={}));var mm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(mm||(mm={}));function Ix(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:o}=t===void 0?{}:t,l=Pi(),u=fa(),c=N0(e,{relative:a});return F.useCallback(f=>{if(wx(f,n)){f.preventDefault();let d=r!==void 0?r:ol(u)===ol(c);l(e,{replace:d,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[u,l,c,r,i,n,e,s,a,o])}function bx(){const[e,t]=F.useState(typeof navigator<"u"?navigator.onLine:!0);return F.useEffect(()=>{function n(){t(!0)}function r(){t(!1)}return window.addEventListener("online",n),window.addEventListener("offline",r),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}},[]),e}const oe=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,xe=Object.keys,Ge=Array.isArray;function qe(e,t){return typeof t!="object"||xe(t).forEach(function(n){e[n]=t[n]}),e}typeof Promise>"u"||oe.Promise||(oe.Promise=Promise);const Ys=Object.getPrototypeOf,kx={}.hasOwnProperty;function gt(e,t){return kx.call(e,t)}function Si(e,t){typeof t=="function"&&(t=t(Ys(e))),(typeof Reflect>"u"?xe:Reflect.ownKeys)(t).forEach(n=>{hn(e,n,t[n])})}const M0=Object.defineProperty;function hn(e,t,n,r){M0(e,t,qe(n&&gt(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function fi(e){return{from:function(t){return e.prototype=Object.create(t.prototype),hn(e.prototype,"constructor",e),{extend:Si.bind(null,e.prototype)}}}}const Rx=Object.getOwnPropertyDescriptor;function Qd(e,t){let n;return Rx(e,t)||(n=Ys(e))&&Qd(n,t)}const Px=[].slice;function ll(e,t,n){return Px.call(e,t,n)}function U0(e,t){return t(e)}function os(e){if(!e)throw new Error("Assertion Failed")}function Q0(e){oe.setImmediate?setImmediate(e):setTimeout(e,0)}function z0(e,t){return e.reduce((n,r,i)=>{var s=t(r,i);return s&&(n[s[0]]=s[1]),n},{})}function pn(e,t){if(typeof t=="string"&&gt(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var n=[],r=0,i=t.length;r<i;++r){var s=pn(e,t[r]);n.push(s)}return n}var a=t.indexOf(".");if(a!==-1){var o=e[t.substr(0,a)];return o==null?void 0:pn(o,t.substr(a+1))}}function Dt(e,t,n){if(e&&t!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){os(typeof n!="string"&&"length"in n);for(var r=0,i=t.length;r<i;++r)Dt(e,t[r],n[r])}else{var s=t.indexOf(".");if(s!==-1){var a=t.substr(0,s),o=t.substr(s+1);if(o==="")n===void 0?Ge(e)&&!isNaN(parseInt(a))?e.splice(a,1):delete e[a]:e[a]=n;else{var l=e[a];l&&gt(e,a)||(l=e[a]={}),Dt(l,o,n)}}else n===void 0?Ge(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function G0(e){var t={};for(var n in e)gt(e,n)&&(t[n]=e[n]);return t}const Bx=[].concat;function W0(e){return Bx.apply([],e)}const H0="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(W0([8,16,32,64].map(e=>["Int","Uint","Float"].map(t=>t+e+"Array")))).filter(e=>oe[e]),Ox=H0.map(e=>oe[e]);z0(H0,e=>[e,!0]);let Rn=null;function da(e){Rn=typeof WeakMap<"u"&&new WeakMap;const t=tf(e);return Rn=null,t}function tf(e){if(!e||typeof e!="object")return e;let t=Rn&&Rn.get(e);if(t)return t;if(Ge(e)){t=[],Rn&&Rn.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(tf(e[n]))}else if(Ox.indexOf(e.constructor)>=0)t=e;else{const s=Ys(e);for(var i in t=s===Object.prototype?{}:Object.create(s),Rn&&Rn.set(e,t),e)gt(e,i)&&(t[i]=tf(e[i]))}return t}const{toString:Tx}={};function nf(e){return Tx.call(e).slice(8,-1)}const rf=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Lx=typeof rf=="symbol"?function(e){var t;return e!=null&&(t=e[rf])&&t.apply(e)}:function(){return null},zr={};function ln(e){var t,n,r,i;if(arguments.length===1){if(Ge(e))return e.slice();if(this===zr&&typeof e=="string")return[e];if(i=Lx(e)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(e==null)return[e];if(typeof(t=e.length)=="number"){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}const zd=typeof Symbol<"u"?e=>e[Symbol.toStringTag]==="AsyncFunction":()=>!1;var Zt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function V0(e,t){Zt=e,K0=t}var K0=()=>!0;const $x=!new Error("").stack;function Lr(){if($x)try{throw Lr.arguments,new Error}catch(e){return e}return new Error}function sf(e,t){var n=e.stack;return n?(t=t||0,n.indexOf(e.name)===0&&(t+=(e.name+e.message).split(`
`).length),n.split(`
`).slice(t).filter(K0).map(r=>`
`+r).join("")):""}var X0=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Gd=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(X0),Nx={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function di(e,t){this._e=Lr(),this.name=e,this.message=t}function Y0(e,t){return e+". Errors: "+Object.keys(t).map(n=>t[n].toString()).filter((n,r,i)=>i.indexOf(n)===r).join(`
`)}function ul(e,t,n,r){this._e=Lr(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=Y0(e,t)}function Ss(e,t){this._e=Lr(),this.name="BulkError",this.failures=Object.keys(t).map(n=>t[n]),this.failuresByPos=t,this.message=Y0(e,t)}fi(di).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+sf(this._e,2))}},toString:function(){return this.name+": "+this.message}}),fi(ul).from(di),fi(Ss).from(di);var Wd=Gd.reduce((e,t)=>(e[t]=t+"Error",e),{});const Dx=di;var Y=Gd.reduce((e,t)=>{var n=t+"Error";function r(i,s){this._e=Lr(),this.name=n,i?typeof i=="string"?(this.message=`${i}${s?`
 `+s:""}`,this.inner=s||null):typeof i=="object"&&(this.message=`${i.name} ${i.message}`,this.inner=i):(this.message=Nx[t]||n,this.inner=null)}return fi(r).from(Dx),e[t]=r,e},{});Y.Syntax=SyntaxError,Y.Type=TypeError,Y.Range=RangeError;var gm=X0.reduce((e,t)=>(e[t+"Error"]=Y[t],e),{}),So=Gd.reduce((e,t)=>(["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=Y[t]),e),{});function ie(){}function qs(e){return e}function Fx(e,t){return e==null||e===qs?t:function(n){return t(e(n))}}function br(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function jx(e,t){return e===ie?t:function(){var n=e.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var s=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?br(r,this.onsuccess):r),i&&(this.onerror=this.onerror?br(i,this.onerror):i),s!==void 0?s:n}}function Mx(e,t){return e===ie?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?br(n,this.onsuccess):n),r&&(this.onerror=this.onerror?br(r,this.onerror):r)}}function Ux(e,t){return e===ie?t:function(n){var r=e.apply(this,arguments);qe(n,r);var i=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?br(i,this.onsuccess):i),s&&(this.onerror=this.onerror?br(s,this.onerror):s),r===void 0?a===void 0?void 0:a:qe(r,a)}}function Qx(e,t){return e===ie?t:function(){return t.apply(this,arguments)!==!1&&e.apply(this,arguments)}}function Hd(e,t){return e===ie?t:function(){var n=e.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,i=arguments.length,s=new Array(i);i--;)s[i]=arguments[i];return n.then(function(){return t.apply(r,s)})}return t.apply(this,arguments)}}So.ModifyError=ul,So.DexieError=di,So.BulkError=Ss;var Js={};const q0=100,[af,cl,of]=typeof Promise>"u"?[]:(()=>{let e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,Ys(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,Ys(t),e]})(),J0=cl&&cl.then,Co=af&&af.constructor,Vd=!!of;var lf=!1,zx=of?()=>{of.then(Ua)}:oe.setImmediate?setImmediate.bind(null,Ua):oe.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver(()=>{Ua(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(Ua,0)},Cs=function(e,t){ls.push([e,t]),fl&&(zx(),fl=!1)},uf=!0,fl=!0,wr=[],Io=[],cf=null,ff=qs,hi={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:wm,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(e=>{try{wm(e[0],e[1])}catch{}})}},H=hi,ls=[],Ar=0,bo=[];function z(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=ie,this._lib=!1;var t=this._PSD=H;if(Zt&&(this._stackHolder=Lr(),this._prev=null,this._numPrev=0),typeof e!="function"){if(e!==Js)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&hf(this,this._value))}this._state=null,this._value=null,++t.ref,ev(this,e)}const df={get:function(){var e=H,t=dl;function n(r,i){var s=!e.global&&(e!==H||t!==dl);const a=s&&!wn();var o=new z((l,u)=>{Kd(this,new Z0(hl(r,e,s,a),hl(i,e,s,a),l,u,e))});return Zt&&rv(o,this),o}return n.prototype=Js,n},set:function(e){hn(this,"then",e&&e.prototype===Js?df:{get:function(){return e},set:df.set})}};function Z0(e,t,n,r,i){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=n,this.reject=r,this.psd=i}function ev(e,t){try{t(n=>{if(e._state===null){if(n===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&ha();n&&typeof n.then=="function"?ev(e,(i,s)=>{n instanceof z?n._then(i,s):n.then(i,s)}):(e._state=!0,e._value=n,tv(e)),r&&pa()}},hf.bind(null,e))}catch(n){hf(e,n)}}function hf(e,t){if(Io.push(t),e._state===null){var n=e._lib&&ha();t=ff(t),e._state=!1,e._value=t,Zt&&t!==null&&typeof t=="object"&&!t._promise&&function(r,i,s){try{r.apply(null,s)}catch{}}(()=>{var r=Qd(t,"stack");t._promise=e,hn(t,"stack",{get:()=>lf?r&&(r.get?r.get.apply(t):r.value):e.stack})}),function(r){wr.some(i=>i._value===r._value)||wr.push(r)}(e),tv(e),n&&pa()}}function tv(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Kd(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),Ar===0&&(++Ar,Cs(()=>{--Ar==0&&Xd()},[]))}function Kd(e,t){if(e._state!==null){var n=e._state?t.onFulfilled:t.onRejected;if(n===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Ar,Cs(Gx,[n,e,t])}else e._listeners.push(t)}function Gx(e,t,n){try{cf=t;var r,i=t._value;t._state?r=e(i):(Io.length&&(Io=[]),r=e(i),Io.indexOf(i)===-1&&function(s){for(var a=wr.length;a;)if(wr[--a]._value===s._value)return void wr.splice(a,1)}(t)),n.resolve(r)}catch(s){n.reject(s)}finally{cf=null,--Ar==0&&Xd(),--n.psd.ref||n.psd.finalize()}}function nv(e,t,n){if(t.length===n)return t;var r="";if(e._state===!1){var i,s,a=e._value;a!=null?(i=a.name||"Error",s=a.message||a,r=sf(a,0)):(i=a,s=""),t.push(i+(s?": "+s:"")+r)}return Zt&&((r=sf(e._stackHolder,2))&&t.indexOf(r)===-1&&t.push(r),e._prev&&nv(e._prev,t,n)),t}function rv(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function Ua(){ha()&&pa()}function ha(){var e=uf;return uf=!1,fl=!1,e}function pa(){var e,t,n;do for(;ls.length>0;)for(e=ls,ls=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}while(ls.length>0);uf=!0,fl=!0}function Xd(){var e=wr;wr=[],e.forEach(r=>{r._PSD.onunhandled.call(null,r._value,r)});for(var t=bo.slice(0),n=t.length;n;)t[--n]()}function Qa(e){return new z(Js,!1,e)}function ue(e,t){var n=H;return function(){var r=ha(),i=H;try{return Yn(n,!0),e.apply(this,arguments)}catch(s){t&&t(s)}finally{Yn(i,!1),r&&pa()}}}Si(z.prototype,{then:df,_then:function(e,t){Kd(this,new Z0(null,null,e,t,H))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],n=arguments[1];return typeof t=="function"?this.then(null,r=>r instanceof t?n(r):Qa(r)):this.then(null,r=>r&&r.name===t?n(r):Qa(r))},finally:function(e){return this.then(t=>(e(),t),t=>(e(),Qa(t)))},stack:{get:function(){if(this._stack)return this._stack;try{lf=!0;var e=nv(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=e),e}finally{lf=!1}}},timeout:function(e,t){return e<1/0?new z((n,r)=>{var i=setTimeout(()=>r(new Y.Timeout(t)),e);this.then(n,r).finally(clearTimeout.bind(null,i))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&hn(z.prototype,Symbol.toStringTag,"Dexie.Promise"),hi.env=iv(),Si(z,{all:function(){var e=ln.apply(null,arguments).map(za);return new z(function(t,n){e.length===0&&t([]);var r=e.length;e.forEach((i,s)=>z.resolve(i).then(a=>{e[s]=a,--r||t(e)},n))})},resolve:e=>{if(e instanceof z)return e;if(e&&typeof e.then=="function")return new z((n,r)=>{e.then(n,r)});var t=new z(Js,!0,e);return rv(t,cf),t},reject:Qa,race:function(){var e=ln.apply(null,arguments).map(za);return new z((t,n)=>{e.map(r=>z.resolve(r).then(t,n))})},PSD:{get:()=>H,set:e=>H=e},totalEchoes:{get:()=>dl},newPSD:Xn,usePSD:Oi,scheduler:{get:()=>Cs,set:e=>{Cs=e}},rejectionMapper:{get:()=>ff,set:e=>{ff=e}},follow:(e,t)=>new z((n,r)=>Xn((i,s)=>{var a=H;a.unhandleds=[],a.onunhandled=s,a.finalize=br(function(){(function(o){function l(){o(),bo.splice(bo.indexOf(l),1)}bo.push(l),++Ar,Cs(()=>{--Ar==0&&Xd()},[])})(()=>{this.unhandleds.length===0?i():s(this.unhandleds[0])})},a.finalize),e()},t,n,r))}),Co&&(Co.allSettled&&hn(z,"allSettled",function(){const e=ln.apply(null,arguments).map(za);return new z(t=>{e.length===0&&t([]);let n=e.length;const r=new Array(n);e.forEach((i,s)=>z.resolve(i).then(a=>r[s]={status:"fulfilled",value:a},a=>r[s]={status:"rejected",reason:a}).then(()=>--n||t(r)))})}),Co.any&&typeof AggregateError<"u"&&hn(z,"any",function(){const e=ln.apply(null,arguments).map(za);return new z((t,n)=>{e.length===0&&n(new AggregateError([]));let r=e.length;const i=new Array(r);e.forEach((s,a)=>z.resolve(s).then(o=>t(o),o=>{i[a]=o,--r||n(new AggregateError(i))}))})}));const ze={awaits:0,echoes:0,id:0};var Wx=0,ko=[],Tu=0,dl=0,Hx=0;function Xn(e,t,n,r){var i=H,s=Object.create(i);s.parent=i,s.ref=0,s.global=!1,s.id=++Hx;var a=hi.env;s.env=Vd?{Promise:z,PromiseProp:{value:z,configurable:!0,writable:!0},all:z.all,race:z.race,allSettled:z.allSettled,any:z.any,resolve:z.resolve,reject:z.reject,nthen:ym(a.nthen,s),gthen:ym(a.gthen,s)}:{},t&&qe(s,t),++i.ref,s.finalize=function(){--this.parent.ref||this.parent.finalize()};var o=Oi(s,e,n,r);return s.ref===0&&s.finalize(),o}function Bi(){return ze.id||(ze.id=++Wx),++ze.awaits,ze.echoes+=q0,ze.id}function wn(){return!!ze.awaits&&(--ze.awaits==0&&(ze.id=0),ze.echoes=ze.awaits*q0,!0)}function za(e){return ze.echoes&&e&&e.constructor===Co?(Bi(),e.then(t=>(wn(),t),t=>(wn(),ke(t)))):e}function Vx(e){++dl,ze.echoes&&--ze.echoes!=0||(ze.echoes=ze.id=0),ko.push(H),Yn(e,!0)}function Kx(){var e=ko[ko.length-1];ko.pop(),Yn(e,!1)}function Yn(e,t){var n=H;if((t?!ze.echoes||Tu++&&e===H:!Tu||--Tu&&e===H)||sv(t?Vx.bind(null,e):Kx),e!==H&&(H=e,n===hi&&(hi.env=iv()),Vd)){var r=hi.env.Promise,i=e.env;cl.then=i.nthen,r.prototype.then=i.gthen,(n.global||e.global)&&(Object.defineProperty(oe,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject,i.allSettled&&(r.allSettled=i.allSettled),i.any&&(r.any=i.any))}}function iv(){var e=oe.Promise;return Vd?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(oe,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:cl.then,gthen:e.prototype.then}:{}}function Oi(e,t,n,r,i){var s=H;try{return Yn(e,!0),t(n,r,i)}finally{Yn(s,!1)}}function sv(e){J0.call(af,e)}function hl(e,t,n,r){return typeof e!="function"?e:function(){var i=H;n&&Bi(),Yn(t,!0);try{return e.apply(this,arguments)}finally{Yn(i,!1),r&&sv(wn)}}}function ym(e,t){return function(n,r){return e.call(this,hl(n,t),hl(r,t))}}(""+J0).indexOf("[native code]")===-1&&(Bi=wn=ie);const vm="unhandledrejection";function wm(e,t){var n;try{n=t.onuncatched(e)}catch{}if(n!==!1)try{var r,i={promise:t,reason:e};if(oe.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(vm,!0,!0),qe(r,i)):oe.CustomEvent&&qe(r=new CustomEvent(vm,{detail:i}),i),r&&oe.dispatchEvent&&(dispatchEvent(r),!oe.PromiseRejectionEvent&&oe.onunhandledrejection))try{oe.onunhandledrejection(r)}catch{}Zt&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch{}}var ke=z.reject;function pf(e,t,n,r){if(e.idbdb&&(e._state.openComplete||H.letThrough||e._vip)){var i=e._createTransaction(t,n,e._dbSchema);try{i.create(),e._state.PR1398_maxLoop=3}catch(s){return s.name===Wd.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>pf(e,t,n,r))):ke(s)}return i._promise(t,(s,a)=>Xn(()=>(H.trans=i,r(s,a,i)))).then(s=>i._completion.then(()=>s))}if(e._state.openComplete)return ke(new Y.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return ke(new Y.DatabaseClosed);e.open().catch(ie)}return e._state.dbReadyPromise.then(()=>pf(e,t,n,r))}const Am="3.2.7",pr="",mf=-1/0,tn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",av="String expected.",Is=[],Fl=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Xx=Fl,Yx=Fl,ov=e=>!/(dexie\.js|dexie\.min\.js)/.test(e),jl="__dbnames",Lu="readonly",$u="readwrite";function kr(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const lv={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ga(e){return typeof e!="string"||/\./.test(e)?t=>t:t=>(t[e]===void 0&&e in t&&delete(t=da(t))[e],t)}class qx{_trans(t,n,r){const i=this._tx||H.trans,s=this.name;function a(l,u,c){if(!c.schema[s])throw new Y.NotFound("Table "+s+" not part of transaction");return n(c.idbtrans,c)}const o=ha();try{return i&&i.db===this.db?i===H.trans?i._promise(t,a,r):Xn(()=>i._promise(t,a,r),{trans:i,transless:H.transless||H}):pf(this.db,t,[this.name],a)}finally{o&&pa()}}get(t,n){return t&&t.constructor===Object?this.where(t).first(n):this._trans("readonly",r=>this.core.get({trans:r,key:t}).then(i=>this.hook.reading.fire(i))).then(n)}where(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(Ge(t))return new this.db.WhereClause(this,`[${t.join("+")}]`);const n=xe(t);if(n.length===1)return this.where(n[0]).equals(t[n[0]]);const r=this.schema.indexes.concat(this.schema.primKey).filter(u=>{if(u.compound&&n.every(c=>u.keyPath.indexOf(c)>=0)){for(let c=0;c<n.length;++c)if(n.indexOf(u.keyPath[c])===-1)return!1;return!0}return!1}).sort((u,c)=>u.keyPath.length-c.keyPath.length)[0];if(r&&this.db._maxKey!==pr){const u=r.keyPath.slice(0,n.length);return this.where(u).equals(u.map(c=>t[c]))}!r&&Zt&&console.warn(`The query ${JSON.stringify(t)} on ${this.name} would benefit of a compound index [${n.join("+")}]`);const{idxByName:i}=this.schema,s=this.db._deps.indexedDB;function a(u,c){try{return s.cmp(u,c)===0}catch{return!1}}const[o,l]=n.reduce(([u,c],f)=>{const d=i[f],p=t[f];return[u||d,u||!d?kr(c,d&&d.multi?y=>{const m=pn(y,f);return Ge(m)&&m.some(x=>a(p,x))}:y=>a(p,pn(y,f))):c]},[null,null]);return o?this.where(o.name).equals(t[o.keyPath]).filter(l):r?this.filter(l):this.where(n).equals("")}filter(t){return this.toCollection().and(t)}count(t){return this.toCollection().count(t)}offset(t){return this.toCollection().offset(t)}limit(t){return this.toCollection().limit(t)}each(t){return this.toCollection().each(t)}toArray(t){return this.toCollection().toArray(t)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(t){return new this.db.Collection(new this.db.WhereClause(this,Ge(t)?`[${t.join("+")}]`:t))}reverse(){return this.toCollection().reverse()}mapToClass(t){this.schema.mappedClass=t;const n=r=>{if(!r)return r;const i=Object.create(t.prototype);for(var s in r)if(gt(r,s))try{i[s]=r[s]}catch{}return i};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),t}defineClass(){return this.mapToClass(function(t){qe(this,t)})}add(t,n){const{auto:r,keyPath:i}=this.schema.primKey;let s=t;return i&&r&&(s=Ga(i)(t)),this._trans("readwrite",a=>this.core.mutate({trans:a,type:"add",keys:n!=null?[n]:null,values:[s]})).then(a=>a.numFailures?z.reject(a.failures[0]):a.lastResult).then(a=>{if(i)try{Dt(t,i,a)}catch{}return a})}update(t,n){if(typeof t!="object"||Ge(t))return this.where(":id").equals(t).modify(n);{const r=pn(t,this.schema.primKey.keyPath);if(r===void 0)return ke(new Y.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?xe(n).forEach(i=>{Dt(t,i,n[i])}):n(t,{value:t,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}}put(t,n){const{auto:r,keyPath:i}=this.schema.primKey;let s=t;return i&&r&&(s=Ga(i)(t)),this._trans("readwrite",a=>this.core.mutate({trans:a,type:"put",values:[s],keys:n!=null?[n]:null})).then(a=>a.numFailures?z.reject(a.failures[0]):a.lastResult).then(a=>{if(i)try{Dt(t,i,a)}catch{}return a})}delete(t){return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:[t]})).then(n=>n.numFailures?z.reject(n.failures[0]):void 0)}clear(){return this._trans("readwrite",t=>this.core.mutate({trans:t,type:"deleteRange",range:lv})).then(t=>t.numFailures?z.reject(t.failures[0]):void 0)}bulkGet(t){return this._trans("readonly",n=>this.core.getMany({keys:t,trans:n}).then(r=>r.map(i=>this.hook.reading.fire(i))))}bulkAdd(t,n,r){const i=Array.isArray(n)?n:void 0,s=(r=r||(i?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",a=>{const{auto:o,keyPath:l}=this.schema.primKey;if(l&&i)throw new Y.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new Y.InvalidArgument("Arguments objects and keys must have the same length");const u=t.length;let c=l&&o?t.map(Ga(l)):t;return this.core.mutate({trans:a,type:"add",keys:i,values:c,wantResults:s}).then(({numFailures:f,results:d,lastResult:p,failures:y})=>{if(f===0)return s?d:p;throw new Ss(`${this.name}.bulkAdd(): ${f} of ${u} operations failed`,y)})})}bulkPut(t,n,r){const i=Array.isArray(n)?n:void 0,s=(r=r||(i?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",a=>{const{auto:o,keyPath:l}=this.schema.primKey;if(l&&i)throw new Y.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new Y.InvalidArgument("Arguments objects and keys must have the same length");const u=t.length;let c=l&&o?t.map(Ga(l)):t;return this.core.mutate({trans:a,type:"put",keys:i,values:c,wantResults:s}).then(({numFailures:f,results:d,lastResult:p,failures:y})=>{if(f===0)return s?d:p;throw new Ss(`${this.name}.bulkPut(): ${f} of ${u} operations failed`,y)})})}bulkDelete(t){const n=t.length;return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:t})).then(({numFailures:r,lastResult:i,failures:s})=>{if(r===0)return i;throw new Ss(`${this.name}.bulkDelete(): ${r} of ${n} operations failed`,s)})}}function bs(e){var t={},n=function(a,o){if(o){for(var l=arguments.length,u=new Array(l-1);--l;)u[l-1]=arguments[l];return t[a].subscribe.apply(null,u),e}if(typeof a=="string")return t[a]};n.addEventType=s;for(var r=1,i=arguments.length;r<i;++r)s(arguments[r]);return n;function s(a,o,l){if(typeof a!="object"){var u;o||(o=Qx),l||(l=ie);var c={subscribers:[],fire:l,subscribe:function(f){c.subscribers.indexOf(f)===-1&&(c.subscribers.push(f),c.fire=o(c.fire,f))},unsubscribe:function(f){c.subscribers=c.subscribers.filter(function(d){return d!==f}),c.fire=c.subscribers.reduce(o,l)}};return t[a]=n[a]=c,c}xe(u=a).forEach(function(f){var d=u[f];if(Ge(d))s(f,u[f][0],u[f][1]);else{if(d!=="asap")throw new Y.InvalidArgument("Invalid event config");var p=s(f,qs,function(){for(var y=arguments.length,m=new Array(y);y--;)m[y]=arguments[y];p.subscribers.forEach(function(x){Q0(function(){x.apply(null,m)})})})}})}}function Ji(e,t){return fi(t).from({prototype:e}),t}function Nr(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Nu(e,t){e.filter=kr(e.filter,t)}function Du(e,t,n){var r=e.replayFilter;e.replayFilter=r?()=>kr(r(),t()):t,e.justLimit=n&&!r}function Ro(e,t){if(e.isPrimKey)return t.primaryKey;const n=t.getIndexByKeyPath(e.index);if(!n)throw new Y.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function _m(e,t,n){const r=Ro(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:r,range:e.range}})}function Wa(e,t,n,r){const i=e.replayFilter?kr(e.filter,e.replayFilter()):e.filter;if(e.or){const s={},a=(o,l,u)=>{if(!i||i(l,u,d=>l.stop(d),d=>l.fail(d))){var c=l.primaryKey,f=""+c;f==="[object ArrayBuffer]"&&(f=""+new Uint8Array(c)),gt(s,f)||(s[f]=!0,t(o,l,u))}};return Promise.all([e.or._iterate(a,n),xm(_m(e,r,n),e.algorithm,a,!e.keysOnly&&e.valueMapper)])}return xm(_m(e,r,n),kr(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function xm(e,t,n,r){var i=ue(r?(s,a,o)=>n(r(s),a,o):n);return e.then(s=>{if(s)return s.start(()=>{var a=()=>s.continue();t&&!t(s,o=>a=o,o=>{s.stop(o),a=ie},o=>{s.fail(o),a=ie})||i(s.value,s,o=>a=o),a()})})}function Xe(e,t){try{const n=Em(e),r=Em(t);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(i,s){const a=i.length,o=s.length,l=a<o?a:o;for(let u=0;u<l;++u)if(i[u]!==s[u])return i[u]<s[u]?-1:1;return a===o?0:a<o?-1:1}(Sm(e),Sm(t));case"Array":return function(i,s){const a=i.length,o=s.length,l=a<o?a:o;for(let u=0;u<l;++u){const c=Xe(i[u],s[u]);if(c!==0)return c}return a===o?0:a<o?-1:1}(e,t)}}catch{}return NaN}function Em(e){const t=typeof e;if(t!=="object")return t;if(ArrayBuffer.isView(e))return"binary";const n=nf(e);return n==="ArrayBuffer"?"binary":n}function Sm(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class Jx{_read(t,n){var r=this._ctx;return r.error?r.table._trans(null,ke.bind(null,r.error)):r.table._trans("readonly",t).then(n)}_write(t){var n=this._ctx;return n.error?n.table._trans(null,ke.bind(null,n.error)):n.table._trans("readwrite",t,"locked")}_addAlgorithm(t){var n=this._ctx;n.algorithm=kr(n.algorithm,t)}_iterate(t,n){return Wa(this._ctx,t,n,this._ctx.table.core)}clone(t){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return t&&qe(r,t),n._ctx=r,n}raw(){return this._ctx.valueMapper=null,this}each(t){var n=this._ctx;return this._read(r=>Wa(n,t,r,n.table.core))}count(t){return this._read(n=>{const r=this._ctx,i=r.table.core;if(Nr(r,!0))return i.count({trans:n,query:{index:Ro(r,i.schema),range:r.range}}).then(a=>Math.min(a,r.limit));var s=0;return Wa(r,()=>(++s,!1),n,i).then(()=>s)}).then(t)}sortBy(t,n){const r=t.split(".").reverse(),i=r[0],s=r.length-1;function a(u,c){return c?a(u[r[c]],c-1):u[i]}var o=this._ctx.dir==="next"?1:-1;function l(u,c){var f=a(u,s),d=a(c,s);return f<d?-o:f>d?o:0}return this.toArray(function(u){return u.sort(l)}).then(n)}toArray(t){return this._read(n=>{var r=this._ctx;if(r.dir==="next"&&Nr(r,!0)&&r.limit>0){const{valueMapper:i}=r,s=Ro(r,r.table.core.schema);return r.table.core.query({trans:n,limit:r.limit,values:!0,query:{index:s,range:r.range}}).then(({result:a})=>i?a.map(i):a)}{const i=[];return Wa(r,s=>i.push(s),n,r.table.core).then(()=>i)}},t)}offset(t){var n=this._ctx;return t<=0||(n.offset+=t,Nr(n)?Du(n,()=>{var r=t;return(i,s)=>r===0||(r===1?(--r,!1):(s(()=>{i.advance(r),r=0}),!1))}):Du(n,()=>{var r=t;return()=>--r<0})),this}limit(t){return this._ctx.limit=Math.min(this._ctx.limit,t),Du(this._ctx,()=>{var n=t;return function(r,i,s){return--n<=0&&i(s),n>=0}},!0),this}until(t,n){return Nu(this._ctx,function(r,i,s){return!t(r.value)||(i(s),n)}),this}first(t){return this.limit(1).toArray(function(n){return n[0]}).then(t)}last(t){return this.reverse().first(t)}filter(t){var n,r;return Nu(this._ctx,function(i){return t(i.value)}),n=this._ctx,r=t,n.isMatch=kr(n.isMatch,r),this}and(t){return this.filter(t)}or(t){return new this.db.WhereClause(this._ctx.table,t,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){t(i.key,i)})}eachUniqueKey(t){return this._ctx.unique="unique",this.eachKey(t)}eachPrimaryKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){t(i.primaryKey,i)})}keys(t){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,s){r.push(s.key)}).then(function(){return r}).then(t)}primaryKeys(t){var n=this._ctx;if(n.dir==="next"&&Nr(n,!0)&&n.limit>0)return this._read(i=>{var s=Ro(n,n.table.core.schema);return n.table.core.query({trans:i,values:!1,limit:n.limit,query:{index:s,range:n.range}})}).then(({result:i})=>i).then(t);n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,s){r.push(s.primaryKey)}).then(function(){return r}).then(t)}uniqueKeys(t){return this._ctx.unique="unique",this.keys(t)}firstKey(t){return this.limit(1).keys(function(n){return n[0]}).then(t)}lastKey(t){return this.reverse().firstKey(t)}distinct(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var r={};return Nu(this._ctx,function(i){var s=i.primaryKey.toString(),a=gt(r,s);return r[s]=!0,!a}),this}modify(t){var n=this._ctx;return this._write(r=>{var i;if(typeof t=="function")i=t;else{var s=xe(t),a=s.length;i=function(m){for(var x=!1,g=0;g<a;++g){var h=s[g],v=t[h];pn(m,h)!==v&&(Dt(m,h,v),x=!0)}return x}}const o=n.table.core,{outbound:l,extractKey:u}=o.schema.primaryKey,c=this.db._options.modifyChunkSize||200,f=[];let d=0;const p=[],y=(m,x)=>{const{failures:g,numFailures:h}=x;d+=m-h;for(let v of xe(g))f.push(g[v])};return this.clone().primaryKeys().then(m=>{const x=g=>{const h=Math.min(c,m.length-g);return o.getMany({trans:r,keys:m.slice(g,g+h),cache:"immutable"}).then(v=>{const E=[],w=[],A=l?[]:null,_=[];for(let C=0;C<h;++C){const I=v[C],P={value:da(I),primKey:m[g+C]};i.call(P,P.value,P)!==!1&&(P.value==null?_.push(m[g+C]):l||Xe(u(I),u(P.value))===0?(w.push(P.value),l&&A.push(m[g+C])):(_.push(m[g+C]),E.push(P.value)))}const S=Nr(n)&&n.limit===1/0&&(typeof t!="function"||t===Fu)&&{index:n.index,range:n.range};return Promise.resolve(E.length>0&&o.mutate({trans:r,type:"add",values:E}).then(C=>{for(let I in C.failures)_.splice(parseInt(I),1);y(E.length,C)})).then(()=>(w.length>0||S&&typeof t=="object")&&o.mutate({trans:r,type:"put",keys:A,values:w,criteria:S,changeSpec:typeof t!="function"&&t}).then(C=>y(w.length,C))).then(()=>(_.length>0||S&&t===Fu)&&o.mutate({trans:r,type:"delete",keys:_,criteria:S}).then(C=>y(_.length,C))).then(()=>m.length>g+h&&x(g+c))})};return x(0).then(()=>{if(f.length>0)throw new ul("Error modifying one or more objects",f,d,p);return m.length})})})}delete(){var t=this._ctx,n=t.range;return Nr(t)&&(t.isPrimKey&&!Yx||n.type===3)?this._write(r=>{const{primaryKey:i}=t.table.core.schema,s=n;return t.table.core.count({trans:r,query:{index:i,range:s}}).then(a=>t.table.core.mutate({trans:r,type:"deleteRange",range:s}).then(({failures:o,lastResult:l,results:u,numFailures:c})=>{if(c)throw new ul("Could not delete some values",Object.keys(o).map(f=>o[f]),a-c);return a-c}))}):this.modify(Fu)}}const Fu=(e,t)=>t.value=null;function Zx(e,t){return e<t?-1:e===t?0:1}function eE(e,t){return e>t?-1:e===t?0:1}function ut(e,t,n){var r=e instanceof cv?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function Dr(e){return new e.Collection(e,()=>uv("")).limit(0)}function tE(e,t,n,r,i,s){for(var a=Math.min(e.length,r.length),o=-1,l=0;l<a;++l){var u=t[l];if(u!==r[l])return i(e[l],n[l])<0?e.substr(0,l)+n[l]+n.substr(l+1):i(e[l],r[l])<0?e.substr(0,l)+r[l]+n.substr(l+1):o>=0?e.substr(0,o)+t[o]+n.substr(o+1):null;i(e[l],u)<0&&(o=l)}return a<r.length&&s==="next"?e+n.substr(e.length):a<e.length&&s==="prev"?e.substr(0,n.length):o<0?null:e.substr(0,o)+r[o]+n.substr(o+1)}function Ha(e,t,n,r){var i,s,a,o,l,u,c,f=n.length;if(!n.every(m=>typeof m=="string"))return ut(e,av);function d(m){i=function(g){return g==="next"?h=>h.toUpperCase():h=>h.toLowerCase()}(m),s=function(g){return g==="next"?h=>h.toLowerCase():h=>h.toUpperCase()}(m),a=m==="next"?Zx:eE;var x=n.map(function(g){return{lower:s(g),upper:i(g)}}).sort(function(g,h){return a(g.lower,h.lower)});o=x.map(function(g){return g.upper}),l=x.map(function(g){return g.lower}),u=m,c=m==="next"?"":r}d("next");var p=new e.Collection(e,()=>In(o[0],l[f-1]+r));p._ondirectionchange=function(m){d(m)};var y=0;return p._addAlgorithm(function(m,x,g){var h=m.key;if(typeof h!="string")return!1;var v=s(h);if(t(v,l,y))return!0;for(var E=null,w=y;w<f;++w){var A=tE(h,v,o[w],l[w],a,u);A===null&&E===null?y=w+1:(E===null||a(E,A)>0)&&(E=A)}return x(E!==null?function(){m.continue(E+c)}:g),!1}),p}function In(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function uv(e){return{type:1,lower:e,upper:e}}class cv{get Collection(){return this._ctx.table.db.Collection}between(t,n,r,i){r=r!==!1,i=i===!0;try{return this._cmp(t,n)>0||this._cmp(t,n)===0&&(r||i)&&(!r||!i)?Dr(this):new this.Collection(this,()=>In(t,n,!r,!i))}catch{return ut(this,tn)}}equals(t){return t==null?ut(this,tn):new this.Collection(this,()=>uv(t))}above(t){return t==null?ut(this,tn):new this.Collection(this,()=>In(t,void 0,!0))}aboveOrEqual(t){return t==null?ut(this,tn):new this.Collection(this,()=>In(t,void 0,!1))}below(t){return t==null?ut(this,tn):new this.Collection(this,()=>In(void 0,t,!1,!0))}belowOrEqual(t){return t==null?ut(this,tn):new this.Collection(this,()=>In(void 0,t))}startsWith(t){return typeof t!="string"?ut(this,av):this.between(t,t+pr,!0,!0)}startsWithIgnoreCase(t){return t===""?this.startsWith(t):Ha(this,(n,r)=>n.indexOf(r[0])===0,[t],pr)}equalsIgnoreCase(t){return Ha(this,(n,r)=>n===r[0],[t],"")}anyOfIgnoreCase(){var t=ln.apply(zr,arguments);return t.length===0?Dr(this):Ha(this,(n,r)=>r.indexOf(n)!==-1,t,"")}startsWithAnyOfIgnoreCase(){var t=ln.apply(zr,arguments);return t.length===0?Dr(this):Ha(this,(n,r)=>r.some(i=>n.indexOf(i)===0),t,pr)}anyOf(){const t=ln.apply(zr,arguments);let n=this._cmp;try{t.sort(n)}catch{return ut(this,tn)}if(t.length===0)return Dr(this);const r=new this.Collection(this,()=>In(t[0],t[t.length-1]));r._ondirectionchange=s=>{n=s==="next"?this._ascending:this._descending,t.sort(n)};let i=0;return r._addAlgorithm((s,a,o)=>{const l=s.key;for(;n(l,t[i])>0;)if(++i,i===t.length)return a(o),!1;return n(l,t[i])===0||(a(()=>{s.continue(t[i])}),!1)}),r}notEqual(t){return this.inAnyRange([[mf,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const t=ln.apply(zr,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch{return ut(this,tn)}const n=t.reduce((r,i)=>r?r.concat([[r[r.length-1][1],i]]):[[mf,i]],null);return n.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})}inAnyRange(t,n){const r=this._cmp,i=this._ascending,s=this._descending,a=this._min,o=this._max;if(t.length===0)return Dr(this);if(!t.every(h=>h[0]!==void 0&&h[1]!==void 0&&i(h[0],h[1])<=0))return ut(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Y.InvalidArgument);const l=!n||n.includeLowers!==!1,u=n&&n.includeUppers===!0;let c,f=i;function d(h,v){return f(h[0],v[0])}try{c=t.reduce(function(h,v){let E=0,w=h.length;for(;E<w;++E){const A=h[E];if(r(v[0],A[1])<0&&r(v[1],A[0])>0){A[0]=a(A[0],v[0]),A[1]=o(A[1],v[1]);break}}return E===w&&h.push(v),h},[]),c.sort(d)}catch{return ut(this,tn)}let p=0;const y=u?h=>i(h,c[p][1])>0:h=>i(h,c[p][1])>=0,m=l?h=>s(h,c[p][0])>0:h=>s(h,c[p][0])>=0;let x=y;const g=new this.Collection(this,()=>In(c[0][0],c[c.length-1][1],!l,!u));return g._ondirectionchange=h=>{h==="next"?(x=y,f=i):(x=m,f=s),c.sort(d)},g._addAlgorithm((h,v,E)=>{for(var w=h.key;x(w);)if(++p,p===c.length)return v(E),!1;return!!function(A){return!y(A)&&!m(A)}(w)||(this._cmp(w,c[p][1])===0||this._cmp(w,c[p][0])===0||v(()=>{f===i?h.continue(c[p][0]):h.continue(c[p][1])}),!1)}),g}startsWithAnyOf(){const t=ln.apply(zr,arguments);return t.every(n=>typeof n=="string")?t.length===0?Dr(this):this.inAnyRange(t.map(n=>[n,n+pr])):ut(this,"startsWithAnyOf() only works with strings")}}function Wt(e){return ue(function(t){return Zs(t),e(t.target.error),!1})}function Zs(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const ea="storagemutated",Tn="x-storagemutated-1",qn=bs(null,ea);class nE{_lock(){return os(!H.global),++this._reculock,this._reculock!==1||H.global||(H.lockOwnerFor=this),this}_unlock(){if(os(!H.global),--this._reculock==0)for(H.global||(H.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{Oi(t[1],t[0])}catch{}}return this}_locked(){return this._reculock&&H.lockOwnerFor!==this}create(t){if(!this.mode)return this;const n=this.db.idbdb,r=this.db._state.dbOpenError;if(os(!this.idbtrans),!t&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new Y.DatabaseClosed(r);case"MissingAPIError":throw new Y.MissingAPI(r.message,r);default:throw new Y.OpenFailed(r)}if(!this.active)throw new Y.TransactionInactive;return os(this._completion._state===null),(t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=ue(i=>{Zs(i),this._reject(t.error)}),t.onabort=ue(i=>{Zs(i),this.active&&this._reject(new Y.Abort(t.error)),this.active=!1,this.on("abort").fire(i)}),t.oncomplete=ue(()=>{this.active=!1,this._resolve(),"mutatedParts"in t&&qn.storagemutated.fire(t.mutatedParts)}),this}_promise(t,n,r){if(t==="readwrite"&&this.mode!=="readwrite")return ke(new Y.ReadOnly("Transaction is readonly"));if(!this.active)return ke(new Y.TransactionInactive);if(this._locked())return new z((s,a)=>{this._blockedFuncs.push([()=>{this._promise(t,n,r).then(s,a)},H])});if(r)return Xn(()=>{var s=new z((a,o)=>{this._lock();const l=n(a,o,this);l&&l.then&&l.then(a,o)});return s.finally(()=>this._unlock()),s._lib=!0,s});var i=new z((s,a)=>{var o=n(s,a,this);o&&o.then&&o.then(s,a)});return i._lib=!0,i}_root(){return this.parent?this.parent._root():this}waitFor(t){var n=this._root();const r=z.resolve(t);if(n._waitingFor)n._waitingFor=n._waitingFor.then(()=>r);else{n._waitingFor=r,n._waitingQueue=[];var i=n.idbtrans.objectStore(n.storeNames[0]);(function a(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(i.get(-1/0).onsuccess=a)})()}var s=n._waitingFor;return new z((a,o)=>{r.then(l=>n._waitingQueue.push(ue(a.bind(null,l))),l=>n._waitingQueue.push(ue(o.bind(null,l)))).finally(()=>{n._waitingFor===s&&(n._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Y.Abort))}table(t){const n=this._memoizedTables||(this._memoizedTables={});if(gt(n,t))return n[t];const r=this.schema[t];if(!r)throw new Y.NotFound("Table "+t+" not part of transaction");const i=new this.db.Table(t,r,this);return i.core=this.db.core.table(t),n[t]=i,i}}function gf(e,t,n,r,i,s,a){return{name:e,keyPath:t,unique:n,multi:r,auto:i,compound:s,src:(n&&!a?"&":"")+(r?"*":"")+(i?"++":"")+fv(t)}}function fv(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function dv(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:z0(n,r=>[r.name,r])}}let ta=e=>{try{return e.only([[]]),ta=()=>[[]],[[]]}catch{return ta=()=>pr,pr}};function yf(e){return e==null?()=>{}:typeof e=="string"?function(t){return t.split(".").length===1?r=>r[t]:r=>pn(r,t)}(e):t=>pn(t,e)}function Cm(e){return[].slice.call(e)}let rE=0;function ks(e){return e==null?":id":typeof e=="string"?e:`[${e.join("+")}]`}function iE(e,t,n){function r(l){if(l.type===3)return null;if(l.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:u,upper:c,lowerOpen:f,upperOpen:d}=l;return u===void 0?c===void 0?null:t.upperBound(c,!!d):c===void 0?t.lowerBound(u,!!f):t.bound(u,c,!!f,!!d)}const{schema:i,hasGetAll:s}=function(l,u){const c=Cm(l.objectStoreNames);return{schema:{name:l.name,tables:c.map(f=>u.objectStore(f)).map(f=>{const{keyPath:d,autoIncrement:p}=f,y=Ge(d),m=d==null,x={},g={name:f.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:m,compound:y,keyPath:d,autoIncrement:p,unique:!0,extractKey:yf(d)},indexes:Cm(f.indexNames).map(h=>f.index(h)).map(h=>{const{name:v,unique:E,multiEntry:w,keyPath:A}=h,_={name:v,compound:Ge(A),keyPath:A,unique:E,multiEntry:w,extractKey:yf(A)};return x[ks(A)]=_,_}),getIndexByKeyPath:h=>x[ks(h)]};return x[":id"]=g.primaryKey,d!=null&&(x[ks(d)]=g.primaryKey),g})},hasGetAll:c.length>0&&"getAll"in u.objectStore(c[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),a=i.tables.map(l=>function(u){const c=u.name;return{name:c,schema:u,mutate:function({trans:f,type:d,keys:p,values:y,range:m}){return new Promise((x,g)=>{x=ue(x);const h=f.objectStore(c),v=h.keyPath==null,E=d==="put"||d==="add";if(!E&&d!=="delete"&&d!=="deleteRange")throw new Error("Invalid operation type: "+d);const{length:w}=p||y||{length:1};if(p&&y&&p.length!==y.length)throw new Error("Given keys array must have same length as given values array.");if(w===0)return x({numFailures:0,failures:{},results:[],lastResult:void 0});let A;const _=[],S=[];let C=0;const I=j=>{++C,Zs(j)};if(d==="deleteRange"){if(m.type===4)return x({numFailures:C,failures:S,results:[],lastResult:void 0});m.type===3?_.push(A=h.clear()):_.push(A=h.delete(r(m)))}else{const[j,N]=E?v?[y,p]:[y,null]:[p,null];if(E)for(let L=0;L<w;++L)_.push(A=N&&N[L]!==void 0?h[d](j[L],N[L]):h[d](j[L])),A.onerror=I;else for(let L=0;L<w;++L)_.push(A=h[d](j[L])),A.onerror=I}const P=j=>{const N=j.target.result;_.forEach((L,$)=>L.error!=null&&(S[$]=L.error)),x({numFailures:C,failures:S,results:d==="delete"?p:_.map(L=>L.result),lastResult:N})};A.onerror=j=>{I(j),P(j)},A.onsuccess=P})},getMany:({trans:f,keys:d})=>new Promise((p,y)=>{p=ue(p);const m=f.objectStore(c),x=d.length,g=new Array(x);let h,v=0,E=0;const w=_=>{const S=_.target;g[S._pos]=S.result,++E===v&&p(g)},A=Wt(y);for(let _=0;_<x;++_)d[_]!=null&&(h=m.get(d[_]),h._pos=_,h.onsuccess=w,h.onerror=A,++v);v===0&&p(g)}),get:({trans:f,key:d})=>new Promise((p,y)=>{p=ue(p);const m=f.objectStore(c).get(d);m.onsuccess=x=>p(x.target.result),m.onerror=Wt(y)}),query:function(f){return d=>new Promise((p,y)=>{p=ue(p);const{trans:m,values:x,limit:g,query:h}=d,v=g===1/0?void 0:g,{index:E,range:w}=h,A=m.objectStore(c),_=E.isPrimaryKey?A:A.index(E.name),S=r(w);if(g===0)return p({result:[]});if(f){const C=x?_.getAll(S,v):_.getAllKeys(S,v);C.onsuccess=I=>p({result:I.target.result}),C.onerror=Wt(y)}else{let C=0;const I=x||!("openKeyCursor"in _)?_.openCursor(S):_.openKeyCursor(S),P=[];I.onsuccess=j=>{const N=I.result;return N?(P.push(x?N.value:N.primaryKey),++C===g?p({result:P}):void N.continue()):p({result:P})},I.onerror=Wt(y)}})}(s),openCursor:function({trans:f,values:d,query:p,reverse:y,unique:m}){return new Promise((x,g)=>{x=ue(x);const{index:h,range:v}=p,E=f.objectStore(c),w=h.isPrimaryKey?E:E.index(h.name),A=y?m?"prevunique":"prev":m?"nextunique":"next",_=d||!("openKeyCursor"in w)?w.openCursor(r(v),A):w.openKeyCursor(r(v),A);_.onerror=Wt(g),_.onsuccess=ue(S=>{const C=_.result;if(!C)return void x(null);C.___id=++rE,C.done=!1;const I=C.continue.bind(C);let P=C.continuePrimaryKey;P&&(P=P.bind(C));const j=C.advance.bind(C),N=()=>{throw new Error("Cursor not stopped")};C.trans=f,C.stop=C.continue=C.continuePrimaryKey=C.advance=()=>{throw new Error("Cursor not started")},C.fail=ue(g),C.next=function(){let L=1;return this.start(()=>L--?this.continue():this.stop()).then(()=>this)},C.start=L=>{const $=new Promise((T,k)=>{T=ue(T),_.onerror=Wt(k),C.fail=k,C.stop=B=>{C.stop=C.continue=C.continuePrimaryKey=C.advance=N,T(B)}}),R=()=>{if(_.result)try{L()}catch(T){C.fail(T)}else C.done=!0,C.start=()=>{throw new Error("Cursor behind last entry")},C.stop()};return _.onsuccess=ue(T=>{_.onsuccess=R,R()}),C.continue=I,C.continuePrimaryKey=P,C.advance=j,R(),$},x(C)},g)})},count({query:f,trans:d}){const{index:p,range:y}=f;return new Promise((m,x)=>{const g=d.objectStore(c),h=p.isPrimaryKey?g:g.index(p.name),v=r(y),E=v?h.count(v):h.count();E.onsuccess=ue(w=>m(w.target.result)),E.onerror=Wt(x)})}}}(l)),o={};return a.forEach(l=>o[l.name]=l),{stack:"dbcore",transaction:e.transaction.bind(e),table(l){if(!o[l])throw new Error(`Table '${l}' not found`);return o[l]},MIN_KEY:-1/0,MAX_KEY:ta(t),schema:i}}function vf({_novip:e},t){const n=t.db,r=function(i,s,{IDBKeyRange:a,indexedDB:o},l){return{dbcore:function(c,f){return f.reduce((d,{create:p})=>({...d,...p(d)}),c)}(iE(s,a,l),i.dbcore)}}(e._middlewares,n,e._deps,t);e.core=r.dbcore,e.tables.forEach(i=>{const s=i.name;e.core.schema.tables.some(a=>a.name===s)&&(i.core=e.core.table(s),e[s]instanceof e.Table&&(e[s].core=i.core))})}function pl({_novip:e},t,n,r){n.forEach(i=>{const s=r[i];t.forEach(a=>{const o=Qd(a,i);(!o||"value"in o&&o.value===void 0)&&(a===e.Transaction.prototype||a instanceof e.Transaction?hn(a,i,{get(){return this.table(i)},set(l){M0(this,i,{value:l,writable:!0,configurable:!0,enumerable:!0})}}):a[i]=new e.Table(i,s))})})}function wf({_novip:e},t){t.forEach(n=>{for(let r in n)n[r]instanceof e.Table&&delete n[r]})}function sE(e,t){return e._cfg.version-t._cfg.version}function aE(e,t,n,r){const i=e._dbSchema,s=e._createTransaction("readwrite",e._storeNames,i);s.create(n),s._completion.catch(r);const a=s._reject.bind(s),o=H.transless||H;Xn(()=>{H.trans=s,H.transless=o,t===0?(xe(i).forEach(l=>{ju(n,l,i[l].primKey,i[l].indexes)}),vf(e,n),z.follow(()=>e.on.populate.fire(s)).catch(a)):function({_novip:l},u,c,f){const d=[],p=l._versions;let y=l._dbSchema=_f(l,l.idbdb,f),m=!1;const x=p.filter(h=>h._cfg.version>=u);function g(){return d.length?z.resolve(d.shift()(c.idbtrans)).then(g):z.resolve()}return x.forEach(h=>{d.push(()=>{const v=y,E=h._cfg.dbschema;xf(l,v,f),xf(l,E,f),y=l._dbSchema=E;const w=hv(v,E);w.add.forEach(_=>{ju(f,_[0],_[1].primKey,_[1].indexes)}),w.change.forEach(_=>{if(_.recreate)throw new Y.Upgrade("Not yet support for changing primary key");{const S=f.objectStore(_.name);_.add.forEach(C=>Af(S,C)),_.change.forEach(C=>{S.deleteIndex(C.name),Af(S,C)}),_.del.forEach(C=>S.deleteIndex(C))}});const A=h._cfg.contentUpgrade;if(A&&h._cfg.version>u){vf(l,f),c._memoizedTables={},m=!0;let _=G0(E);w.del.forEach(P=>{_[P]=v[P]}),wf(l,[l.Transaction.prototype]),pl(l,[l.Transaction.prototype],xe(_),_),c.schema=_;const S=zd(A);let C;S&&Bi();const I=z.follow(()=>{if(C=A(c),C&&S){var P=wn.bind(null,null);C.then(P,P)}});return C&&typeof C.then=="function"?z.resolve(C):I.then(()=>C)}}),d.push(v=>{(!m||!Xx)&&function(E,w){[].slice.call(w.db.objectStoreNames).forEach(A=>E[A]==null&&w.db.deleteObjectStore(A))}(h._cfg.dbschema,v),wf(l,[l.Transaction.prototype]),pl(l,[l.Transaction.prototype],l._storeNames,l._dbSchema),c.schema=l._dbSchema})}),g().then(()=>{var h,v;v=f,xe(h=y).forEach(E=>{v.db.objectStoreNames.contains(E)||ju(v,E,h[E].primKey,h[E].indexes)})})}(e,t,s,n).catch(a)})}function hv(e,t){const n={del:[],add:[],change:[]};let r;for(r in e)t[r]||n.del.push(r);for(r in t){const i=e[r],s=t[r];if(i){const a={name:r,def:s,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(s.primKey.keyPath||"")||i.primKey.auto!==s.primKey.auto&&!Fl)a.recreate=!0,n.change.push(a);else{const o=i.idxByName,l=s.idxByName;let u;for(u in o)l[u]||a.del.push(u);for(u in l){const c=o[u],f=l[u];c?c.src!==f.src&&a.change.push(f):a.add.push(f)}(a.del.length>0||a.add.length>0||a.change.length>0)&&n.change.push(a)}}else n.add.push([r,s])}return n}function ju(e,t,n,r){const i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(s=>Af(i,s)),i}function Af(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function _f(e,t,n){const r={};return ll(t.objectStoreNames,0).forEach(i=>{const s=n.objectStore(i);let a=s.keyPath;const o=gf(fv(a),a||"",!1,!1,!!s.autoIncrement,a&&typeof a!="string",!0),l=[];for(let c=0;c<s.indexNames.length;++c){const f=s.index(s.indexNames[c]);a=f.keyPath;var u=gf(f.name,a,!!f.unique,!!f.multiEntry,!1,a&&typeof a!="string",!1);l.push(u)}r[i]=dv(i,o,l)}),r}function xf({_novip:e},t,n){const r=n.db.objectStoreNames;for(let i=0;i<r.length;++i){const s=r[i],a=n.objectStore(s);e._hasGetAll="getAll"in a;for(let o=0;o<a.indexNames.length;++o){const l=a.indexNames[o],u=a.index(l).keyPath,c=typeof u=="string"?u:"["+ll(u).join("+")+"]";if(t[s]){const f=t[s].idxByName[c];f&&(f.name=l,delete t[s].idxByName[c],t[s].idxByName[l]=f)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&oe.WorkerGlobalScope&&oe instanceof oe.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class oE{_parseStoresSpec(t,n){xe(t).forEach(r=>{if(t[r]!==null){var i=t[r].split(",").map((a,o)=>{const l=(a=a.trim()).replace(/([&*]|\+\+)/g,""),u=/^\[/.test(l)?l.match(/^\[(.*)\]$/)[1].split("+"):l;return gf(l,u||null,/\&/.test(a),/\*/.test(a),/\+\+/.test(a),Ge(u),o===0)}),s=i.shift();if(s.multi)throw new Y.Schema("Primary key cannot be multi-valued");i.forEach(a=>{if(a.auto)throw new Y.Schema("Only primary key can be marked as autoIncrement (++)");if(!a.keyPath)throw new Y.Schema("Index must have a name and cannot be an empty string")}),n[r]=dv(r,s,i)}})}stores(t){const n=this.db;this._cfg.storesSource=this._cfg.storesSource?qe(this._cfg.storesSource,t):t;const r=n._versions,i={};let s={};return r.forEach(a=>{qe(i,a._cfg.storesSource),s=a._cfg.dbschema={},a._parseStoresSpec(i,s)}),n._dbSchema=s,wf(n,[n._allTables,n,n.Transaction.prototype]),pl(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],xe(s),s),n._storeNames=xe(s),this}upgrade(t){return this._cfg.contentUpgrade=Hd(this._cfg.contentUpgrade||ie,t),this}}function Yd(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new _r(jl,{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function qd(e){return e&&typeof e.databases=="function"}function Ef(e){return Xn(function(){return H.letThrough=!0,e()})}function lE(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()}).finally(function(){return clearInterval(e)}):Promise.resolve()}function uE(e){const t=e._state,{indexedDB:n}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(()=>t.dbOpenError?ke(t.dbOpenError):e);Zt&&(t.openCanceller._stackHolder=Lr()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const r=t.openCanceller;function i(){if(t.openCanceller!==r)throw new Y.DatabaseClosed("db.open() was cancelled")}let s=t.dbReadyResolve,a=null,o=!1;const l=()=>new z((u,c)=>{if(i(),!n)throw new Y.MissingAPI;const f=e.name,d=t.autoSchema?n.open(f):n.open(f,Math.round(10*e.verno));if(!d)throw new Y.MissingAPI;d.onerror=Wt(c),d.onblocked=ue(e._fireOnBlocked),d.onupgradeneeded=ue(p=>{if(a=d.transaction,t.autoSchema&&!e._options.allowEmptyDB){d.onerror=Zs,a.abort(),d.result.close();const m=n.deleteDatabase(f);m.onsuccess=m.onerror=ue(()=>{c(new Y.NoSuchDatabase(`Database ${f} doesnt exist`))})}else{a.onerror=Wt(c);var y=p.oldVersion>Math.pow(2,62)?0:p.oldVersion;o=y<1,e._novip.idbdb=d.result,aE(e,y/10,a,c)}},c),d.onsuccess=ue(()=>{a=null;const p=e._novip.idbdb=d.result,y=ll(p.objectStoreNames);if(y.length>0)try{const x=p.transaction((m=y).length===1?m[0]:m,"readonly");t.autoSchema?function({_novip:g},h,v){g.verno=h.version/10;const E=g._dbSchema=_f(0,h,v);g._storeNames=ll(h.objectStoreNames,0),pl(g,[g._allTables],xe(E),E)}(e,p,x):(xf(e,e._dbSchema,x),function(g,h){const v=hv(_f(0,g.idbdb,h),g._dbSchema);return!(v.add.length||v.change.some(E=>E.add.length||E.change.length))}(e,x)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),vf(e,x)}catch{}var m;Is.push(e),p.onversionchange=ue(x=>{t.vcFired=!0,e.on("versionchange").fire(x)}),p.onclose=ue(x=>{e.on("close").fire(x)}),o&&function({indexedDB:x,IDBKeyRange:g},h){!qd(x)&&h!==jl&&Yd(x,g).put({name:h}).catch(ie)}(e._deps,f),u()},c)}).catch(u=>u&&u.name==="UnknownError"&&t.PR1398_maxLoop>0?(t.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),l()):z.reject(u));return z.race([r,(typeof navigator>"u"?z.resolve():lE()).then(l)]).then(()=>(i(),t.onReadyBeingFired=[],z.resolve(Ef(()=>e.on.ready.fire(e.vip))).then(function u(){if(t.onReadyBeingFired.length>0){let c=t.onReadyBeingFired.reduce(Hd,ie);return t.onReadyBeingFired=[],z.resolve(Ef(()=>c(e.vip))).then(u)}}))).finally(()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1}).then(()=>e).catch(u=>{t.dbOpenError=u;try{a&&a.abort()}catch{}return r===t.openCanceller&&e._close(),ke(u)}).finally(()=>{t.openComplete=!0,s()})}function Sf(e){var t=s=>e.next(s),n=i(t),r=i(s=>e.throw(s));function i(s){return a=>{var o=s(a),l=o.value;return o.done?l:l&&typeof l.then=="function"?l.then(n,r):Ge(l)?Promise.all(l).then(n,r):n(l)}}return i(t)()}function cE(e,t,n){var r=arguments.length;if(r<2)throw new Y.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];return n=i.pop(),[e,W0(i),n]}function pv(e,t,n,r,i){return z.resolve().then(()=>{const s=H.transless||H,a=e._createTransaction(t,n,e._dbSchema,r),o={trans:a,transless:s};if(r)a.idbtrans=r.idbtrans;else try{a.create(),e._state.PR1398_maxLoop=3}catch(f){return f.name===Wd.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>pv(e,t,n,null,i))):ke(f)}const l=zd(i);let u;l&&Bi();const c=z.follow(()=>{if(u=i.call(a,a),u)if(l){var f=wn.bind(null,null);u.then(f,f)}else typeof u.next=="function"&&typeof u.throw=="function"&&(u=Sf(u))},o);return(u&&typeof u.then=="function"?z.resolve(u).then(f=>a.active?f:ke(new Y.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):c.then(()=>u)).then(f=>(r&&a._resolve(),a._completion.then(()=>f))).catch(f=>(a._reject(f),ke(f)))})}function Va(e,t,n){const r=Ge(e)?e.slice():[e];for(let i=0;i<n;++i)r.push(t);return r}const fE={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const n=e.table(t),{schema:r}=n,i={},s=[];function a(c,f,d){const p=ks(c),y=i[p]=i[p]||[],m=c==null?0:typeof c=="string"?1:c.length,x=f>0,g={...d,isVirtual:x,keyTail:f,keyLength:m,extractKey:yf(c),unique:!x&&d.unique};return y.push(g),g.isPrimaryKey||s.push(g),m>1&&a(m===2?c[0]:c.slice(0,m-1),f+1,d),y.sort((h,v)=>h.keyTail-v.keyTail),g}const o=a(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[o];for(const c of r.indexes)a(c.keyPath,0,c);function l(c){const f=c.query.index;return f.isVirtual?{...c,query:{index:f,range:(d=c.query.range,p=f.keyTail,{type:d.type===1?2:d.type,lower:Va(d.lower,d.lowerOpen?e.MAX_KEY:e.MIN_KEY,p),lowerOpen:!0,upper:Va(d.upper,d.upperOpen?e.MIN_KEY:e.MAX_KEY,p),upperOpen:!0})}}:c;var d,p}return{...n,schema:{...r,primaryKey:o,indexes:s,getIndexByKeyPath:function(c){const f=i[ks(c)];return f&&f[0]}},count:c=>n.count(l(c)),query:c=>n.query(l(c)),openCursor(c){const{keyTail:f,isVirtual:d,keyLength:p}=c.query.index;return d?n.openCursor(l(c)).then(y=>y&&function(m){return Object.create(m,{continue:{value:function(g){g!=null?m.continue(Va(g,c.reverse?e.MAX_KEY:e.MIN_KEY,f)):c.unique?m.continue(m.key.slice(0,p).concat(c.reverse?e.MIN_KEY:e.MAX_KEY,f)):m.continue()}},continuePrimaryKey:{value(g,h){m.continuePrimaryKey(Va(g,e.MAX_KEY,f),h)}},primaryKey:{get:()=>m.primaryKey},key:{get(){const g=m.key;return p===1?g[0]:g.slice(0,p)}},value:{get:()=>m.value}})}(y)):n.openCursor(c)}}}}}};function Jd(e,t,n,r){return n=n||{},r=r||"",xe(e).forEach(i=>{if(gt(t,i)){var s=e[i],a=t[i];if(typeof s=="object"&&typeof a=="object"&&s&&a){const o=nf(s);o!==nf(a)?n[r+i]=t[i]:o==="Object"?Jd(s,a,n,r+i+"."):s!==a&&(n[r+i]=t[i])}else s!==a&&(n[r+i]=t[i])}else n[r+i]=void 0}),xe(t).forEach(i=>{gt(e,i)||(n[r+i]=t[i])}),n}const dE={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const n=e.table(t),{primaryKey:r}=n.schema;return{...n,mutate(s){const a=H.trans,{deleting:o,creating:l,updating:u}=a.table(t).hook;switch(s.type){case"add":if(l.fire===ie)break;return a._promise("readwrite",()=>c(s),!0);case"put":if(l.fire===ie&&u.fire===ie)break;return a._promise("readwrite",()=>c(s),!0);case"delete":if(o.fire===ie)break;return a._promise("readwrite",()=>c(s),!0);case"deleteRange":if(o.fire===ie)break;return a._promise("readwrite",()=>function(d){return f(d.trans,d.range,1e4)}(s),!0)}return n.mutate(s);function c(d){const p=H.trans,y=d.keys||function(m,x){return x.type==="delete"?x.keys:x.keys||x.values.map(m.extractKey)}(r,d);if(!y)throw new Error("Keys missing");return(d=d.type==="add"||d.type==="put"?{...d,keys:y}:{...d}).type!=="delete"&&(d.values=[...d.values]),d.keys&&(d.keys=[...d.keys]),function(m,x,g){return x.type==="add"?Promise.resolve([]):m.getMany({trans:x.trans,keys:g,cache:"immutable"})}(n,d,y).then(m=>{const x=y.map((g,h)=>{const v=m[h],E={onerror:null,onsuccess:null};if(d.type==="delete")o.fire.call(E,g,v,p);else if(d.type==="add"||v===void 0){const w=l.fire.call(E,g,d.values[h],p);g==null&&w!=null&&(g=w,d.keys[h]=g,r.outbound||Dt(d.values[h],r.keyPath,g))}else{const w=Jd(v,d.values[h]),A=u.fire.call(E,w,g,v,p);if(A){const _=d.values[h];Object.keys(A).forEach(S=>{gt(_,S)?_[S]=A[S]:Dt(_,S,A[S])})}}return E});return n.mutate(d).then(({failures:g,results:h,numFailures:v,lastResult:E})=>{for(let w=0;w<y.length;++w){const A=h?h[w]:y[w],_=x[w];A==null?_.onerror&&_.onerror(g[w]):_.onsuccess&&_.onsuccess(d.type==="put"&&m[w]?d.values[w]:A)}return{failures:g,results:h,numFailures:v,lastResult:E}}).catch(g=>(x.forEach(h=>h.onerror&&h.onerror(g)),Promise.reject(g)))})}function f(d,p,y){return n.query({trans:d,values:!1,query:{index:r,range:p},limit:y}).then(({result:m})=>c({type:"delete",keys:m,trans:d}).then(x=>x.numFailures>0?Promise.reject(x.failures[0]):m.length<y?{failures:[],numFailures:0,lastResult:void 0}:f(d,{...p,lower:m[m.length-1],lowerOpen:!0},y)))}}}}})};function mv(e,t,n){try{if(!t||t.keys.length<e.length)return null;const r=[];for(let i=0,s=0;i<t.keys.length&&s<e.length;++i)Xe(t.keys[i],e[s])===0&&(r.push(n?da(t.values[i]):t.values[i]),++s);return r.length===e.length?r:null}catch{return null}}const hE={stack:"dbcore",level:-1,create:e=>({table:t=>{const n=e.table(t);return{...n,getMany:r=>{if(!r.cache)return n.getMany(r);const i=mv(r.keys,r.trans._cache,r.cache==="clone");return i?z.resolve(i):n.getMany(r).then(s=>(r.trans._cache={keys:r.keys,values:r.cache==="clone"?da(s):s},s))},mutate:r=>(r.type!=="add"&&(r.trans._cache=null),n.mutate(r))}}})};function Zd(e){return!("from"in e)}const on=function(e,t){if(!this){const n=new on;return e&&"d"in e&&qe(n,e),n}qe(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function na(e,t,n){const r=Xe(t,n);if(isNaN(r))return;if(r>0)throw RangeError();if(Zd(e))return qe(e,{from:t,to:n,d:1});const i=e.l,s=e.r;if(Xe(n,e.from)<0)return i?na(i,t,n):e.l={from:t,to:n,d:1,l:null,r:null},Im(e);if(Xe(t,e.to)>0)return s?na(s,t,n):e.r={from:t,to:n,d:1,l:null,r:null},Im(e);Xe(t,e.from)<0&&(e.from=t,e.l=null,e.d=s?s.d+1:1),Xe(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);const a=!e.r;i&&!e.l&&ml(e,i),s&&a&&ml(e,s)}function ml(e,t){Zd(t)||function n(r,{from:i,to:s,l:a,r:o}){na(r,i,s),a&&n(r,a),o&&n(r,o)}(e,t)}function pE(e,t){const n=Cf(t);let r=n.next();if(r.done)return!1;let i=r.value;const s=Cf(e);let a=s.next(i.from),o=a.value;for(;!r.done&&!a.done;){if(Xe(o.from,i.to)<=0&&Xe(o.to,i.from)>=0)return!0;Xe(i.from,o.from)<0?i=(r=n.next(o.from)).value:o=(a=s.next(i.from)).value}return!1}function Cf(e){let t=Zd(e)?null:{s:0,n:e};return{next(n){const r=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,r)for(;t.n.l&&Xe(n,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!r||Xe(n,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Im(e){var t,n;const r=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((n=e.l)===null||n===void 0?void 0:n.d)||0),i=r>1?"r":r<-1?"l":"";if(i){const s=i==="r"?"l":"r",a={...e},o=e[i];e.from=o.from,e.to=o.to,e[i]=o[i],a[i]=o[s],e[s]=a,a.d=bm(a)}e.d=bm(e)}function bm({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}Si(on.prototype,{add(e){return ml(this,e),this},addKey(e){return na(this,e,e),this},addKeys(e){return e.forEach(t=>na(this,t,t)),this},[rf](){return Cf(this)}});const mE={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,n=new on(e.MIN_KEY,e.MAX_KEY);return{...e,table:r=>{const i=e.table(r),{schema:s}=i,{primaryKey:a}=s,{extractKey:o,outbound:l}=a,u={...i,mutate:d=>{const p=d.trans,y=p.mutatedParts||(p.mutatedParts={}),m=A=>{const _=`idb://${t}/${r}/${A}`;return y[_]||(y[_]=new on)},x=m(""),g=m(":dels"),{type:h}=d;let[v,E]=d.type==="deleteRange"?[d.range]:d.type==="delete"?[d.keys]:d.values.length<50?[[],d.values]:[];const w=d.trans._cache;return i.mutate(d).then(A=>{if(Ge(v)){h!=="delete"&&(v=A.results),x.addKeys(v);const _=mv(v,w);_||h==="add"||g.addKeys(v),(_||E)&&function(S,C,I,P){function j(N){const L=S(N.name||"");function $(T){return T!=null?N.extractKey(T):null}const R=T=>N.multiEntry&&Ge(T)?T.forEach(k=>L.addKey(k)):L.addKey(T);(I||P).forEach((T,k)=>{const B=I&&$(I[k]),O=P&&$(P[k]);Xe(B,O)!==0&&(B!=null&&R(B),O!=null&&R(O))})}C.indexes.forEach(j)}(m,s,_,E)}else if(v){const _={from:v.lower,to:v.upper};g.add(_),x.add(_)}else x.add(n),g.add(n),s.indexes.forEach(_=>m(_.name).add(n));return A})}},c=({query:{index:d,range:p}})=>{var y,m;return[d,new on((y=p.lower)!==null&&y!==void 0?y:e.MIN_KEY,(m=p.upper)!==null&&m!==void 0?m:e.MAX_KEY)]},f={get:d=>[a,new on(d.key)],getMany:d=>[a,new on().addKeys(d.keys)],count:c,query:c,openCursor:c};return xe(f).forEach(d=>{u[d]=function(p){const{subscr:y}=H;if(y){const m=E=>{const w=`idb://${t}/${r}/${E}`;return y[w]||(y[w]=new on)},x=m(""),g=m(":dels"),[h,v]=f[d](p);if(m(h.name||"").add(v),!h.isPrimaryKey){if(d!=="count"){const E=d==="query"&&l&&p.values&&i.query({...p,values:!1});return i[d].apply(this,arguments).then(w=>{if(d==="query"){if(l&&p.values)return E.then(({result:_})=>(x.addKeys(_),w));const A=p.values?w.result.map(o):w.result;p.values?x.addKeys(A):g.addKeys(A)}else if(d==="openCursor"){const A=w,_=p.values;return A&&Object.create(A,{key:{get:()=>(g.addKey(A.primaryKey),A.key)},primaryKey:{get(){const S=A.primaryKey;return g.addKey(S),S}},value:{get:()=>(_&&x.addKey(A.primaryKey),A.value)}})}return w})}g.add(n)}}return i[d].apply(this,arguments)}}),u}}}};class _r{constructor(t,n){this._middlewares={},this.verno=0;const r=_r.dependencies;this._options=n={addons:_r.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,...n},this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};const{addons:i}=n;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const s={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ie,dbReadyPromise:null,cancelOpen:ie,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var a;s.dbReadyPromise=new z(o=>{s.dbReadyResolve=o}),s.openCanceller=new z((o,l)=>{s.cancelOpen=l}),this._state=s,this.name=t,this.on=bs(this,"populate","blocked","versionchange","close",{ready:[Hd,ie]}),this.on.ready.subscribe=U0(this.on.ready.subscribe,o=>(l,u)=>{_r.vip(()=>{const c=this._state;if(c.openComplete)c.dbOpenError||z.resolve().then(l),u&&o(l);else if(c.onReadyBeingFired)c.onReadyBeingFired.push(l),u&&o(l);else{o(l);const f=this;u||o(function d(){f.on.ready.unsubscribe(l),f.on.ready.unsubscribe(d)})}})}),this.Collection=(a=this,Ji(Jx.prototype,function(o,l){this.db=a;let u=lv,c=null;if(l)try{u=l()}catch(y){c=y}const f=o._ctx,d=f.table,p=d.hook.reading.fire;this._ctx={table:d,index:f.index,isPrimKey:!f.index||d.schema.primKey.keyPath&&f.index===d.schema.primKey.name,range:u,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:c,or:f.or,valueMapper:p!==qs?p:null}})),this.Table=function(o){return Ji(qx.prototype,function(l,u,c){this.db=o,this._tx=c,this.name=l,this.schema=u,this.hook=o._allTables[l]?o._allTables[l].hook:bs(null,{creating:[jx,ie],reading:[Fx,qs],updating:[Ux,ie],deleting:[Mx,ie]})})}(this),this.Transaction=function(o){return Ji(nE.prototype,function(l,u,c,f,d){this.db=o,this.mode=l,this.storeNames=u,this.schema=c,this.chromeTransactionDurability=f,this.idbtrans=null,this.on=bs(this,"complete","error","abort"),this.parent=d||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new z((p,y)=>{this._resolve=p,this._reject=y}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},p=>{var y=this.active;return this.active=!1,this.on.error.fire(p),this.parent?this.parent._reject(p):y&&this.idbtrans&&this.idbtrans.abort(),ke(p)})})}(this),this.Version=function(o){return Ji(oE.prototype,function(l){this.db=o,this._cfg={version:l,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(o){return Ji(cv.prototype,function(l,u,c){this.db=o,this._ctx={table:l,index:u===":id"?null:u,or:c};const f=o._deps.indexedDB;if(!f)throw new Y.MissingAPI;this._cmp=this._ascending=f.cmp.bind(f),this._descending=(d,p)=>f.cmp(p,d),this._max=(d,p)=>f.cmp(d,p)>0?d:p,this._min=(d,p)=>f.cmp(d,p)<0?d:p,this._IDBKeyRange=o._deps.IDBKeyRange})}(this),this.on("versionchange",o=>{o.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",o=>{!o.newVersion||o.newVersion<o.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${o.oldVersion/10}`)}),this._maxKey=ta(n.IDBKeyRange),this._createTransaction=(o,l,u,c)=>new this.Transaction(o,l,u,this._options.chromeTransactionDurability,c),this._fireOnBlocked=o=>{this.on("blocked").fire(o),Is.filter(l=>l.name===this.name&&l!==this&&!l._state.vcFired).map(l=>l.on("versionchange").fire(o))},this.use(fE),this.use(dE),this.use(mE),this.use(hE),this.vip=Object.create(this,{_vip:{value:!0}}),i.forEach(o=>o(this))}version(t){if(isNaN(t)||t<.1)throw new Y.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new Y.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);const n=this._versions;var r=n.filter(i=>i._cfg.version===t)[0];return r||(r=new this.Version(t),n.push(r),n.sort(sE),r.stores({}),this._state.autoSchema=!1,r)}_whenReady(t){return this.idbdb&&(this._state.openComplete||H.letThrough||this._vip)?t():new z((n,r)=>{if(this._state.openComplete)return r(new Y.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void r(new Y.DatabaseClosed);this.open().catch(ie)}this._state.dbReadyPromise.then(n,r)}).then(t)}use({stack:t,create:n,level:r,name:i}){i&&this.unuse({stack:t,name:i});const s=this._middlewares[t]||(this._middlewares[t]=[]);return s.push({stack:t,create:n,level:r??10,name:i}),s.sort((a,o)=>a.level-o.level),this}unuse({stack:t,name:n,create:r}){return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(i=>r?i.create!==r:!!n&&i.name!==n)),this}open(){return uE(this)}_close(){const t=this._state,n=Is.indexOf(this);if(n>=0&&Is.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}t.dbReadyPromise=new z(r=>{t.dbReadyResolve=r}),t.openCanceller=new z((r,i)=>{t.cancelOpen=i})}close(){this._close();const t=this._state;this._options.autoOpen=!1,t.dbOpenError=new Y.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)}delete(){const t=arguments.length>0,n=this._state;return new z((r,i)=>{const s=()=>{this.close();var a=this._deps.indexedDB.deleteDatabase(this.name);a.onsuccess=ue(()=>{(function({indexedDB:o,IDBKeyRange:l},u){!qd(o)&&u!==jl&&Yd(o,l).delete(u).catch(ie)})(this._deps,this.name),r()}),a.onerror=Wt(i),a.onblocked=this._fireOnBlocked};if(t)throw new Y.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(s):s()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return xe(this._allTables).map(t=>this._allTables[t])}transaction(){const t=cE.apply(this,arguments);return this._transaction.apply(this,t)}_transaction(t,n,r){let i=H.trans;i&&i.db===this&&t.indexOf("!")===-1||(i=null);const s=t.indexOf("?")!==-1;let a,o;t=t.replace("!","").replace("?","");try{if(o=n.map(u=>{var c=u instanceof this.Table?u.name:u;if(typeof c!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return c}),t=="r"||t===Lu)a=Lu;else{if(t!="rw"&&t!=$u)throw new Y.InvalidArgument("Invalid transaction mode: "+t);a=$u}if(i){if(i.mode===Lu&&a===$u){if(!s)throw new Y.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i=null}i&&o.forEach(u=>{if(i&&i.storeNames.indexOf(u)===-1){if(!s)throw new Y.SubTransaction("Table "+u+" not included in parent transaction.");i=null}}),s&&i&&!i.active&&(i=null)}}catch(u){return i?i._promise(null,(c,f)=>{f(u)}):ke(u)}const l=pv.bind(null,this,a,o,i,r);return i?i._promise(a,l,"lock"):H.trans?Oi(H.transless,()=>this._whenReady(l)):this._whenReady(l)}table(t){if(!gt(this._allTables,t))throw new Y.InvalidTable(`Table ${t} does not exist`);return this._allTables[t]}}const gE=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class yE{constructor(t){this._subscribe=t}subscribe(t,n,r){return this._subscribe(t&&typeof t!="function"?t:{next:t,error:n,complete:r})}[gE](){return this}}function gv(e,t){return xe(t).forEach(n=>{ml(e[n]||(e[n]=new on),t[n])}),e}function yv(e){let t,n=!1;const r=new yE(i=>{const s=zd(e);let a=!1,o={},l={};const u={get closed(){return a},unsubscribe:()=>{a=!0,qn.storagemutated.unsubscribe(p)}};i.start&&i.start(u);let c=!1,f=!1;function d(){return xe(l).some(m=>o[m]&&pE(o[m],l[m]))}const p=m=>{gv(o,m),d()&&y()},y=()=>{if(c||a)return;o={};const m={},x=function(g){s&&Bi();const h=()=>Xn(e,{subscr:g,trans:null}),v=H.trans?Oi(H.transless,h):h();return s&&v.then(wn,wn),v}(m);f||(qn(ea,p),f=!0),c=!0,Promise.resolve(x).then(g=>{n=!0,t=g,c=!1,a||(d()?y():(o={},l=m,i.next&&i.next(g)))},g=>{c=!1,n=!1,i.error&&i.error(g),u.unsubscribe()})};return y(),u});return r.hasValue=()=>n,r.getValue=()=>t,r}let If;try{If={indexedDB:oe.indexedDB||oe.mozIndexedDB||oe.webkitIndexedDB||oe.msIndexedDB,IDBKeyRange:oe.IDBKeyRange||oe.webkitIDBKeyRange}}catch{If={indexedDB:null,IDBKeyRange:null}}const sr=_r;function Po(e){let t=fn;try{fn=!0,qn.storagemutated.fire(e)}finally{fn=t}}Si(sr,{...So,delete:e=>new sr(e,{addons:[]}).delete(),exists:e=>new sr(e,{addons:[]}).open().then(t=>(t.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(e){try{return function({indexedDB:t,IDBKeyRange:n}){return qd(t)?Promise.resolve(t.databases()).then(r=>r.map(i=>i.name).filter(i=>i!==jl)):Yd(t,n).toCollection().primaryKeys()}(sr.dependencies).then(e)}catch{return ke(new Y.MissingAPI)}},defineClass:()=>function(e){qe(this,e)},ignoreTransaction:e=>H.trans?Oi(H.transless,e):e(),vip:Ef,async:function(e){return function(){try{var t=Sf(e.apply(this,arguments));return t&&typeof t.then=="function"?t:z.resolve(t)}catch(n){return ke(n)}}},spawn:function(e,t,n){try{var r=Sf(e.apply(n,t||[]));return r&&typeof r.then=="function"?r:z.resolve(r)}catch(i){return ke(i)}},currentTransaction:{get:()=>H.trans||null},waitFor:function(e,t){const n=z.resolve(typeof e=="function"?sr.ignoreTransaction(e):e).timeout(t||6e4);return H.trans?H.trans.waitFor(n):n},Promise:z,debug:{get:()=>Zt,set:e=>{V0(e,e==="dexie"?()=>!0:ov)}},derive:fi,extend:qe,props:Si,override:U0,Events:bs,on:qn,liveQuery:yv,extendObservabilitySet:gv,getByKeyPath:pn,setByKeyPath:Dt,delByKeyPath:function(e,t){typeof t=="string"?Dt(e,t,void 0):"length"in t&&[].map.call(t,function(n){Dt(e,n,void 0)})},shallowClone:G0,deepClone:da,getObjectDiff:Jd,cmp:Xe,asap:Q0,minKey:mf,addons:[],connections:Is,errnames:Wd,dependencies:If,semVer:Am,version:Am.split(".").map(e=>parseInt(e)).reduce((e,t,n)=>e+t/Math.pow(10,2*n))}),sr.maxKey=ta(sr.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(qn(ea,e=>{if(!fn){let t;Fl?(t=document.createEvent("CustomEvent"),t.initCustomEvent(Tn,!0,!0,e)):t=new CustomEvent(Tn,{detail:e}),fn=!0,dispatchEvent(t),fn=!1}}),addEventListener(Tn,({detail:e})=>{fn||Po(e)}));let fn=!1;if(typeof BroadcastChannel<"u"){const e=new BroadcastChannel(Tn);typeof e.unref=="function"&&e.unref(),qn(ea,t=>{fn||e.postMessage(t)}),e.onmessage=t=>{t.data&&Po(t.data)}}else if(typeof self<"u"&&typeof navigator<"u"){qn(ea,t=>{try{fn||(typeof localStorage<"u"&&localStorage.setItem(Tn,JSON.stringify({trig:Math.random(),changedParts:t})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(n=>n.postMessage({type:Tn,changedParts:t})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",t=>{if(t.key===Tn){const n=JSON.parse(t.newValue);n&&Po(n.changedParts)}});const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",function({data:t}){t&&t.type===Tn&&Po(t.changedParts)})}z.rejectionMapper=function(e,t){if(!e||e instanceof di||e instanceof TypeError||e instanceof SyntaxError||!e.name||!gm[e.name])return e;var n=new gm[e.name](t||e.message,e);return"stack"in e&&hn(n,"stack",{get:function(){return this.inner.stack}}),n},V0(Zt,ov);function vE(e,t,n){var r,i;typeof e=="function"?(r=t||[],i=n):(r=[],i=t);var s=Pn.useRef({hasResult:!1,result:i,error:null}),a=Pn.useReducer(function(u){return u+1},0);a[0];var o=a[1],l=Pn.useMemo(function(){var u=typeof e=="function"?e():e;if(!u||typeof u.subscribe!="function")throw e===u?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!s.current.hasResult&&typeof window<"u"&&(typeof u.hasValue!="function"||u.hasValue()))if(typeof u.getValue=="function")s.current.result=u.getValue(),s.current.hasResult=!0;else{var c=u.subscribe(function(f){s.current.result=f,s.current.hasResult=!0});typeof c=="function"?c():c.unsubscribe()}return u},r);if(Pn.useDebugValue(s.current.result),Pn.useEffect(function(){var u=l.subscribe(function(c){var f=s.current;(f.error!==null||f.result!==c)&&(f.error=null,f.result=c,f.hasResult=!0,o())},function(c){var f=s.current;f.error!==c&&(f.error=c,o())});return typeof u=="function"?u:u.unsubscribe.bind(u)},r),s.current.error)throw s.current.error;return s.current.result}function eh(e,t,n){return vE(function(){return yv(e)},t||[],n)}class wE extends _r{constructor(){super("MealLensDB"),this.version(1).stores({settings:"key",meals:"++id, timestamp, date",foodItems:"++id, mealId"}),this.version(2).stores({settings:"key",meals:"++id, timestamp, date",foodItems:"++id, mealId",versionState:"&key, lastDismissedAt, lastCheckAt"})}}const en=new wE,ra=en.table("settings"),Rr=en.table("meals"),Pr=en.table("foodItems");en.table("versionState");async function bf(e){const t=await ra.get(e);return t==null?void 0:t.value}async function km(e,t,n=!1){if(!e||typeof e!="string")throw new Error("Setting key must be a non-empty string");if(e==="apiKey"&&!n&&typeof t=="string"&&!t.startsWith("sk-"))throw new Error('API key must start with "sk-"');await ra.put({key:e,value:t,encrypted:n})}async function Rm(e){await ra.delete(e)}async function AE(e){if(!/^\d{4}-\d{2}-\d{2}$/.test(e))throw new Error("Date must be in YYYY-MM-DD format");return await Rr.where("date").equals(e).sortBy("timestamp")}async function _E(e,t){if(!e.timestamp||e.timestamp<=0)throw new Error("Invalid timestamp");if(!/^\d{4}-\d{2}-\d{2}$/.test(e.date))throw new Error("Date must be in YYYY-MM-DD format");if(e.totalCalories<0)throw new Error("Total calories must be non-negative");if(!Array.isArray(t)||t.length===0)throw new Error("Cannot save meal with 0 food items");return t.forEach((n,r)=>{if(!n.name||n.name.length===0||n.name.length>100)throw new Error(`Food item ${r}: name must be 1-100 characters`);if(!n.grams||n.grams<1)throw new Error(`Food item ${r}: grams must be >= 1`);if(n.calories<0)throw new Error(`Food item ${r}: calories must be non-negative`);if(!["high","medium","low"].includes(n.confidence))throw new Error(`Food item ${r}: confidence must be high, medium, or low`)}),await en.transaction("rw",Rr,Pr,async()=>{const n=await Rr.add(e),r=t.map(i=>({...i,mealId:n}));return await Pr.bulkAdd(r),n})}async function xE(e){await en.transaction("rw",Rr,Pr,async()=>{await Pr.where("mealId").equals(e).delete(),await Rr.delete(e)})}async function EE(e){return await Pr.where("mealId").equals(e).toArray()}async function SE(){await en.transaction("rw",ra,Rr,Pr,async()=>{await ra.clear(),await Rr.clear(),await Pr.clear()})}async function CE(e){if(!window.crypto||!window.crypto.subtle)return console.warn("SubtleCrypto not available, storing API key without encryption"),{encrypted:e,salt:null};try{const t=window.crypto.getRandomValues(new Uint8Array(16)),n=await window.crypto.subtle.importKey("raw",new TextEncoder().encode("meallens-local-encryption-key"),{name:"PBKDF2"},!1,["deriveBits","deriveKey"]),r=await window.crypto.subtle.deriveKey({name:"PBKDF2",salt:t,iterations:1e5,hash:"SHA-256"},n,{name:"AES-GCM",length:256},!1,["encrypt"]),i=window.crypto.getRandomValues(new Uint8Array(12)),s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:i},r,new TextEncoder().encode(e)),a=new Uint8Array(i.length+s.byteLength);return a.set(i),a.set(new Uint8Array(s),i.length),{encrypted:btoa(String.fromCharCode(...a)),salt:btoa(String.fromCharCode(...t))}}catch(t){return console.error("Encryption failed:",t),{encrypted:e,salt:null}}}async function IE(e,t){if(!t||!window.crypto||!window.crypto.subtle)return e;try{const n=Uint8Array.from(atob(e),u=>u.charCodeAt(0)),r=Uint8Array.from(atob(t),u=>u.charCodeAt(0)),i=n.slice(0,12),s=n.slice(12),a=await window.crypto.subtle.importKey("raw",new TextEncoder().encode("meallens-local-encryption-key"),{name:"PBKDF2"},!1,["deriveBits","deriveKey"]),o=await window.crypto.subtle.deriveKey({name:"PBKDF2",salt:r,iterations:1e5,hash:"SHA-256"},a,{name:"AES-GCM",length:256},!1,["decrypt"]),l=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:i},o,s);return new TextDecoder().decode(l)}catch(n){throw console.error("Decryption failed:",n),new Error("Failed to decrypt API key")}}async function bE(e){if(!e||typeof e!="string")throw new Error("API key is required");if(!e.startsWith("sk-"))throw new Error('API key must start with "sk-"');const{encrypted:t,salt:n}=await CE(e);await km("apiKey",t,!0),n&&await km("apiKeySalt",n,!1)}async function vv(){const e=await bf("apiKey");if(!e)return null;const t=await bf("apiKeySalt");return await IE(e,t)}function kE(e){return eh(()=>bf(e),[e])}const wv=F.createContext(null);function RE({children:e}){const t=bx(),n=kE("apiKey"),[r,i]=F.useState(null),[s,a]=F.useState(null),o={isOnline:t,apiKey:n,currentMeal:r,setCurrentMeal:i,currentImage:s,setCurrentImage:a};return b.jsx(wv.Provider,{value:o,children:e})}function th(){const e=F.useContext(wv);if(!e)throw new Error("useAppContext must be used within AppProvider");return e}class PE extends Pn.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("React Error Boundary caught:",t,n)}render(){var t;return this.state.hasError?b.jsxs("div",{style:{padding:"20px",textAlign:"center",fontFamily:"sans-serif"},children:[b.jsx("h1",{children:"Something went wrong"}),b.jsx("p",{children:((t=this.state.error)==null?void 0:t.message)||"An unexpected error occurred"}),b.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"10px 20px",fontSize:"16px",marginTop:"20px",cursor:"pointer"},children:"Reload App"})]}):this.props.children}}function BE(){const{isOnline:e}=th();return e?null:b.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,backgroundColor:"#F39C12",color:"white",padding:"10px",textAlign:"center",zIndex:9999,fontSize:"14px",fontFamily:"sans-serif"},children:" You are offline. AI analysis unavailable. You can still view saved meals."})}var kf={exports:{}};const OE="2.0.0",Av=256,TE=Number.MAX_SAFE_INTEGER||9007199254740991,LE=16,$E=Av-6,NE=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var Ml={MAX_LENGTH:Av,MAX_SAFE_COMPONENT_LENGTH:LE,MAX_SAFE_BUILD_LENGTH:$E,MAX_SAFE_INTEGER:TE,RELEASE_TYPES:NE,SEMVER_SPEC_VERSION:OE,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Mu={};const DE=typeof process=="object"&&Mu&&Mu.NODE_DEBUG&&/\bsemver\b/i.test(Mu.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var Ul=DE;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=Ml,s=Ul;t=e.exports={};const a=t.re=[],o=t.safeRe=[],l=t.src=[],u=t.safeSrc=[],c=t.t={};let f=0;const d="[a-zA-Z0-9-]",p=[["\\s",1],["\\d",i],[d,r]],y=x=>{for(const[g,h]of p)x=x.split(`${g}*`).join(`${g}{0,${h}}`).split(`${g}+`).join(`${g}{1,${h}}`);return x},m=(x,g,h)=>{const v=y(g),E=f++;s(x,E,g),c[x]=E,l[E]=g,u[E]=v,a[E]=new RegExp(g,h?"g":void 0),o[E]=new RegExp(v,h?"g":void 0)};m("NUMERICIDENTIFIER","0|[1-9]\\d*"),m("NUMERICIDENTIFIERLOOSE","\\d+"),m("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),m("MAINVERSION",`(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})`),m("MAINVERSIONLOOSE",`(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASEIDENTIFIER",`(?:${l[c.NONNUMERICIDENTIFIER]}|${l[c.NUMERICIDENTIFIER]})`),m("PRERELEASEIDENTIFIERLOOSE",`(?:${l[c.NONNUMERICIDENTIFIER]}|${l[c.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASE",`(?:-(${l[c.PRERELEASEIDENTIFIER]}(?:\\.${l[c.PRERELEASEIDENTIFIER]})*))`),m("PRERELEASELOOSE",`(?:-?(${l[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[c.PRERELEASEIDENTIFIERLOOSE]})*))`),m("BUILDIDENTIFIER",`${d}+`),m("BUILD",`(?:\\+(${l[c.BUILDIDENTIFIER]}(?:\\.${l[c.BUILDIDENTIFIER]})*))`),m("FULLPLAIN",`v?${l[c.MAINVERSION]}${l[c.PRERELEASE]}?${l[c.BUILD]}?`),m("FULL",`^${l[c.FULLPLAIN]}$`),m("LOOSEPLAIN",`[v=\\s]*${l[c.MAINVERSIONLOOSE]}${l[c.PRERELEASELOOSE]}?${l[c.BUILD]}?`),m("LOOSE",`^${l[c.LOOSEPLAIN]}$`),m("GTLT","((?:<|>)?=?)"),m("XRANGEIDENTIFIERLOOSE",`${l[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),m("XRANGEIDENTIFIER",`${l[c.NUMERICIDENTIFIER]}|x|X|\\*`),m("XRANGEPLAIN",`[v=\\s]*(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:${l[c.PRERELEASE]})?${l[c.BUILD]}?)?)?`),m("XRANGEPLAINLOOSE",`[v=\\s]*(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:${l[c.PRERELEASELOOSE]})?${l[c.BUILD]}?)?)?`),m("XRANGE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAIN]}$`),m("XRANGELOOSE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAINLOOSE]}$`),m("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),m("COERCE",`${l[c.COERCEPLAIN]}(?:$|[^\\d])`),m("COERCEFULL",l[c.COERCEPLAIN]+`(?:${l[c.PRERELEASE]})?(?:${l[c.BUILD]})?(?:$|[^\\d])`),m("COERCERTL",l[c.COERCE],!0),m("COERCERTLFULL",l[c.COERCEFULL],!0),m("LONETILDE","(?:~>?)"),m("TILDETRIM",`(\\s*)${l[c.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",m("TILDE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAIN]}$`),m("TILDELOOSE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAINLOOSE]}$`),m("LONECARET","(?:\\^)"),m("CARETTRIM",`(\\s*)${l[c.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",m("CARET",`^${l[c.LONECARET]}${l[c.XRANGEPLAIN]}$`),m("CARETLOOSE",`^${l[c.LONECARET]}${l[c.XRANGEPLAINLOOSE]}$`),m("COMPARATORLOOSE",`^${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]})$|^$`),m("COMPARATOR",`^${l[c.GTLT]}\\s*(${l[c.FULLPLAIN]})$|^$`),m("COMPARATORTRIM",`(\\s*)${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]}|${l[c.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",m("HYPHENRANGE",`^\\s*(${l[c.XRANGEPLAIN]})\\s+-\\s+(${l[c.XRANGEPLAIN]})\\s*$`),m("HYPHENRANGELOOSE",`^\\s*(${l[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[c.XRANGEPLAINLOOSE]})\\s*$`),m("STAR","(<|>)?=?\\s*\\*"),m("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),m("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(kf,kf.exports);var ma=kf.exports;const FE=Object.freeze({loose:!0}),jE=Object.freeze({}),ME=e=>e?typeof e!="object"?FE:e:jE;var nh=ME;const Pm=/^[0-9]+$/,_v=(e,t)=>{if(typeof e=="number"&&typeof t=="number")return e===t?0:e<t?-1:1;const n=Pm.test(e),r=Pm.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1},UE=(e,t)=>_v(t,e);var xv={compareIdentifiers:_v,rcompareIdentifiers:UE};const Ka=Ul,{MAX_LENGTH:Bm,MAX_SAFE_INTEGER:Xa}=Ml,{safeRe:Ya,t:qa}=ma,QE=nh,{compareIdentifiers:Uu}=xv;let zE=class zt{constructor(t,n){if(n=QE(n),t instanceof zt){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>Bm)throw new TypeError(`version is longer than ${Bm} characters`);Ka("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const r=t.trim().match(n.loose?Ya[qa.LOOSE]:Ya[qa.FULL]);if(!r)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>Xa||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Xa||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Xa||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<Xa)return s}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(Ka("SemVer.compare",this.version,this.options,t),!(t instanceof zt)){if(typeof t=="string"&&t===this.version)return 0;t=new zt(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof zt||(t=new zt(t,this.options)),this.major<t.major?-1:this.major>t.major?1:this.minor<t.minor?-1:this.minor>t.minor?1:this.patch<t.patch?-1:this.patch>t.patch?1:0}comparePre(t){if(t instanceof zt||(t=new zt(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let n=0;do{const r=this.prerelease[n],i=t.prerelease[n];if(Ka("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return Uu(r,i)}while(++n)}compareBuild(t){t instanceof zt||(t=new zt(t,this.options));let n=0;do{const r=this.build[n],i=t.build[n];if(Ka("build compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return Uu(r,i)}while(++n)}inc(t,n,r){if(t.startsWith("pre")){if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(n){const i=`-${n}`.match(this.options.loose?Ya[qa.PRERELEASELOOSE]:Ya[qa.PRERELEASE]);if(!i||i[1]!==n)throw new Error(`invalid identifier: ${n}`)}}switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(r)?1:0;if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(n){let s=[n,i];r===!1&&(s=[n]),Uu(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var et=zE;const Om=et,GE=(e,t,n=!1)=>{if(e instanceof Om)return e;try{return new Om(e,t)}catch(r){if(!n)return null;throw r}};var Ti=GE;const WE=Ti,HE=(e,t)=>{const n=WE(e,t);return n?n.version:null};var VE=HE;const KE=Ti,XE=(e,t)=>{const n=KE(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null};var YE=XE;const Tm=et,qE=(e,t,n,r,i)=>{typeof n=="string"&&(i=r,r=n,n=void 0);try{return new Tm(e instanceof Tm?e.version:e,n).inc(t,r,i).version}catch{return null}};var JE=qE;const Lm=Ti,ZE=(e,t)=>{const n=Lm(e,null,!0),r=Lm(t,null,!0),i=n.compare(r);if(i===0)return null;const s=i>0,a=s?n:r,o=s?r:n,l=!!a.prerelease.length;if(!!o.prerelease.length&&!l){if(!o.patch&&!o.minor)return"major";if(o.compareMain(a)===0)return o.minor&&!o.patch?"minor":"patch"}const c=l?"pre":"";return n.major!==r.major?c+"major":n.minor!==r.minor?c+"minor":n.patch!==r.patch?c+"patch":"prerelease"};var eS=ZE;const tS=et,nS=(e,t)=>new tS(e,t).major;var rS=nS;const iS=et,sS=(e,t)=>new iS(e,t).minor;var aS=sS;const oS=et,lS=(e,t)=>new oS(e,t).patch;var uS=lS;const cS=Ti,fS=(e,t)=>{const n=cS(e,t);return n&&n.prerelease.length?n.prerelease:null};var dS=fS;const $m=et,hS=(e,t,n)=>new $m(e,n).compare(new $m(t,n));var jt=hS;const pS=jt,mS=(e,t,n)=>pS(t,e,n);var gS=mS;const yS=jt,vS=(e,t)=>yS(e,t,!0);var wS=vS;const Nm=et,AS=(e,t,n)=>{const r=new Nm(e,n),i=new Nm(t,n);return r.compare(i)||r.compareBuild(i)};var rh=AS;const _S=rh,xS=(e,t)=>e.sort((n,r)=>_S(n,r,t));var ES=xS;const SS=rh,CS=(e,t)=>e.sort((n,r)=>SS(r,n,t));var IS=CS;const bS=jt,kS=(e,t,n)=>bS(e,t,n)>0;var Ql=kS;const RS=jt,PS=(e,t,n)=>RS(e,t,n)<0;var ih=PS;const BS=jt,OS=(e,t,n)=>BS(e,t,n)===0;var Ev=OS;const TS=jt,LS=(e,t,n)=>TS(e,t,n)!==0;var Sv=LS;const $S=jt,NS=(e,t,n)=>$S(e,t,n)>=0;var sh=NS;const DS=jt,FS=(e,t,n)=>DS(e,t,n)<=0;var ah=FS;const jS=Ev,MS=Sv,US=Ql,QS=sh,zS=ih,GS=ah,WS=(e,t,n,r)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e===n;case"!==":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e!==n;case"":case"=":case"==":return jS(e,n,r);case"!=":return MS(e,n,r);case">":return US(e,n,r);case">=":return QS(e,n,r);case"<":return zS(e,n,r);case"<=":return GS(e,n,r);default:throw new TypeError(`Invalid operator: ${t}`)}};var Cv=WS;const HS=et,VS=Ti,{safeRe:Ja,t:Za}=ma,KS=(e,t)=>{if(e instanceof HS)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let n=null;if(!t.rtl)n=e.match(t.includePrerelease?Ja[Za.COERCEFULL]:Ja[Za.COERCE]);else{const l=t.includePrerelease?Ja[Za.COERCERTLFULL]:Ja[Za.COERCERTL];let u;for(;(u=l.exec(e))&&(!n||n.index+n[0].length!==e.length);)(!n||u.index+u[0].length!==n.index+n[0].length)&&(n=u),l.lastIndex=u.index+u[1].length+u[2].length;l.lastIndex=-1}if(n===null)return null;const r=n[2],i=n[3]||"0",s=n[4]||"0",a=t.includePrerelease&&n[5]?`-${n[5]}`:"",o=t.includePrerelease&&n[6]?`+${n[6]}`:"";return VS(`${r}.${i}.${s}${a}${o}`,t)};var XS=KS;class YS{constructor(){this.max=1e3,this.map=new Map}get(t){const n=this.map.get(t);if(n!==void 0)return this.map.delete(t),this.map.set(t,n),n}delete(t){return this.map.delete(t)}set(t,n){if(!this.delete(t)&&n!==void 0){if(this.map.size>=this.max){const i=this.map.keys().next().value;this.delete(i)}this.map.set(t,n)}return this}}var qS=YS,Qu,Dm;function Mt(){if(Dm)return Qu;Dm=1;const e=/\s+/g;class t{constructor($,R){if(R=i(R),$ instanceof t)return $.loose===!!R.loose&&$.includePrerelease===!!R.includePrerelease?$:new t($.raw,R);if($ instanceof s)return this.raw=$.value,this.set=[[$]],this.formatted=void 0,this;if(this.options=R,this.loose=!!R.loose,this.includePrerelease=!!R.includePrerelease,this.raw=$.trim().replace(e," "),this.set=this.raw.split("||").map(T=>this.parseRange(T.trim())).filter(T=>T.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const T=this.set[0];if(this.set=this.set.filter(k=>!m(k[0])),this.set.length===0)this.set=[T];else if(this.set.length>1){for(const k of this.set)if(k.length===1&&x(k[0])){this.set=[k];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let $=0;$<this.set.length;$++){$>0&&(this.formatted+="||");const R=this.set[$];for(let T=0;T<R.length;T++)T>0&&(this.formatted+=" "),this.formatted+=R[T].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange($){const T=((this.options.includePrerelease&&p)|(this.options.loose&&y))+":"+$,k=r.get(T);if(k)return k;const B=this.options.loose,O=B?l[u.HYPHENRANGELOOSE]:l[u.HYPHENRANGE];$=$.replace(O,j(this.options.includePrerelease)),a("hyphen replace",$),$=$.replace(l[u.COMPARATORTRIM],c),a("comparator trim",$),$=$.replace(l[u.TILDETRIM],f),a("tilde trim",$),$=$.replace(l[u.CARETTRIM],d),a("caret trim",$);let M=$.split(" ").map(K=>h(K,this.options)).join(" ").split(/\s+/).map(K=>P(K,this.options));B&&(M=M.filter(K=>(a("loose invalid filter",K,this.options),!!K.match(l[u.COMPARATORLOOSE])))),a("range list",M);const D=new Map,Q=M.map(K=>new s(K,this.options));for(const K of Q){if(m(K))return[K];D.set(K.value,K)}D.size>1&&D.has("")&&D.delete("");const V=[...D.values()];return r.set(T,V),V}intersects($,R){if(!($ instanceof t))throw new TypeError("a Range is required");return this.set.some(T=>g(T,R)&&$.set.some(k=>g(k,R)&&T.every(B=>k.every(O=>B.intersects(O,R)))))}test($){if(!$)return!1;if(typeof $=="string")try{$=new o($,this.options)}catch{return!1}for(let R=0;R<this.set.length;R++)if(N(this.set[R],$,this.options))return!0;return!1}}Qu=t;const n=qS,r=new n,i=nh,s=zl(),a=Ul,o=et,{safeRe:l,t:u,comparatorTrimReplace:c,tildeTrimReplace:f,caretTrimReplace:d}=ma,{FLAG_INCLUDE_PRERELEASE:p,FLAG_LOOSE:y}=Ml,m=L=>L.value==="<0.0.0-0",x=L=>L.value==="",g=(L,$)=>{let R=!0;const T=L.slice();let k=T.pop();for(;R&&T.length;)R=T.every(B=>k.intersects(B,$)),k=T.pop();return R},h=(L,$)=>(L=L.replace(l[u.BUILD],""),a("comp",L,$),L=A(L,$),a("caret",L),L=E(L,$),a("tildes",L),L=S(L,$),a("xrange",L),L=I(L,$),a("stars",L),L),v=L=>!L||L.toLowerCase()==="x"||L==="*",E=(L,$)=>L.trim().split(/\s+/).map(R=>w(R,$)).join(" "),w=(L,$)=>{const R=$.loose?l[u.TILDELOOSE]:l[u.TILDE];return L.replace(R,(T,k,B,O,M)=>{a("tilde",L,T,k,B,O,M);let D;return v(k)?D="":v(B)?D=`>=${k}.0.0 <${+k+1}.0.0-0`:v(O)?D=`>=${k}.${B}.0 <${k}.${+B+1}.0-0`:M?(a("replaceTilde pr",M),D=`>=${k}.${B}.${O}-${M} <${k}.${+B+1}.0-0`):D=`>=${k}.${B}.${O} <${k}.${+B+1}.0-0`,a("tilde return",D),D})},A=(L,$)=>L.trim().split(/\s+/).map(R=>_(R,$)).join(" "),_=(L,$)=>{a("caret",L,$);const R=$.loose?l[u.CARETLOOSE]:l[u.CARET],T=$.includePrerelease?"-0":"";return L.replace(R,(k,B,O,M,D)=>{a("caret",L,k,B,O,M,D);let Q;return v(B)?Q="":v(O)?Q=`>=${B}.0.0${T} <${+B+1}.0.0-0`:v(M)?B==="0"?Q=`>=${B}.${O}.0${T} <${B}.${+O+1}.0-0`:Q=`>=${B}.${O}.0${T} <${+B+1}.0.0-0`:D?(a("replaceCaret pr",D),B==="0"?O==="0"?Q=`>=${B}.${O}.${M}-${D} <${B}.${O}.${+M+1}-0`:Q=`>=${B}.${O}.${M}-${D} <${B}.${+O+1}.0-0`:Q=`>=${B}.${O}.${M}-${D} <${+B+1}.0.0-0`):(a("no pr"),B==="0"?O==="0"?Q=`>=${B}.${O}.${M}${T} <${B}.${O}.${+M+1}-0`:Q=`>=${B}.${O}.${M}${T} <${B}.${+O+1}.0-0`:Q=`>=${B}.${O}.${M} <${+B+1}.0.0-0`),a("caret return",Q),Q})},S=(L,$)=>(a("replaceXRanges",L,$),L.split(/\s+/).map(R=>C(R,$)).join(" ")),C=(L,$)=>{L=L.trim();const R=$.loose?l[u.XRANGELOOSE]:l[u.XRANGE];return L.replace(R,(T,k,B,O,M,D)=>{a("xRange",L,T,k,B,O,M,D);const Q=v(B),V=Q||v(O),K=V||v(M),ve=K;return k==="="&&ve&&(k=""),D=$.includePrerelease?"-0":"",Q?k===">"||k==="<"?T="<0.0.0-0":T="*":k&&ve?(V&&(O=0),M=0,k===">"?(k=">=",V?(B=+B+1,O=0,M=0):(O=+O+1,M=0)):k==="<="&&(k="<",V?B=+B+1:O=+O+1),k==="<"&&(D="-0"),T=`${k+B}.${O}.${M}${D}`):V?T=`>=${B}.0.0${D} <${+B+1}.0.0-0`:K&&(T=`>=${B}.${O}.0${D} <${B}.${+O+1}.0-0`),a("xRange return",T),T})},I=(L,$)=>(a("replaceStars",L,$),L.trim().replace(l[u.STAR],"")),P=(L,$)=>(a("replaceGTE0",L,$),L.trim().replace(l[$.includePrerelease?u.GTE0PRE:u.GTE0],"")),j=L=>($,R,T,k,B,O,M,D,Q,V,K,ve)=>(v(T)?R="":v(k)?R=`>=${T}.0.0${L?"-0":""}`:v(B)?R=`>=${T}.${k}.0${L?"-0":""}`:O?R=`>=${R}`:R=`>=${R}${L?"-0":""}`,v(Q)?D="":v(V)?D=`<${+Q+1}.0.0-0`:v(K)?D=`<${Q}.${+V+1}.0-0`:ve?D=`<=${Q}.${V}.${K}-${ve}`:L?D=`<${Q}.${V}.${+K+1}-0`:D=`<=${D}`,`${R} ${D}`.trim()),N=(L,$,R)=>{for(let T=0;T<L.length;T++)if(!L[T].test($))return!1;if($.prerelease.length&&!R.includePrerelease){for(let T=0;T<L.length;T++)if(a(L[T].semver),L[T].semver!==s.ANY&&L[T].semver.prerelease.length>0){const k=L[T].semver;if(k.major===$.major&&k.minor===$.minor&&k.patch===$.patch)return!0}return!1}return!0};return Qu}var zu,Fm;function zl(){if(Fm)return zu;Fm=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(c,f){if(f=n(f),c instanceof t){if(c.loose===!!f.loose)return c;c=c.value}c=c.trim().split(/\s+/).join(" "),a("comparator",c,f),this.options=f,this.loose=!!f.loose,this.parse(c),this.semver===e?this.value="":this.value=this.operator+this.semver.version,a("comp",this)}parse(c){const f=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],d=c.match(f);if(!d)throw new TypeError(`Invalid comparator: ${c}`);this.operator=d[1]!==void 0?d[1]:"",this.operator==="="&&(this.operator=""),d[2]?this.semver=new o(d[2],this.options.loose):this.semver=e}toString(){return this.value}test(c){if(a("Comparator.test",c,this.options.loose),this.semver===e||c===e)return!0;if(typeof c=="string")try{c=new o(c,this.options)}catch{return!1}return s(c,this.operator,this.semver,this.options)}intersects(c,f){if(!(c instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(c.value,f).test(this.value):c.operator===""?c.value===""?!0:new l(this.value,f).test(c.semver):(f=n(f),f.includePrerelease&&(this.value==="<0.0.0-0"||c.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||c.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&c.operator.startsWith(">")||this.operator.startsWith("<")&&c.operator.startsWith("<")||this.semver.version===c.semver.version&&this.operator.includes("=")&&c.operator.includes("=")||s(this.semver,"<",c.semver,f)&&this.operator.startsWith(">")&&c.operator.startsWith("<")||s(this.semver,">",c.semver,f)&&this.operator.startsWith("<")&&c.operator.startsWith(">")))}}zu=t;const n=nh,{safeRe:r,t:i}=ma,s=Cv,a=Ul,o=et,l=Mt();return zu}const JS=Mt(),ZS=(e,t,n)=>{try{t=new JS(t,n)}catch{return!1}return t.test(e)};var Gl=ZS;const eC=Mt(),tC=(e,t)=>new eC(e,t).set.map(n=>n.map(r=>r.value).join(" ").trim().split(" "));var nC=tC;const rC=et,iC=Mt(),sC=(e,t,n)=>{let r=null,i=null,s=null;try{s=new iC(t,n)}catch{return null}return e.forEach(a=>{s.test(a)&&(!r||i.compare(a)===-1)&&(r=a,i=new rC(r,n))}),r};var aC=sC;const oC=et,lC=Mt(),uC=(e,t,n)=>{let r=null,i=null,s=null;try{s=new lC(t,n)}catch{return null}return e.forEach(a=>{s.test(a)&&(!r||i.compare(a)===1)&&(r=a,i=new oC(r,n))}),r};var cC=uC;const Gu=et,fC=Mt(),jm=Ql,dC=(e,t)=>{e=new fC(e,t);let n=new Gu("0.0.0");if(e.test(n)||(n=new Gu("0.0.0-0"),e.test(n)))return n;n=null;for(let r=0;r<e.set.length;++r){const i=e.set[r];let s=null;i.forEach(a=>{const o=new Gu(a.semver.version);switch(a.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!s||jm(o,s))&&(s=o);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),s&&(!n||jm(n,s))&&(n=s)}return n&&e.test(n)?n:null};var hC=dC;const pC=Mt(),mC=(e,t)=>{try{return new pC(e,t).range||"*"}catch{return null}};var gC=mC;const yC=et,Iv=zl(),{ANY:vC}=Iv,wC=Mt(),AC=Gl,Mm=Ql,Um=ih,_C=ah,xC=sh,EC=(e,t,n,r)=>{e=new yC(e,r),t=new wC(t,r);let i,s,a,o,l;switch(n){case">":i=Mm,s=_C,a=Um,o=">",l=">=";break;case"<":i=Um,s=xC,a=Mm,o="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(AC(e,t,r))return!1;for(let u=0;u<t.set.length;++u){const c=t.set[u];let f=null,d=null;if(c.forEach(p=>{p.semver===vC&&(p=new Iv(">=0.0.0")),f=f||p,d=d||p,i(p.semver,f.semver,r)?f=p:a(p.semver,d.semver,r)&&(d=p)}),f.operator===o||f.operator===l||(!d.operator||d.operator===o)&&s(e,d.semver))return!1;if(d.operator===l&&a(e,d.semver))return!1}return!0};var oh=EC;const SC=oh,CC=(e,t,n)=>SC(e,t,">",n);var IC=CC;const bC=oh,kC=(e,t,n)=>bC(e,t,"<",n);var RC=kC;const Qm=Mt(),PC=(e,t,n)=>(e=new Qm(e,n),t=new Qm(t,n),e.intersects(t,n));var BC=PC;const OC=Gl,TC=jt;var LC=(e,t,n)=>{const r=[];let i=null,s=null;const a=e.sort((c,f)=>TC(c,f,n));for(const c of a)OC(c,t,n)?(s=c,i||(i=c)):(s&&r.push([i,s]),s=null,i=null);i&&r.push([i,null]);const o=[];for(const[c,f]of r)c===f?o.push(c):!f&&c===a[0]?o.push("*"):f?c===a[0]?o.push(`<=${f}`):o.push(`${c} - ${f}`):o.push(`>=${c}`);const l=o.join(" || "),u=typeof t.raw=="string"?t.raw:String(t);return l.length<u.length?l:t};const zm=Mt(),lh=zl(),{ANY:Wu}=lh,Zi=Gl,uh=jt,$C=(e,t,n={})=>{if(e===t)return!0;e=new zm(e,n),t=new zm(t,n);let r=!1;e:for(const i of e.set){for(const s of t.set){const a=DC(i,s,n);if(r=r||a!==null,a)continue e}if(r)return!1}return!0},NC=[new lh(">=0.0.0-0")],Gm=[new lh(">=0.0.0")],DC=(e,t,n)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===Wu){if(t.length===1&&t[0].semver===Wu)return!0;n.includePrerelease?e=NC:e=Gm}if(t.length===1&&t[0].semver===Wu){if(n.includePrerelease)return!0;t=Gm}const r=new Set;let i,s;for(const p of e)p.operator===">"||p.operator===">="?i=Wm(i,p,n):p.operator==="<"||p.operator==="<="?s=Hm(s,p,n):r.add(p.semver);if(r.size>1)return null;let a;if(i&&s){if(a=uh(i.semver,s.semver,n),a>0)return null;if(a===0&&(i.operator!==">="||s.operator!=="<="))return null}for(const p of r){if(i&&!Zi(p,String(i),n)||s&&!Zi(p,String(s),n))return null;for(const y of t)if(!Zi(p,String(y),n))return!1;return!0}let o,l,u,c,f=s&&!n.includePrerelease&&s.semver.prerelease.length?s.semver:!1,d=i&&!n.includePrerelease&&i.semver.prerelease.length?i.semver:!1;f&&f.prerelease.length===1&&s.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(const p of t){if(c=c||p.operator===">"||p.operator===">=",u=u||p.operator==="<"||p.operator==="<=",i){if(d&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===d.major&&p.semver.minor===d.minor&&p.semver.patch===d.patch&&(d=!1),p.operator===">"||p.operator===">="){if(o=Wm(i,p,n),o===p&&o!==i)return!1}else if(i.operator===">="&&!Zi(i.semver,String(p),n))return!1}if(s){if(f&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===f.major&&p.semver.minor===f.minor&&p.semver.patch===f.patch&&(f=!1),p.operator==="<"||p.operator==="<="){if(l=Hm(s,p,n),l===p&&l!==s)return!1}else if(s.operator==="<="&&!Zi(s.semver,String(p),n))return!1}if(!p.operator&&(s||i)&&a!==0)return!1}return!(i&&u&&!s&&a!==0||s&&c&&!i&&a!==0||d||f)},Wm=(e,t,n)=>{if(!e)return t;const r=uh(e.semver,t.semver,n);return r>0?e:r<0||t.operator===">"&&e.operator===">="?t:e},Hm=(e,t,n)=>{if(!e)return t;const r=uh(e.semver,t.semver,n);return r<0?e:r>0||t.operator==="<"&&e.operator==="<="?t:e};var FC=$C;const Hu=ma,Vm=Ml,jC=et,Km=xv,MC=Ti,UC=VE,QC=YE,zC=JE,GC=eS,WC=rS,HC=aS,VC=uS,KC=dS,XC=jt,YC=gS,qC=wS,JC=rh,ZC=ES,eI=IS,tI=Ql,nI=ih,rI=Ev,iI=Sv,sI=sh,aI=ah,oI=Cv,lI=XS,uI=zl(),cI=Mt(),fI=Gl,dI=nC,hI=aC,pI=cC,mI=hC,gI=gC,yI=oh,vI=IC,wI=RC,AI=BC,_I=LC,xI=FC;var EI={parse:MC,valid:UC,clean:QC,inc:zC,diff:GC,major:WC,minor:HC,patch:VC,prerelease:KC,compare:XC,rcompare:YC,compareLoose:qC,compareBuild:JC,sort:ZC,rsort:eI,gt:tI,lt:nI,eq:rI,neq:iI,gte:sI,lte:aI,cmp:oI,coerce:lI,Comparator:uI,Range:cI,satisfies:fI,toComparators:dI,maxSatisfying:hI,minSatisfying:pI,minVersion:mI,validRange:gI,outside:yI,gtr:vI,ltr:wI,intersects:AI,simplifyRange:_I,subset:xI,SemVer:jC,re:Hu.re,src:Hu.src,tokens:Hu.t,SEMVER_SPEC_VERSION:Vm.SEMVER_SPEC_VERSION,RELEASE_TYPES:Vm.RELEASE_TYPES,compareIdentifiers:Km.compareIdentifiers,rcompareIdentifiers:Km.rcompareIdentifiers};const SI=Al(EI),Xt={VERSION_JSON_URL:"/version.json",FETCH_TIMEOUT:5e3,DEBOUNCE_INTERVAL:6e4,THROTTLE_WINDOW:24*60*60*1e3,STORAGE_KEY:"app-version-state"},Fr="1.0.0";async function CI(){try{const e=await Wl();if(e.lastCheckAt&&Date.now()-e.lastCheckAt<Xt.DEBOUNCE_INTERVAL)return{currentVersion:Fr,latestVersion:Fr,updateAvailable:!1,checkedAt:e.lastCheckAt,success:!0,shouldShowNotification:!1};const t=await II(),n=kI(Fr,t.version),r=n&&await RI(t.version);return await BI(),{currentVersion:Fr,latestVersion:t.version,updateAvailable:n,checkedAt:Date.now(),success:!0,shouldShowNotification:r,updateUrl:t.updateUrl}}catch(e){return console.warn("Version check failed:",e.message),{currentVersion:Fr,latestVersion:Fr,updateAvailable:!1,checkedAt:Date.now(),success:!1,error:e.message}}}async function II(){const e=new AbortController,t=setTimeout(()=>e.abort(),Xt.FETCH_TIMEOUT);try{const n=await fetch(`${Xt.VERSION_JSON_URL}?_t=${Date.now()}`,{signal:e.signal,cache:"no-cache"});if(clearTimeout(t),!n.ok)throw new Error(`HTTP ${n.status}`);const r=await n.json();if(!bI(r))throw new Error("Invalid version.json schema");return r}catch(n){throw clearTimeout(t),n.name==="AbortError"?new Error("Timeout after 5000ms"):n}}function bI(e){return e&&typeof e=="object"&&typeof e.version=="string"&&/^\d+\.\d+\.\d+/.test(e.version)&&typeof e.updateUrl=="string"&&e.updateUrl.length>0}function kI(e,t){try{return SI.gt(t,e)}catch{return!1}}async function Wl(){try{return await en.versionState.get(Xt.STORAGE_KEY)||{key:Xt.STORAGE_KEY}}catch{try{const e=localStorage.getItem(`meallens:${Xt.STORAGE_KEY}`);return e?JSON.parse(e):{key:Xt.STORAGE_KEY}}catch{return{key:Xt.STORAGE_KEY}}}}async function RI(e){const t=await Wl();return!t.lastDismissedAt||t.lastDismissedVersion!==e?!0:(Date.now()-t.lastDismissedAt)/(1e3*60*60)>=24}async function PI(e){const t=await Wl();t.lastDismissedAt=Date.now(),t.lastDismissedVersion=e;try{await en.versionState.put(t)}catch{try{localStorage.setItem(`meallens:${Xt.STORAGE_KEY}`,JSON.stringify(t))}catch(n){console.warn("Failed to save notification state:",n)}}}async function BI(){const e=await Wl();e.lastCheckAt=Date.now();try{await en.versionState.put(e)}catch{try{localStorage.setItem(`meallens:${Xt.STORAGE_KEY}`,JSON.stringify(e))}catch(t){console.warn("Failed to update check time:",t)}}}function OI({version:e,onDismiss:t,onClick:n}){const[r,i]=F.useState(!0),s=async a=>{a.stopPropagation(),await PI(e),i(!1),t==null||t()};return r?b.jsx("div",{className:"update-banner",onClick:n,children:b.jsxs("div",{className:"update-banner-content",children:[b.jsx("span",{className:"update-icon","aria-hidden":"true",children:""}),b.jsxs("span",{className:"update-text",children:["New version ",e," available! Tap to update."]}),b.jsx("button",{className:"update-dismiss",onClick:s,"aria-label":"Dismiss update notification",type:"button",children:""})]})}):null}function TI({version:e,updateUrl:t,onClose:n}){const r=()=>{const i=window.matchMedia("(display-mode: standalone)").matches,s=/iPad|iPhone|iPod/.test(navigator.userAgent),a=/Android/.test(navigator.userAgent);i&&s?window.location.href="https://apps.apple.com/app/meallens/id123456":i&&a?window.location.href="https://play.google.com/store/apps/details?id=com.meallens":window.location.href=t,n()};return b.jsx("div",{className:"update-dialog-overlay",onClick:n,children:b.jsxs("div",{className:"update-dialog",onClick:i=>i.stopPropagation(),children:[b.jsx("h2",{children:"Update Available"}),b.jsxs("p",{children:["Version ",e," is now available."]}),b.jsx("p",{children:"Update now to get the latest features and improvements."}),b.jsxs("div",{className:"update-dialog-actions",children:[b.jsx("button",{onClick:n,className:"button-secondary",type:"button",children:"Later"}),b.jsx("button",{onClick:r,className:"button-primary",type:"button",children:"Update Now"})]})]})})}function LI(){const[e,t]=F.useState(null),[n,r]=F.useState(null),[i,s]=F.useState(!1),a=F.useRef(null),o=async()=>{try{r(null);const c=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1920},height:{ideal:1080}}});t(c),s(!0),a.current&&(a.current.srcObject=c)}catch(c){console.error("Camera access error:",c),r(c.message||"Failed to access camera")}},l=()=>{e&&(e.getTracks().forEach(c=>c.stop()),t(null),s(!1),a.current&&(a.current.srcObject=null))},u=()=>{if(!a.current||!e)throw new Error("Camera not active");const c=a.current,f=document.createElement("canvas");return f.width=c.videoWidth,f.height=c.videoHeight,f.getContext("2d").drawImage(c,0,0),new Promise((p,y)=>{f.toBlob(m=>{m?p(m):y(new Error("Failed to capture photo"))},"image/jpeg",.95)})};return F.useEffect(()=>()=>{l()},[]),{videoRef:a,stream:e,isActive:i,error:n,startCamera:o,stopCamera:l,capturePhoto:u}}function $I({onCapture:e,onError:t}){const{videoRef:n,isActive:r,error:i,startCamera:s,stopCamera:a,capturePhoto:o}=LI();F.useEffect(()=>(s(),()=>a()),[]),F.useEffect(()=>{i&&t&&t(i)},[i,t]);const l=async()=>{try{const u=await o();e(u)}catch(u){t&&t(u.message)}};return b.jsxs("div",{style:eo.container,children:[b.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,muted:!0,style:eo.video}),r&&b.jsx("button",{onClick:l,style:eo.captureButton,children:" Capture"}),i&&b.jsxs("div",{style:eo.error,children:[" ",i]})]})}const eo={container:{position:"relative",width:"100%",height:"100vh",backgroundColor:"#000",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},video:{width:"100%",maxWidth:"600px",height:"auto"},captureButton:{position:"absolute",bottom:"40px",padding:"15px 30px",fontSize:"18px",backgroundColor:"#2ECC71",color:"white",border:"none",borderRadius:"50px",cursor:"pointer",fontWeight:"bold"},error:{position:"absolute",top:"20px",padding:"10px 20px",backgroundColor:"#E74C3C",color:"white",borderRadius:"5px"}};function NI({onUpload:e,onError:t}){const n=F.useRef(null),r=i=>{var o;const s=(o=i.target.files)==null?void 0:o[0];if(!s)return;if(!s.type.startsWith("image/")){t&&t("Please select an image file");return}const a=10*1024*1024;if(s.size>a){t&&t("Image too large. Maximum size is 10MB.");return}e(s)};return b.jsxs("div",{style:Vu.container,children:[b.jsx("input",{ref:n,type:"file",accept:"image/*",onChange:r,style:Vu.hiddenInput}),b.jsx("button",{onClick:()=>{var i;return(i=n.current)==null?void 0:i.click()},style:Vu.uploadButton,children:" Upload Photo"})]})}const Vu={container:{display:"flex",justifyContent:"center",padding:"20px"},hiddenInput:{display:"none"},uploadButton:{padding:"15px 30px",fontSize:"18px",backgroundColor:"#6B7280",color:"white",border:"none",borderRadius:"50px",cursor:"pointer",fontWeight:"bold"}};function DI({imageBlob:e,onRetake:t,onConfirm:n}){const[r,i]=F.useState(null);return F.useEffect(()=>{if(e){const s=URL.createObjectURL(e);return i(s),()=>URL.revokeObjectURL(s)}},[e]),b.jsxs("div",{style:es.container,children:[r&&b.jsx("img",{src:r,alt:"Preview",style:es.image}),b.jsxs("div",{style:es.buttonContainer,children:[b.jsx("button",{onClick:t,style:es.retakeButton,children:" Retake"}),b.jsx("button",{onClick:n,style:es.confirmButton,children:" Confirm"})]})]})}const es={container:{width:"100%",height:"100vh",backgroundColor:"#000",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",padding:"20px"},image:{maxWidth:"100%",maxHeight:"70vh",objectFit:"contain"},buttonContainer:{display:"flex",gap:"20px",marginBottom:"40px"},retakeButton:{padding:"15px 30px",fontSize:"16px",backgroundColor:"#6B7280",color:"white",border:"none",borderRadius:"50px",cursor:"pointer",fontWeight:"bold"},confirmButton:{padding:"15px 30px",fontSize:"16px",backgroundColor:"#2ECC71",color:"white",border:"none",borderRadius:"50px",cursor:"pointer",fontWeight:"bold"}};function FI({message:e="Loading..."}){return b.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"40px",fontFamily:"sans-serif"},children:[b.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #E5E7EB",borderTop:"4px solid #2ECC71",borderRadius:"50%",animation:"spin 1s linear infinite"}}),b.jsx("p",{style:{marginTop:"20px",color:"#6B7280"},children:e}),b.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})}function to(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var bv={exports:{}};/*!

pica
https://github.com/nodeca/pica

*/(function(e,t){(function(n){e.exports=n()})(function(){return function(){function n(r,i,s){function a(u,c){if(!i[u]){if(!r[u]){var f=typeof to=="function"&&to;if(!c&&f)return f(u,!0);if(o)return o(u,!0);var d=new Error("Cannot find module '"+u+"'");throw d.code="MODULE_NOT_FOUND",d}var p=i[u]={exports:{}};r[u][0].call(p.exports,function(y){var m=r[u][1][y];return a(m||y)},p,p.exports,n,r,i,s)}return i[u].exports}for(var o=typeof to=="function"&&to,l=0;l<s.length;l++)a(s[l]);return a}return n}()({1:[function(n,r,i){var s=n("multimath"),a=n("./mm_unsharp_mask"),o=n("./mm_resize");function l(u){var c=u||[],f={js:c.indexOf("js")>=0,wasm:c.indexOf("wasm")>=0};s.call(this,f),this.features={js:f.js,wasm:f.wasm&&this.has_wasm()},this.use(a),this.use(o)}l.prototype=Object.create(s.prototype),l.prototype.constructor=l,l.prototype.resizeAndUnsharp=function(c,f){var d=this.resize(c,f);return c.unsharpAmount&&this.unsharp_mask(d,c.toWidth,c.toHeight,c.unsharpAmount,c.unsharpRadius,c.unsharpThreshold),d},r.exports=l},{"./mm_resize":4,"./mm_unsharp_mask":9,multimath:19}],2:[function(n,r,i){function s(f){return f<0?0:f>255?255:f}function a(f){return f>=0?f:0}function o(f,d,p,y,m,x){var g,h,v,E,w,A,_,S,C,I,P,j=0,N=0;for(C=0;C<y;C++){for(w=0,I=0;I<m;I++){for(A=x[w++],_=x[w++],S=j+A*4|0,g=h=v=E=0;_>0;_--)P=x[w++],E=E+P*f[S+3]|0,v=v+P*f[S+2]|0,h=h+P*f[S+1]|0,g=g+P*f[S]|0,S=S+4|0;d[N+3]=a(E>>7),d[N+2]=a(v>>7),d[N+1]=a(h>>7),d[N]=a(g>>7),N=N+y*4|0}N=(C+1)*4|0,j=(C+1)*p*4|0}}function l(f,d,p,y,m,x){var g,h,v,E,w,A,_,S,C,I,P,j=0,N=0;for(C=0;C<y;C++){for(w=0,I=0;I<m;I++){for(A=x[w++],_=x[w++],S=j+A*4|0,g=h=v=E=0;_>0;_--)P=x[w++],E=E+P*f[S+3]|0,v=v+P*f[S+2]|0,h=h+P*f[S+1]|0,g=g+P*f[S]|0,S=S+4|0;g>>=7,h>>=7,v>>=7,E>>=7,d[N+3]=s(E+8192>>14),d[N+2]=s(v+8192>>14),d[N+1]=s(h+8192>>14),d[N]=s(g+8192>>14),N=N+y*4|0}N=(C+1)*4|0,j=(C+1)*p*4|0}}function u(f,d,p,y,m,x){var g,h,v,E,w,A,_,S,C,I,P,j,N=0,L=0;for(I=0;I<y;I++){for(A=0,P=0;P<m;P++){for(_=x[A++],S=x[A++],C=N+_*4|0,g=h=v=E=0;S>0;S--)j=x[A++],w=f[C+3],E=E+j*w|0,v=v+j*f[C+2]*w|0,h=h+j*f[C+1]*w|0,g=g+j*f[C]*w|0,C=C+4|0;v=v/255|0,h=h/255|0,g=g/255|0,d[L+3]=a(E>>7),d[L+2]=a(v>>7),d[L+1]=a(h>>7),d[L]=a(g>>7),L=L+y*4|0}L=(I+1)*4|0,N=(I+1)*p*4|0}}function c(f,d,p,y,m,x){var g,h,v,E,w,A,_,S,C,I,P,j=0,N=0;for(C=0;C<y;C++){for(w=0,I=0;I<m;I++){for(A=x[w++],_=x[w++],S=j+A*4|0,g=h=v=E=0;_>0;_--)P=x[w++],E=E+P*f[S+3]|0,v=v+P*f[S+2]|0,h=h+P*f[S+1]|0,g=g+P*f[S]|0,S=S+4|0;g>>=7,h>>=7,v>>=7,E>>=7,E=s(E+8192>>14),E>0&&(g=g*255/E|0,h=h*255/E|0,v=v*255/E|0),d[N+3]=E,d[N+2]=s(v+8192>>14),d[N+1]=s(h+8192>>14),d[N]=s(g+8192>>14),N=N+y*4|0}N=(C+1)*4|0,j=(C+1)*p*4|0}}r.exports={convolveHor:o,convolveVert:l,convolveHorWithPre:u,convolveVertWithPre:c}},{}],3:[function(n,r,i){r.exports="AGFzbQEAAAAADAZkeWxpbmsAAAAAAAEYA2AGf39/f39/AGAAAGAIf39/f39/f38AAg8BA2VudgZtZW1vcnkCAAADBwYBAAAAAAIGBgF/AEEACweUAQgRX193YXNtX2NhbGxfY3RvcnMAAAtjb252b2x2ZUhvcgABDGNvbnZvbHZlVmVydAACEmNvbnZvbHZlSG9yV2l0aFByZQADE2NvbnZvbHZlVmVydFdpdGhQcmUABApjb252b2x2ZUhWAAUMX19kc29faGFuZGxlAwAYX193YXNtX2FwcGx5X2RhdGFfcmVsb2NzAAAKyA4GAwABC4wDARB/AkAgA0UNACAERQ0AIANBAnQhFQNAQQAhE0EAIQsDQCALQQJqIQcCfyALQQF0IAVqIgYuAQIiC0UEQEEAIQhBACEGQQAhCUEAIQogBwwBCyASIAYuAQBqIQhBACEJQQAhCiALIRRBACEOIAchBkEAIQ8DQCAFIAZBAXRqLgEAIhAgACAIQQJ0aigCACIRQRh2bCAPaiEPIBFB/wFxIBBsIAlqIQkgEUEQdkH/AXEgEGwgDmohDiARQQh2Qf8BcSAQbCAKaiEKIAhBAWohCCAGQQFqIQYgFEEBayIUDQALIAlBB3UhCCAKQQd1IQYgDkEHdSEJIA9BB3UhCiAHIAtqCyELIAEgDEEBdCIHaiAIQQAgCEEAShs7AQAgASAHQQJyaiAGQQAgBkEAShs7AQAgASAHQQRyaiAJQQAgCUEAShs7AQAgASAHQQZyaiAKQQAgCkEAShs7AQAgDCAVaiEMIBNBAWoiEyAERw0ACyANQQFqIg0gAmwhEiANQQJ0IQwgAyANRw0ACwsL2gMBD38CQCADRQ0AIARFDQAgAkECdCEUA0AgCyEMQQAhE0EAIQIDQCACQQJqIQYCfyACQQF0IAVqIgcuAQIiAkUEQEEAIQhBACEHQQAhCkEAIQkgBgwBCyAHLgEAQQJ0IBJqIQhBACEJIAIhCkEAIQ0gBiEHQQAhDkEAIQ8DQCAFIAdBAXRqLgEAIhAgACAIQQF0IhFqLwEAbCAJaiEJIAAgEUEGcmovAQAgEGwgDmohDiAAIBFBBHJqLwEAIBBsIA9qIQ8gACARQQJyai8BACAQbCANaiENIAhBBGohCCAHQQFqIQcgCkEBayIKDQALIAlBB3UhCCANQQd1IQcgDkEHdSEKIA9BB3UhCSACIAZqCyECIAEgDEECdGogB0GAQGtBDnUiBkH/ASAGQf8BSBsiBkEAIAZBAEobQQh0QYD+A3EgCUGAQGtBDnUiBkH/ASAGQf8BSBsiBkEAIAZBAEobQRB0QYCA/AdxIApBgEBrQQ51IgZB/wEgBkH/AUgbIgZBACAGQQBKG0EYdHJyIAhBgEBrQQ51IgZB/wEgBkH/AUgbIgZBACAGQQBKG3I2AgAgAyAMaiEMIBNBAWoiEyAERw0ACyAUIAtBAWoiC2whEiADIAtHDQALCwuSAwEQfwJAIANFDQAgBEUNACADQQJ0IRUDQEEAIRNBACEGA0AgBkECaiEIAn8gBkEBdCAFaiIGLgECIgdFBEBBACEJQQAhDEEAIQ1BACEOIAgMAQsgEiAGLgEAaiEJQQAhDkEAIQ1BACEMIAchFEEAIQ8gCCEGA0AgBSAGQQF0ai4BACAAIAlBAnRqKAIAIhBBGHZsIhEgD2ohDyARIBBBEHZB/wFxbCAMaiEMIBEgEEEIdkH/AXFsIA1qIQ0gESAQQf8BcWwgDmohDiAJQQFqIQkgBkEBaiEGIBRBAWsiFA0ACyAPQQd1IQkgByAIagshBiABIApBAXQiCGogDkH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEECcmogDUH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEEEcmogDEH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEEGcmogCUEAIAlBAEobOwEAIAogFWohCiATQQFqIhMgBEcNAAsgC0EBaiILIAJsIRIgC0ECdCEKIAMgC0cNAAsLC4IEAQ9/AkAgA0UNACAERQ0AIAJBAnQhFANAIAshDEEAIRJBACEHA0AgB0ECaiEKAn8gB0EBdCAFaiICLgECIhNFBEBBACEIQQAhCUEAIQYgCiEHQQAMAQsgAi4BAEECdCARaiEJQQAhByATIQJBACENIAohBkEAIQ5BACEPA0AgBSAGQQF0ai4BACIIIAAgCUEBdCIQai8BAGwgB2ohByAAIBBBBnJqLwEAIAhsIA5qIQ4gACAQQQRyai8BACAIbCAPaiEPIAAgEEECcmovAQAgCGwgDWohDSAJQQRqIQkgBkEBaiEGIAJBAWsiAg0ACyAHQQd1IQggDUEHdSEJIA9BB3UhBiAKIBNqIQcgDkEHdQtBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKGyIKQf8BcQRAIAlB/wFsIAJtIQkgCEH/AWwgAm0hCCAGQf8BbCACbSEGCyABIAxBAnRqIAlBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKG0EIdEGA/gNxIAZBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKG0EQdEGAgPwHcSAKQRh0ciAIQYBAa0EOdSICQf8BIAJB/wFIGyICQQAgAkEAShtycjYCACADIAxqIQwgEkEBaiISIARHDQALIBQgC0EBaiILbCERIAMgC0cNAAsLC0AAIAcEQEEAIAIgAyAEIAUgABADIAJBACAEIAUgBiABEAQPC0EAIAIgAyAEIAUgABABIAJBACAEIAUgBiABEAIL"},{}],4:[function(n,r,i){r.exports={name:"resize",fn:n("./resize"),wasm_fn:n("./resize_wasm"),wasm_src:n("./convolve_wasm_base64")}},{"./convolve_wasm_base64":3,"./resize":5,"./resize_wasm":8}],5:[function(n,r,i){var s=n("./resize_filter_gen"),a=n("./convolve"),o=a.convolveHor,l=a.convolveVert,u=a.convolveHorWithPre,c=a.convolveVertWithPre;function f(p,y,m){for(var x=3,g=y*m*4|0;x<g;){if(p[x]!==255)return!0;x=x+4|0}return!1}function d(p,y,m){for(var x=3,g=y*m*4|0;x<g;)p[x]=255,x=x+4|0}r.exports=function(y){var m=y.src,x=y.width,g=y.height,h=y.toWidth,v=y.toHeight,E=y.scaleX||y.toWidth/y.width,w=y.scaleY||y.toHeight/y.height,A=y.offsetX||0,_=y.offsetY||0,S=y.dest||new Uint8Array(h*v*4),C=typeof y.filter>"u"?"mks2013":y.filter,I=s(C,x,h,E,A),P=s(C,g,v,w,_),j=new Uint16Array(h*g*4);return f(m,x,g)?(u(m,j,x,g,h,I),c(j,S,g,h,v,P)):(o(m,j,x,g,h,I),l(j,S,g,h,v,P),d(S,h,v)),S}},{"./convolve":2,"./resize_filter_gen":6}],6:[function(n,r,i){var s=n("./resize_filter_info"),a=14;function o(l){return Math.round(l*((1<<a)-1))}r.exports=function(u,c,f,d,p){var y=s.filter[u].fn,m=1/d,x=Math.min(1,d),g=s.filter[u].win/x,h,v,E,w,A,_,S,C,I,P,j,N,L,$,R,T,k,B=Math.floor((g+1)*2),O=new Int16Array((B+2)*f),M=0,D=!O.subarray||!O.set;for(h=0;h<f;h++){for(v=(h+.5)*m+p,E=Math.max(0,Math.floor(v-g)),w=Math.min(c-1,Math.ceil(v+g)),A=w-E+1,_=new Float32Array(A),S=new Int16Array(A),C=0,I=E,P=0;I<=w;I++,P++)j=y((I+.5-v)*x),C+=j,_[P]=j;for(N=0,P=0;P<_.length;P++)L=_[P]/C,N+=L,S[P]=o(L);for(S[f>>1]+=o(1-N),$=0;$<S.length&&S[$]===0;)$++;if($<S.length){for(R=S.length-1;R>0&&S[R]===0;)R--;if(T=E+$,k=R-$+1,O[M++]=T,O[M++]=k,!D)O.set(S.subarray($,R+1),M),M+=k;else for(P=$;P<=R;P++)O[M++]=S[P]}else O[M++]=0,O[M++]=0}return O}},{"./resize_filter_info":7}],7:[function(n,r,i){var s={box:{win:.5,fn:function(o){return o<0&&(o=-o),o<.5?1:0}},hamming:{win:1,fn:function(o){if(o<0&&(o=-o),o>=1)return 0;if(o<11920929e-14)return 1;var l=o*Math.PI;return Math.sin(l)/l*(.54+.46*Math.cos(l/1))}},lanczos2:{win:2,fn:function(o){if(o<0&&(o=-o),o>=2)return 0;if(o<11920929e-14)return 1;var l=o*Math.PI;return Math.sin(l)/l*Math.sin(l/2)/(l/2)}},lanczos3:{win:3,fn:function(o){if(o<0&&(o=-o),o>=3)return 0;if(o<11920929e-14)return 1;var l=o*Math.PI;return Math.sin(l)/l*Math.sin(l/3)/(l/3)}},mks2013:{win:2.5,fn:function(o){return o<0&&(o=-o),o>=2.5?0:o>=1.5?-.125*(o-2.5)*(o-2.5):o>=.5?.25*(4*o*o-11*o+7):1.0625-1.75*o*o}}};r.exports={filter:s,f2q:{box:0,hamming:1,lanczos2:2,lanczos3:3},q2f:["box","hamming","lanczos2","lanczos3"]}},{}],8:[function(n,r,i){var s=n("./resize_filter_gen");function a(f,d,p){for(var y=3,m=d*p*4|0;y<m;){if(f[y]!==255)return!0;y=y+4|0}return!1}function o(f,d,p){for(var y=3,m=d*p*4|0;y<m;)f[y]=255,y=y+4|0}function l(f){return new Uint8Array(f.buffer,0,f.byteLength)}var u=!0;try{u=new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0]===1}catch{}function c(f,d,p){if(u){d.set(l(f),p);return}for(var y=p,m=0;m<f.length;m++){var x=f[m];d[y++]=x&255,d[y++]=x>>8&255}}r.exports=function(d){var p=d.src,y=d.width,m=d.height,x=d.toWidth,g=d.toHeight,h=d.scaleX||d.toWidth/d.width,v=d.scaleY||d.toHeight/d.height,E=d.offsetX||0,w=d.offsetY||0,A=d.dest||new Uint8Array(x*g*4),_=typeof d.filter>"u"?"mks2013":d.filter,S=s(_,y,x,h,E),C=s(_,m,g,v,w),I=0,P=Math.max(p.byteLength,A.byteLength),j=this.__align(I+P),N=m*x*4*2,L=this.__align(j+N),$=this.__align(L+S.byteLength),R=$+C.byteLength,T=this.__instance("resize",R),k=new Uint8Array(this.__memory.buffer),B=new Uint32Array(this.__memory.buffer),O=new Uint32Array(p.buffer);B.set(O),c(S,k,L),c(C,k,$);var M=T.exports.convolveHV||T.exports._convolveHV;a(p,y,m)?M(L,$,j,y,m,x,g,1):(M(L,$,j,y,m,x,g,0),o(A,x,g));var D=new Uint32Array(A.buffer);return D.set(new Uint32Array(this.__memory.buffer,0,g*x)),A}},{"./resize_filter_gen":6}],9:[function(n,r,i){r.exports={name:"unsharp_mask",fn:n("./unsharp_mask"),wasm_fn:n("./unsharp_mask_wasm"),wasm_src:n("./unsharp_mask_wasm_base64")}},{"./unsharp_mask":10,"./unsharp_mask_wasm":11,"./unsharp_mask_wasm_base64":12}],10:[function(n,r,i){var s=n("glur/mono16");function a(o,l,u){for(var c=l*u,f=new Uint16Array(c),d,p,y,m,x=0;x<c;x++)d=o[4*x],p=o[4*x+1],y=o[4*x+2],m=d>=p&&d>=y?d:p>=y&&p>=d?p:y,f[x]=m<<8;return f}r.exports=function(l,u,c,f,d,p){var y,m,x,g,h;if(!(f===0||d<.5)){d>2&&(d=2);var v=a(l,u,c),E=new Uint16Array(v);s(E,u,c,d);for(var w=f/100*4096+.5|0,A=p<<8,_=u*c,S=0;S<_;S++)y=v[S],g=y-E[S],Math.abs(g)>=A&&(m=y+(w*g+2048>>12),m=m>65280?65280:m,m=m<0?0:m,y=y!==0?y:1,x=(m<<12)/y|0,h=S*4,l[h]=l[h]*x+2048>>12,l[h+1]=l[h+1]*x+2048>>12,l[h+2]=l[h+2]*x+2048>>12)}}},{"glur/mono16":18}],11:[function(n,r,i){r.exports=function(a,o,l,u,c,f){if(!(u===0||c<.5)){c>2&&(c=2);var d=o*l,p=d*4,y=d*2,m=d*2,x=Math.max(o,l)*4,g=8*4,h=0,v=p,E=v+y,w=E+m,A=w+m,_=A+x,S=this.__instance("unsharp_mask",p+y+m*2+x+g,{exp:Math.exp}),C=new Uint32Array(a.buffer),I=new Uint32Array(this.__memory.buffer);I.set(C);var P=S.exports.hsv_v16||S.exports._hsv_v16;P(h,v,o,l),P=S.exports.blurMono16||S.exports._blurMono16,P(v,E,w,A,_,o,l,c),P=S.exports.unsharp||S.exports._unsharp,P(h,h,v,E,o,l,u,f),C.set(new Uint32Array(this.__memory.buffer,0,d))}}},{}],12:[function(n,r,i){r.exports="AGFzbQEAAAAADAZkeWxpbmsAAAAAAAE0B2AAAGAEf39/fwBgBn9/f39/fwBgCH9/f39/f39/AGAIf39/f39/f30AYAJ9fwBgAXwBfAIZAgNlbnYDZXhwAAYDZW52Bm1lbW9yeQIAAAMHBgAFAgQBAwYGAX8AQQALB4oBCBFfX3dhc21fY2FsbF9jdG9ycwABFl9fYnVpbGRfZ2F1c3NpYW5fY29lZnMAAg5fX2dhdXNzMTZfbGluZQADCmJsdXJNb25vMTYABAdoc3ZfdjE2AAUHdW5zaGFycAAGDF9fZHNvX2hhbmRsZQMAGF9fd2FzbV9hcHBseV9kYXRhX3JlbG9jcwABCsUMBgMAAQvWAQEHfCABRNuGukOCGvs/IAC7oyICRAAAAAAAAADAohAAIgW2jDgCFCABIAKaEAAiAyADoCIGtjgCECABRAAAAAAAAPA/IAOhIgQgBKIgAyACIAKgokQAAAAAAADwP6AgBaGjIgS2OAIAIAEgBSAEmqIiB7Y4AgwgASADIAJEAAAAAAAA8D+gIASioiIItjgCCCABIAMgAkQAAAAAAADwv6AgBKKiIgK2OAIEIAEgByAIoCAFRAAAAAAAAPA/IAahoCIDo7Y4AhwgASAEIAKgIAOjtjgCGAuGBQMGfwl8An0gAyoCDCEVIAMqAgghFiADKgIUuyERIAMqAhC7IRACQCAEQQFrIghBAEgiCQRAIAIhByAAIQYMAQsgAiAALwEAuCIPIAMqAhi7oiIMIBGiIg0gDCAQoiAPIAMqAgS7IhOiIhQgAyoCALsiEiAPoqCgoCIOtjgCACACQQRqIQcgAEECaiEGIAhFDQAgCEEBIAhBAUgbIgpBf3MhCwJ/IAQgCmtBAXFFBEAgDiENIAgMAQsgAiANIA4gEKIgFCASIAAvAQK4Ig+ioKCgIg22OAIEIAJBCGohByAAQQRqIQYgDiEMIARBAmsLIQIgC0EAIARrRg0AA0AgByAMIBGiIA0gEKIgDyAToiASIAYvAQC4Ig6ioKCgIgy2OAIAIAcgDSARoiAMIBCiIA4gE6IgEiAGLwECuCIPoqCgoCINtjgCBCAHQQhqIQcgBkEEaiEGIAJBAkohACACQQJrIQIgAA0ACwsCQCAJDQAgASAFIAhsQQF0aiIAAn8gBkECay8BACICuCINIBW7IhKiIA0gFrsiE6KgIA0gAyoCHLuiIgwgEKKgIAwgEaKgIg8gB0EEayIHKgIAu6AiDkQAAAAAAADwQWMgDkQAAAAAAAAAAGZxBEAgDqsMAQtBAAs7AQAgCEUNACAGQQRrIQZBACAFa0EBdCEBA0ACfyANIBKiIAJB//8DcbgiDSAToqAgDyIOIBCioCAMIBGioCIPIAdBBGsiByoCALugIgxEAAAAAAAA8EFjIAxEAAAAAAAAAABmcQRAIAyrDAELQQALIQMgBi8BACECIAAgAWoiACADOwEAIAZBAmshBiAIQQFKIQMgDiEMIAhBAWshCCADDQALCwvRAgIBfwd8AkAgB0MAAAAAWw0AIARE24a6Q4Ia+z8gB0MAAAA/l7ujIglEAAAAAAAAAMCiEAAiDLaMOAIUIAQgCZoQACIKIAqgIg22OAIQIAREAAAAAAAA8D8gCqEiCyALoiAKIAkgCaCiRAAAAAAAAPA/oCAMoaMiC7Y4AgAgBCAMIAuaoiIOtjgCDCAEIAogCUQAAAAAAADwP6AgC6KiIg+2OAIIIAQgCiAJRAAAAAAAAPC/oCALoqIiCbY4AgQgBCAOIA+gIAxEAAAAAAAA8D8gDaGgIgqjtjgCHCAEIAsgCaAgCqO2OAIYIAYEQANAIAAgBSAIbEEBdGogAiAIQQF0aiADIAQgBSAGEAMgCEEBaiIIIAZHDQALCyAFRQ0AQQAhCANAIAIgBiAIbEEBdGogASAIQQF0aiADIAQgBiAFEAMgCEEBaiIIIAVHDQALCwtxAQN/IAIgA2wiBQRAA0AgASAAKAIAIgRBEHZB/wFxIgIgAiAEQQh2Qf8BcSIDIAMgBEH/AXEiBEkbIAIgA0sbIgYgBiAEIAIgBEsbIAMgBEsbQQh0OwEAIAFBAmohASAAQQRqIQAgBUEBayIFDQALCwuZAgIDfwF8IAQgBWwhBAJ/IAazQwAAgEWUQwAAyEKVu0QAAAAAAADgP6AiC5lEAAAAAAAA4EFjBEAgC6oMAQtBgICAgHgLIQUgBARAIAdBCHQhCUEAIQYDQCAJIAIgBkEBdCIHai8BACIBIAMgB2ovAQBrIgcgB0EfdSIIaiAIc00EQCAAIAZBAnQiCGoiCiAFIAdsQYAQakEMdSABaiIHQYD+AyAHQYD+A0gbIgdBACAHQQBKG0EMdCABQQEgARtuIgEgCi0AAGxBgBBqQQx2OgAAIAAgCEEBcmoiByABIActAABsQYAQakEMdjoAACAAIAhBAnJqIgcgASAHLQAAbEGAEGpBDHY6AAALIAZBAWoiBiAERw0ACwsL"},{}],13:[function(n,r,i){var s=100;function a(o,l){this.create=o,this.available=[],this.acquired={},this.lastId=1,this.timeoutId=0,this.idle=l||2e3}a.prototype.acquire=function(){var o=this,l;return this.available.length!==0?l=this.available.pop():(l=this.create(),l.id=this.lastId++,l.release=function(){return o.release(l)}),this.acquired[l.id]=l,l},a.prototype.release=function(o){var l=this;delete this.acquired[o.id],o.lastUsed=Date.now(),this.available.push(o),this.timeoutId===0&&(this.timeoutId=setTimeout(function(){return l.gc()},s))},a.prototype.gc=function(){var o=this,l=Date.now();this.available=this.available.filter(function(u){return l-u.lastUsed>o.idle?(u.destroy(),!1):!0}),this.available.length!==0?this.timeoutId=setTimeout(function(){return o.gc()},s):this.timeoutId=0},r.exports=a},{}],14:[function(n,r,i){var s=2;r.exports=function(o,l,u,c,f,d){var p=u/o,y=c/l,m=(2*d+s+1)/f;if(m>.5)return[[u,c]];var x=Math.ceil(Math.log(Math.min(p,y))/Math.log(m));if(x<=1)return[[u,c]];for(var g=[],h=0;h<x;h++){var v=Math.round(Math.pow(Math.pow(o,x-h-1)*Math.pow(u,h+1),1/x)),E=Math.round(Math.pow(Math.pow(l,x-h-1)*Math.pow(c,h+1),1/x));g.push([v,E])}return g}},{}],15:[function(n,r,i){var s=1e-5;function a(l){var u=Math.round(l);return Math.abs(l-u)<s?u:Math.floor(l)}function o(l){var u=Math.round(l);return Math.abs(l-u)<s?u:Math.ceil(l)}r.exports=function(u){var c=u.toWidth/u.width,f=u.toHeight/u.height,d=a(u.srcTileSize*c)-2*u.destTileBorder,p=a(u.srcTileSize*f)-2*u.destTileBorder;if(d<1||p<1)throw new Error("Internal error in pica: target tile width/height is too small.");var y,m,x,g,h,v,E=[],w;for(g=0;g<u.toHeight;g+=p)for(x=0;x<u.toWidth;x+=d)y=x-u.destTileBorder,y<0&&(y=0),h=x+d+u.destTileBorder-y,y+h>=u.toWidth&&(h=u.toWidth-y),m=g-u.destTileBorder,m<0&&(m=0),v=g+p+u.destTileBorder-m,m+v>=u.toHeight&&(v=u.toHeight-m),w={toX:y,toY:m,toWidth:h,toHeight:v,toInnerX:x,toInnerY:g,toInnerWidth:d,toInnerHeight:p,offsetX:y/c-a(y/c),offsetY:m/f-a(m/f),scaleX:c,scaleY:f,x:a(y/c),y:a(m/f),width:o(h/c),height:o(v/f)},E.push(w);return E}},{}],16:[function(n,r,i){function s(a){return Object.prototype.toString.call(a)}r.exports.isCanvas=function(o){var l=s(o);return l==="[object HTMLCanvasElement]"||l==="[object OffscreenCanvas]"||l==="[object Canvas]"},r.exports.isImage=function(o){return s(o)==="[object HTMLImageElement]"},r.exports.isImageBitmap=function(o){return s(o)==="[object ImageBitmap]"},r.exports.limiter=function(o){var l=0,u=[];function c(){l<o&&u.length&&(l++,u.shift()())}return function(d){return new Promise(function(p,y){u.push(function(){d().then(function(m){p(m),l--,c()},function(m){y(m),l--,c()})}),c()})}},r.exports.cib_quality_name=function(o){switch(o){case 0:return"pixelated";case 1:return"low";case 2:return"medium"}return"high"},r.exports.cib_support=function(o){return Promise.resolve().then(function(){if(typeof createImageBitmap>"u")return!1;var l=o(100,100);return createImageBitmap(l,0,0,100,100,{resizeWidth:10,resizeHeight:10,resizeQuality:"high"}).then(function(u){var c=u.width===10;return u.close(),l=null,c})}).catch(function(){return!1})},r.exports.worker_offscreen_canvas_support=function(){return new Promise(function(o,l){if(typeof OffscreenCanvas>"u"){o(!1);return}function u(d){if(typeof createImageBitmap>"u"){d.postMessage(!1);return}Promise.resolve().then(function(){var p=new OffscreenCanvas(10,10),y=p.getContext("2d");return y.rect(0,0,1,1),createImageBitmap(p,0,0,1,1)}).then(function(){return d.postMessage(!0)},function(){return d.postMessage(!1)})}var c=btoa("(".concat(u.toString(),")(self);")),f=new Worker("data:text/javascript;base64,".concat(c));f.onmessage=function(d){return o(d.data)},f.onerror=l}).then(function(o){return o},function(){return!1})},r.exports.can_use_canvas=function(o){var l=!1;try{var u=o(2,1),c=u.getContext("2d"),f=c.createImageData(2,1);f.data[0]=12,f.data[1]=23,f.data[2]=34,f.data[3]=255,f.data[4]=45,f.data[5]=56,f.data[6]=67,f.data[7]=255,c.putImageData(f,0,0),f=null,f=c.getImageData(0,0,2,1),f.data[0]===12&&f.data[1]===23&&f.data[2]===34&&f.data[3]===255&&f.data[4]===45&&f.data[5]===56&&f.data[6]===67&&f.data[7]===255&&(l=!0)}catch{}return l},r.exports.cib_can_use_region=function(){return new Promise(function(o){if(typeof Image>"u"||typeof createImageBitmap>"u"){o(!1);return}var l=new Image;l.src="data:image/jpeg;base64,/9j/4QBiRXhpZgAATU0AKgAAAAgABQESAAMAAAABAAYAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAAAAABIAAAAAQAAAEgAAAAB/9sAQwAEAwMEAwMEBAMEBQQEBQYKBwYGBgYNCQoICg8NEBAPDQ8OERMYFBESFxIODxUcFRcZGRsbGxAUHR8dGh8YGhsa/9sAQwEEBQUGBQYMBwcMGhEPERoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoa/8IAEQgAAQACAwERAAIRAQMRAf/EABQAAQAAAAAAAAAAAAAAAAAAAAf/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAF/P//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAQUCf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Bf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Bf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEABj8Cf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAT8hf//aAAwDAQACAAMAAAAQH//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Qf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Qf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAT8Qf//Z",l.onload=function(){createImageBitmap(l,0,0,l.width,l.height).then(function(u){u.width===l.width&&u.height===l.height?o(!0):o(!1)},function(){return o(!1)})},l.onerror=function(){return o(!1)}})}},{}],17:[function(n,r,i){r.exports=function(){var s=n("./mathlib"),a;onmessage=function(l){var u=l.data.opts;if(!u.src&&u.srcBitmap){var c=new OffscreenCanvas(u.width,u.height),f=c.getContext("2d");f.drawImage(u.srcBitmap,0,0),u.src=f.getImageData(0,0,u.width,u.height).data,c.width=c.height=0,c=null,u.srcBitmap.close(),u.srcBitmap=null}a||(a=new s(l.data.features));var d=a.resizeAndUnsharp(u);postMessage({data:d},[d.buffer])}}},{"./mathlib":1}],18:[function(n,r,i){var s,a,o,l,u,c,f,d;function p(x){x<.5&&(x=.5);var g=Math.exp(.726*.726)/x,h=Math.exp(-g),v=Math.exp(-2*g),E=(1-h)*(1-h)/(1+2*g*h-v);return s=E,a=E*(g-1)*h,o=E*(g+1)*h,l=-E*v,u=2*h,c=-v,f=(s+a)/(1-u-c),d=(o+l)/(1-u-c),new Float32Array([s,a,o,l,u,c,f,d])}function y(x,g,h,v,E,w){var A,_,S,C,I,P,j,N,L,$,R,T,k,B;for(L=0;L<w;L++){for(P=L*E,j=L,N=0,A=x[P],I=A*v[6],C=I,R=v[0],T=v[1],k=v[4],B=v[5],$=0;$<E;$++)_=x[P],S=_*R+A*T+C*k+I*B,I=C,C=S,A=_,h[N]=C,N++,P++;for(P--,N--,j+=w*(E-1),A=x[P],I=A*v[7],C=I,_=A,R=v[2],T=v[3],$=E-1;$>=0;$--)S=_*R+A*T+C*k+I*B,I=C,C=S,A=_,_=x[P],g[j]=h[N]+C,P--,N--,j-=w}}function m(x,g,h,v){if(v){var E=new Uint16Array(x.length),w=new Float32Array(Math.max(g,h)),A=p(v);y(x,E,w,A,g,h),y(E,x,w,A,h,g)}}r.exports=m},{}],19:[function(n,r,i){var s=n("object-assign"),a=n("./lib/base64decode"),o=n("./lib/wa_detect"),l={js:!0,wasm:!0};function u(c){if(!(this instanceof u))return new u(c);var f=s({},l,c||{});if(this.options=f,this.__cache={},this.__init_promise=null,this.__modules=f.modules||{},this.__memory=null,this.__wasm={},this.__isLE=new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0]===1,!this.options.js&&!this.options.wasm)throw new Error('mathlib: at least "js" or "wasm" should be enabled')}u.prototype.has_wasm=o,u.prototype.use=function(c){return this.__modules[c.name]=c,this.options.wasm&&this.has_wasm()&&c.wasm_fn?this[c.name]=c.wasm_fn:this[c.name]=c.fn,this},u.prototype.init=function(){if(this.__init_promise)return this.__init_promise;if(!this.options.js&&this.options.wasm&&!this.has_wasm())return Promise.reject(new Error(`mathlib: only "wasm" was enabled, but it's not supported`));var c=this;return this.__init_promise=Promise.all(Object.keys(c.__modules).map(function(f){var d=c.__modules[f];return!c.options.wasm||!c.has_wasm()||!d.wasm_fn||c.__wasm[f]?null:WebAssembly.compile(c.__base64decode(d.wasm_src)).then(function(p){c.__wasm[f]=p})})).then(function(){return c}),this.__init_promise},u.prototype.__base64decode=a,u.prototype.__reallocate=function(f){if(!this.__memory)return this.__memory=new WebAssembly.Memory({initial:Math.ceil(f/(64*1024))}),this.__memory;var d=this.__memory.buffer.byteLength;return d<f&&this.__memory.grow(Math.ceil((f-d)/(64*1024))),this.__memory},u.prototype.__instance=function(f,d,p){if(d&&this.__reallocate(d),!this.__wasm[f]){var y=this.__modules[f];this.__wasm[f]=new WebAssembly.Module(this.__base64decode(y.wasm_src))}if(!this.__cache[f]){var m={memoryBase:0,memory:this.__memory,tableBase:0,table:new WebAssembly.Table({initial:0,element:"anyfunc"})};this.__cache[f]=new WebAssembly.Instance(this.__wasm[f],{env:s(m,p||{})})}return this.__cache[f]},u.prototype.__align=function(f,d){d=d||8;var p=f%d;return f+(p?d-p:0)},r.exports=u},{"./lib/base64decode":20,"./lib/wa_detect":21,"object-assign":22}],20:[function(n,r,i){var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";r.exports=function(o){for(var l=o.replace(/[\r\n=]/g,""),u=l.length,c=new Uint8Array(u*3>>2),f=0,d=0,p=0;p<u;p++)p%4===0&&p&&(c[d++]=f>>16&255,c[d++]=f>>8&255,c[d++]=f&255),f=f<<6|s.indexOf(l.charAt(p));var y=u%4*6;return y===0?(c[d++]=f>>16&255,c[d++]=f>>8&255,c[d++]=f&255):y===18?(c[d++]=f>>10&255,c[d++]=f>>2&255):y===12&&(c[d++]=f>>4&255),c}},{}],21:[function(n,r,i){var s;r.exports=function(){if(typeof s<"u"||(s=!1,typeof WebAssembly>"u"))return s;try{var o=new Uint8Array([0,97,115,109,1,0,0,0,1,6,1,96,1,127,1,127,3,2,1,0,5,3,1,0,1,7,8,1,4,116,101,115,116,0,0,10,16,1,14,0,32,0,65,1,54,2,0,32,0,40,2,0,11]),l=new WebAssembly.Module(o),u=new WebAssembly.Instance(l,{});return u.exports.test(4)!==0&&(s=!0),s}catch{}return s}},{}],22:[function(n,r,i){var s=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function l(c){if(c==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(c)}function u(){try{if(!Object.assign)return!1;var c=new String("abc");if(c[5]="de",Object.getOwnPropertyNames(c)[0]==="5")return!1;for(var f={},d=0;d<10;d++)f["_"+String.fromCharCode(d)]=d;var p=Object.getOwnPropertyNames(f).map(function(m){return f[m]});if(p.join("")!=="0123456789")return!1;var y={};return"abcdefghijklmnopqrst".split("").forEach(function(m){y[m]=m}),Object.keys(Object.assign({},y)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}r.exports=u()?Object.assign:function(c,f){for(var d,p=l(c),y,m=1;m<arguments.length;m++){d=Object(arguments[m]);for(var x in d)a.call(d,x)&&(p[x]=d[x]);if(s){y=s(d);for(var g=0;g<y.length;g++)o.call(d,y[g])&&(p[y[g]]=d[y[g]])}}return p}},{}],23:[function(n,r,i){var s=arguments[3],a=arguments[4],o=arguments[5],l=JSON.stringify;r.exports=function(u,c){for(var f,d=Object.keys(o),p=0,y=d.length;p<y;p++){var m=d[p],x=o[m].exports;if(x===u||x&&x.default===u){f=m;break}}if(!f){f=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var g={},p=0,y=d.length;p<y;p++){var m=d[p];g[m]=m}a[f]=["function(require,module,exports){"+u+"(self); }",g]}var h=Math.floor(Math.pow(16,8)*Math.random()).toString(16),v={};v[f]=f,a[h]=["function(require,module,exports){var f = require("+l(f)+");(f.default ? f.default : f)(self);}",v];var E={};w(h);function w(P){E[P]=!0;for(var j in a[P][1]){var N=a[P][1][j];E[N]||w(N)}}var A="("+s+")({"+Object.keys(E).map(function(P){return l(P)+":["+a[P][0]+","+l(a[P][1])+"]"}).join(",")+"},{},["+l(h)+"])",_=window.URL||window.webkitURL||window.mozURL||window.msURL,S=new Blob([A],{type:"text/javascript"});if(c&&c.bare)return S;var C=_.createObjectURL(S),I=new Worker(C);return I.objectURL=C,I}},{}],"/index.js":[function(n,r,i){function s(R,T){return c(R)||u(R,T)||o(R,T)||a()}function a(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o(R,T){if(R){if(typeof R=="string")return l(R,T);var k=Object.prototype.toString.call(R).slice(8,-1);if(k==="Object"&&R.constructor&&(k=R.constructor.name),k==="Map"||k==="Set")return Array.from(R);if(k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return l(R,T)}}function l(R,T){(T==null||T>R.length)&&(T=R.length);for(var k=0,B=new Array(T);k<T;k++)B[k]=R[k];return B}function u(R,T){var k=R==null?null:typeof Symbol<"u"&&R[Symbol.iterator]||R["@@iterator"];if(k!=null){var B=[],O=!0,M=!1,D,Q;try{for(k=k.call(R);!(O=(D=k.next()).done)&&(B.push(D.value),!(T&&B.length===T));O=!0);}catch(V){M=!0,Q=V}finally{try{!O&&k.return!=null&&k.return()}finally{if(M)throw Q}}return B}}function c(R){if(Array.isArray(R))return R}var f=n("object-assign"),d=n("webworkify"),p=n("./lib/mathlib"),y=n("./lib/pool"),m=n("./lib/utils"),x=n("./lib/worker"),g=n("./lib/stepper"),h=n("./lib/tiler"),v=n("./lib/mm_resize/resize_filter_info"),E={},w=!1;try{typeof navigator<"u"&&navigator.userAgent&&(w=navigator.userAgent.indexOf("Safari")>=0)}catch{}var A=1;typeof navigator<"u"&&(A=Math.min(navigator.hardwareConcurrency||1,4));var _={tile:1024,concurrency:A,features:["js","wasm","ww"],idle:2e3,createCanvas:function(T,k){var B=document.createElement("canvas");return B.width=T,B.height=k,B}},S={filter:"mks2013",unsharpAmount:0,unsharpRadius:0,unsharpThreshold:0},C=!1,I=!1,P=!1,j=!1,N=!1;function L(){return{value:d(x),destroy:function(){if(this.value.terminate(),typeof window<"u"){var T=window.URL||window.webkitURL||window.mozURL||window.msURL;T&&T.revokeObjectURL&&this.value.objectURL&&T.revokeObjectURL(this.value.objectURL)}}}}function $(R){if(!(this instanceof $))return new $(R);this.options=f({},_,R||{});var T="lk_".concat(this.options.concurrency);this.__limit=E[T]||m.limiter(this.options.concurrency),E[T]||(E[T]=this.__limit),this.features={js:!1,wasm:!1,cib:!1,ww:!1},this.__workersPool=null,this.__requested_features=[],this.__mathlib=null}$.prototype.init=function(){var R=this;if(this.__initPromise)return this.__initPromise;if(typeof ImageData<"u"&&typeof Uint8ClampedArray<"u")try{new ImageData(new Uint8ClampedArray(400),10,10),C=!0}catch{}typeof ImageBitmap<"u"&&(ImageBitmap.prototype&&ImageBitmap.prototype.close?I=!0:this.debug("ImageBitmap does not support .close(), disabled"));var T=this.options.features.slice();if(T.indexOf("all")>=0&&(T=["cib","wasm","js","ww"]),this.__requested_features=T,this.__mathlib=new p(T),T.indexOf("ww")>=0&&typeof window<"u"&&"Worker"in window)try{var k=n("webworkify")(function(){});k.terminate(),this.features.ww=!0;var B="wp_".concat(JSON.stringify(this.options));E[B]?this.__workersPool=E[B]:(this.__workersPool=new y(L,this.options.idle),E[B]=this.__workersPool)}catch{}var O=this.__mathlib.init().then(function(V){f(R.features,V.features)}),M;I?M=m.cib_support(this.options.createCanvas).then(function(V){if(R.features.cib&&T.indexOf("cib")<0){R.debug("createImageBitmap() resize supported, but disabled by config");return}T.indexOf("cib")>=0&&(R.features.cib=V)}):M=Promise.resolve(!1),P=m.can_use_canvas(this.options.createCanvas);var D;I&&C&&T.indexOf("ww")!==-1?D=m.worker_offscreen_canvas_support():D=Promise.resolve(!1),D=D.then(function(V){j=V});var Q=m.cib_can_use_region().then(function(V){N=V});return this.__initPromise=Promise.all([O,M,D,Q]).then(function(){return R}),this.__initPromise},$.prototype.__invokeResize=function(R,T){var k=this;return T.__mathCache=T.__mathCache||{},Promise.resolve().then(function(){return k.features.ww?new Promise(function(B,O){var M=k.__workersPool.acquire();T.cancelToken&&T.cancelToken.catch(function(Q){return O(Q)}),M.value.onmessage=function(Q){M.release(),Q.data.err?O(Q.data.err):B(Q.data)};var D=[];R.src&&D.push(R.src.buffer),R.srcBitmap&&D.push(R.srcBitmap),M.value.postMessage({opts:R,features:k.__requested_features,preload:{wasm_nodule:k.__mathlib.__}},D)}):{data:k.__mathlib.resizeAndUnsharp(R,T.__mathCache)}})},$.prototype.__extractTileData=function(R,T,k,B,O){if(this.features.ww&&j&&(m.isCanvas(T)||N))return this.debug("Create tile for OffscreenCanvas"),createImageBitmap(B.srcImageBitmap||T,R.x,R.y,R.width,R.height).then(function(Q){return O.srcBitmap=Q,O});if(m.isCanvas(T))return B.srcCtx||(B.srcCtx=T.getContext("2d")),this.debug("Get tile pixel data"),O.src=B.srcCtx.getImageData(R.x,R.y,R.width,R.height).data,O;this.debug("Draw tile imageBitmap/image to temporary canvas");var M=this.options.createCanvas(R.width,R.height),D=M.getContext("2d");return D.globalCompositeOperation="copy",D.drawImage(B.srcImageBitmap||T,R.x,R.y,R.width,R.height,0,0,R.width,R.height),this.debug("Get tile pixel data"),O.src=D.getImageData(0,0,R.width,R.height).data,M.width=M.height=0,O},$.prototype.__landTileData=function(R,T,k){var B;if(this.debug("Convert raw rgba tile result to ImageData"),T.bitmap)return k.toCtx.drawImage(T.bitmap,R.toX,R.toY),null;if(C)B=new ImageData(new Uint8ClampedArray(T.data),R.toWidth,R.toHeight);else if(B=k.toCtx.createImageData(R.toWidth,R.toHeight),B.data.set)B.data.set(T.data);else for(var O=B.data.length-1;O>=0;O--)B.data[O]=T.data[O];return this.debug("Draw tile"),w?k.toCtx.putImageData(B,R.toX,R.toY,R.toInnerX-R.toX,R.toInnerY-R.toY,R.toInnerWidth+1e-5,R.toInnerHeight+1e-5):k.toCtx.putImageData(B,R.toX,R.toY,R.toInnerX-R.toX,R.toInnerY-R.toY,R.toInnerWidth,R.toInnerHeight),null},$.prototype.__tileAndResize=function(R,T,k){var B=this,O={srcCtx:null,srcImageBitmap:null,isImageBitmapReused:!1,toCtx:null},M=function(Q){return B.__limit(function(){if(k.canceled)return k.cancelToken;var V={width:Q.width,height:Q.height,toWidth:Q.toWidth,toHeight:Q.toHeight,scaleX:Q.scaleX,scaleY:Q.scaleY,offsetX:Q.offsetX,offsetY:Q.offsetY,filter:k.filter,unsharpAmount:k.unsharpAmount,unsharpRadius:k.unsharpRadius,unsharpThreshold:k.unsharpThreshold};return B.debug("Invoke resize math"),Promise.resolve(V).then(function(K){return B.__extractTileData(Q,R,k,O,K)}).then(function(K){return B.debug("Invoke resize math"),B.__invokeResize(K,k)}).then(function(K){return k.canceled?k.cancelToken:(O.srcImageData=null,B.__landTileData(Q,K,O))})})};return Promise.resolve().then(function(){if(O.toCtx=T.getContext("2d"),m.isCanvas(R))return null;if(m.isImageBitmap(R))return O.srcImageBitmap=R,O.isImageBitmapReused=!0,null;if(m.isImage(R))return I?(B.debug("Decode image via createImageBitmap"),createImageBitmap(R).then(function(D){O.srcImageBitmap=D}).catch(function(D){return null})):null;throw new Error('Pica: ".from" should be Image, Canvas or ImageBitmap')}).then(function(){if(k.canceled)return k.cancelToken;B.debug("Calculate tiles");var D=h({width:k.width,height:k.height,srcTileSize:B.options.tile,toWidth:k.toWidth,toHeight:k.toHeight,destTileBorder:k.__destTileBorder}),Q=D.map(function(K){return M(K)});function V(K){K.srcImageBitmap&&(K.isImageBitmapReused||K.srcImageBitmap.close(),K.srcImageBitmap=null)}return B.debug("Process tiles"),Promise.all(Q).then(function(){return B.debug("Finished!"),V(O),T},function(K){throw V(O),K})})},$.prototype.__processStages=function(R,T,k,B){var O=this;if(B.canceled)return B.cancelToken;var M=R.shift(),D=s(M,2),Q=D[0],V=D[1],K=R.length===0,ve;K||v.q2f.indexOf(B.filter)<0?ve=B.filter:B.filter==="box"?ve="box":ve="hamming",B=f({},B,{toWidth:Q,toHeight:V,filter:ve});var He;return K||(He=this.options.createCanvas(Q,V)),this.__tileAndResize(T,K?k:He,B).then(function(){return K?k:(B.width=Q,B.height=V,O.__processStages(R,He,k,B))}).then(function(Di){return He&&(He.width=He.height=0),Di})},$.prototype.__resizeViaCreateImageBitmap=function(R,T,k){var B=this,O=T.getContext("2d");return this.debug("Resize via createImageBitmap()"),createImageBitmap(R,{resizeWidth:k.toWidth,resizeHeight:k.toHeight,resizeQuality:m.cib_quality_name(v.f2q[k.filter])}).then(function(M){if(k.canceled)return k.cancelToken;if(!k.unsharpAmount)return O.drawImage(M,0,0),M.close(),O=null,B.debug("Finished!"),T;B.debug("Unsharp result");var D=B.options.createCanvas(k.toWidth,k.toHeight),Q=D.getContext("2d");Q.drawImage(M,0,0),M.close();var V=Q.getImageData(0,0,k.toWidth,k.toHeight);return B.__mathlib.unsharp_mask(V.data,k.toWidth,k.toHeight,k.unsharpAmount,k.unsharpRadius,k.unsharpThreshold),O.putImageData(V,0,0),D.width=D.height=0,V=Q=D=O=null,B.debug("Finished!"),T})},$.prototype.resize=function(R,T,k){var B=this;this.debug("Start resize...");var O=f({},S);if(isNaN(k)?k&&(O=f(O,k)):O=f(O,{quality:k}),O.toWidth=T.width,O.toHeight=T.height,O.width=R.naturalWidth||R.width,O.height=R.naturalHeight||R.height,Object.prototype.hasOwnProperty.call(O,"quality")){if(O.quality<0||O.quality>3)throw new Error("Pica: .quality should be [0..3], got ".concat(O.quality));O.filter=v.q2f[O.quality]}if(T.width===0||T.height===0)return Promise.reject(new Error("Invalid output size: ".concat(T.width,"x").concat(T.height)));O.unsharpRadius>2&&(O.unsharpRadius=2),O.canceled=!1,O.cancelToken&&(O.cancelToken=O.cancelToken.then(function(D){throw O.canceled=!0,D},function(D){throw O.canceled=!0,D}));var M=3;return O.__destTileBorder=Math.ceil(Math.max(M,2.5*O.unsharpRadius|0)),this.init().then(function(){if(O.canceled)return O.cancelToken;if(B.features.cib){if(v.q2f.indexOf(O.filter)>=0)return B.__resizeViaCreateImageBitmap(R,T,O);B.debug("cib is enabled, but not supports provided filter, fallback to manual math")}if(!P){var D=new Error("Pica: cannot use getImageData on canvas, make sure fingerprinting protection isn't enabled");throw D.code="ERR_GET_IMAGE_DATA",D}var Q=g(O.width,O.height,O.toWidth,O.toHeight,B.options.tile,O.__destTileBorder);return B.__processStages(Q,R,T,O)})},$.prototype.resizeBuffer=function(R){var T=this,k=f({},S,R);if(Object.prototype.hasOwnProperty.call(k,"quality")){if(k.quality<0||k.quality>3)throw new Error("Pica: .quality should be [0..3], got ".concat(k.quality));k.filter=v.q2f[k.quality]}return this.init().then(function(){return T.__mathlib.resizeAndUnsharp(k)})},$.prototype.toBlob=function(R,T,k){return T=T||"image/png",new Promise(function(B){if(R.toBlob){R.toBlob(function(V){return B(V)},T,k);return}if(R.convertToBlob){B(R.convertToBlob({type:T,quality:k}));return}for(var O=atob(R.toDataURL(T,k).split(",")[1]),M=O.length,D=new Uint8Array(M),Q=0;Q<M;Q++)D[Q]=O.charCodeAt(Q);B(new Blob([D],{type:T}))})},$.prototype.debug=function(){},r.exports=$},{"./lib/mathlib":1,"./lib/mm_resize/resize_filter_info":7,"./lib/pool":13,"./lib/stepper":14,"./lib/tiler":15,"./lib/utils":16,"./lib/worker":17,"object-assign":22,webworkify:23}]},{},[])("/index.js")})})(bv);var jI=bv.exports;const MI=Al(jI);var Rf={exports:{}};(function(e,t){(function(){var n={};n.version="1.0.4",n.remove=function(w){var A=!1;if(w.slice(0,2)!="")if(w.slice(0,23)=="data:image/jpeg;base64,"||w.slice(0,22)=="data:image/jpg;base64,")w=d(w.split(",")[1]),A=!0;else throw new Error("Given data is not jpeg.");var _=x(w),S=_.filter(function(I){return!(I.slice(0,2)==""&&I.slice(4,10)=="Exif\0\0")}),C=S.join("");return A&&(C="data:image/jpeg;base64,"+f(C)),C},n.insert=function(w,A){var _=!1;if(w.slice(0,6)!="Exif\0\0")throw new Error("Given data is not exif.");if(A.slice(0,2)!="")if(A.slice(0,23)=="data:image/jpeg;base64,"||A.slice(0,22)=="data:image/jpg;base64,")A=d(A.split(",")[1]),_=!0;else throw new Error("Given data is not jpeg.");var S=""+p(">H",[w.length+2])+w,C=x(A),I=h(C,S);return _&&(I="data:image/jpeg;base64,"+f(I)),I},n.load=function(w){var A;if(typeof w=="string")if(w.slice(0,2)=="")A=w;else if(w.slice(0,23)=="data:image/jpeg;base64,"||w.slice(0,22)=="data:image/jpg;base64,")A=d(w.split(",")[1]);else if(w.slice(0,4)=="Exif")A=w.slice(6);else throw new Error("'load' gots invalid file data.");else throw new Error("'load' gots invalid type argument.");var _={"0th":{},Exif:{},GPS:{},Interop:{},"1st":{},thumbnail:null},S=new c(A);if(S.tiftag===null)return _;S.tiftag.slice(0,2)=="II"?S.endian_mark="<":S.endian_mark=">";var C=y(S.endian_mark+"L",S.tiftag.slice(4,8))[0];_["0th"]=S.get_ifd(C,"0th");var I=_["0th"].first_ifd_pointer;if(delete _["0th"].first_ifd_pointer,34665 in _["0th"]&&(C=_["0th"][34665],_.Exif=S.get_ifd(C,"Exif")),34853 in _["0th"]&&(C=_["0th"][34853],_.GPS=S.get_ifd(C,"GPS")),40965 in _.Exif&&(C=_.Exif[40965],_.Interop=S.get_ifd(C,"Interop")),I!="\0\0\0\0"&&(C=y(S.endian_mark+"L",I)[0],_["1st"]=S.get_ifd(C,"1st"),513 in _["1st"]&&514 in _["1st"])){var P=_["1st"][513]+_["1st"][514],j=S.tiftag.slice(_["1st"][513],P);_.thumbnail=j}return _},n.dump=function(w){var A=8,_=r(w),S="Exif\0\0MM\0*\0\0\0\b",C=!1,I=!1,P=!1,j=!1,N,L,$,R,T;"0th"in _?N=_["0th"]:N={},"Exif"in _&&Object.keys(_.Exif).length||"Interop"in _&&Object.keys(_.Interop).length?(N[34665]=1,C=!0,L=_.Exif,"Interop"in _&&Object.keys(_.Interop).length?(L[40965]=1,P=!0,$=_.Interop):Object.keys(L).indexOf(n.ExifIFD.InteroperabilityTag.toString())>-1&&delete L[40965]):Object.keys(N).indexOf(n.ImageIFD.ExifTag.toString())>-1&&delete N[34665],"GPS"in _&&Object.keys(_.GPS).length?(N[n.ImageIFD.GPSTag]=1,I=!0,R=_.GPS):Object.keys(N).indexOf(n.ImageIFD.GPSTag.toString())>-1&&delete N[n.ImageIFD.GPSTag],"1st"in _&&"thumbnail"in _&&_.thumbnail!=null&&(j=!0,_["1st"][513]=1,_["1st"][514]=1,T=_["1st"]);var k=u(N,"0th",0),B=k[0].length+C*12+I*12+4+k[1].length,O,M="",D=0,Q,V="",K=0,ve,He="",Di=0,Fi,Vh="",Ea;if(C&&(O=u(L,"Exif",B),D=O[0].length+P*12+O[1].length),I&&(Q=u(R,"GPS",B+D),V=Q.join(""),K=V.length),P){var su=B+D+K;ve=u($,"Interop",su),He=ve.join(""),Di=He.length}if(j){var su=B+D+K+Di;if(Fi=u(T,"1st",su),Ea=i(_.thumbnail),Ea.length>64e3)throw new Error("Given thumbnail is too large. max 64kB")}var Kh="",Xh="",Yh="",qh="\0\0\0\0";if(C){var _n=A+B,ji=p(">L",[_n]),Mi=34665,Ui=p(">H",[Mi]),Qi=p(">H",[v.Long]),zi=p(">L",[1]);Kh=Ui+Qi+zi+ji}if(I){var _n=A+B+D,ji=p(">L",[_n]),Mi=34853,Ui=p(">H",[Mi]),Qi=p(">H",[v.Long]),zi=p(">L",[1]);Xh=Ui+Qi+zi+ji}if(P){var _n=A+B+D+K,ji=p(">L",[_n]),Mi=40965,Ui=p(">H",[Mi]),Qi=p(">H",[v.Long]),zi=p(">L",[1]);Yh=Ui+Qi+zi+ji}if(j){var _n=A+B+D+K+Di;qh=p(">L",[_n]);var Hw=_n+Fi[0].length+24+4+Fi[1].length,Vw="\0\0\0\0"+p(">L",[Hw]),Kw="\0\0\0\0"+p(">L",[Ea.length]);Vh=Fi[0]+Vw+Kw+"\0\0\0\0"+Fi[1]+Ea}var Xw=k[0]+Kh+Xh+qh+k[1];return C&&(M=O[0]+Yh+O[1]),S+Xw+M+V+He+Vh};function r(w){return JSON.parse(JSON.stringify(w))}function i(w){for(var A=x(w);""<=A[1].slice(0,2)&&A[1].slice(0,2)<="";)A=[A[0]].concat(A.slice(2));return A.join("")}function s(w){return p(">"+m("B",w.length),w)}function a(w){return p(">"+m("H",w.length),w)}function o(w){return p(">"+m("L",w.length),w)}function l(w,A,_){var S="",C="",I,P,j,N;if(A=="Byte")I=w.length,I<=4?C=s(w)+m("\0",4-I):(C=p(">L",[_]),S=s(w));else if(A=="Short")I=w.length,I<=2?C=a(w)+m("\0\0",2-I):(C=p(">L",[_]),S=a(w));else if(A=="Long")I=w.length,I<=1?C=o(w):(C=p(">L",[_]),S=o(w));else if(A=="Ascii")P=w+"\0",I=P.length,I>4?(C=p(">L",[_]),S=P):C=P+m("\0",4-I);else if(A=="Rational"){if(typeof w[0]=="number")I=1,j=w[0],N=w[1],P=p(">L",[j])+p(">L",[N]);else{I=w.length,P="";for(var L=0;L<I;L++)j=w[L][0],N=w[L][1],P+=p(">L",[j])+p(">L",[N])}C=p(">L",[_]),S=P}else if(A=="SRational"){if(typeof w[0]=="number")I=1,j=w[0],N=w[1],P=p(">l",[j])+p(">l",[N]);else{I=w.length,P="";for(var L=0;L<I;L++)j=w[L][0],N=w[L][1],P+=p(">l",[j])+p(">l",[N])}C=p(">L",[_]),S=P}else A=="Undefined"&&(I=w.length,I>4?(C=p(">L",[_]),S=w):C=w+m("\0",4-I));var $=p(">L",[I]);return[$,C,S]}function u(w,A,_){var S=8,C=Object.keys(w).length,I=p(">H",[C]),P;["0th","1st"].indexOf(A)>-1?P=2+C*12+4:P=2+C*12;var j="",N="",L;for(var L in w)if(typeof L=="string"&&(L=parseInt(L)),!(A=="0th"&&[34665,34853].indexOf(L)>-1)){{if(A=="Exif"&&L==40965)continue;if(A=="1st"&&[513,514].indexOf(L)>-1)continue}var $=w[L],R=p(">H",[L]),T=E[A][L].type,k=p(">H",[v[T]]);typeof $=="number"&&($=[$]);var B=S+P+_+N.length,O=l($,T,B),M=O[0],D=O[1],Q=O[2];j+=R+k+M+D,N+=Q}return[I+j,N]}function c(w){var A,_;if(w.slice(0,2)=="")A=x(w),_=g(A),_?this.tiftag=_.slice(10):this.tiftag=null;else if(["II","MM"].indexOf(w.slice(0,2))>-1)this.tiftag=w;else if(w.slice(0,4)=="Exif")this.tiftag=w.slice(6);else throw new Error("Given file is neither JPEG nor TIFF.")}if(c.prototype={get_ifd:function(w,A){var _={},S=y(this.endian_mark+"H",this.tiftag.slice(w,w+2))[0],C=w+2,I;["0th","1st"].indexOf(A)>-1?I="Image":I=A;for(var P=0;P<S;P++){w=C+12*P;var j=y(this.endian_mark+"H",this.tiftag.slice(w,w+2))[0],N=y(this.endian_mark+"H",this.tiftag.slice(w+2,w+4))[0],L=y(this.endian_mark+"L",this.tiftag.slice(w+4,w+8))[0],$=this.tiftag.slice(w+8,w+12),R=[N,L,$];j in E[I]&&(_[j]=this.convert_value(R))}return A=="0th"&&(w=C+12*S,_.first_ifd_pointer=this.tiftag.slice(w,w+4)),_},convert_value:function(w){var A=null,_=w[0],S=w[1],C=w[2],I;if(_==1)S>4?(I=y(this.endian_mark+"L",C)[0],A=y(this.endian_mark+m("B",S),this.tiftag.slice(I,I+S))):A=y(this.endian_mark+m("B",S),C.slice(0,S));else if(_==2)S>4?(I=y(this.endian_mark+"L",C)[0],A=this.tiftag.slice(I,I+S-1)):A=C.slice(0,S-1);else if(_==3)S>2?(I=y(this.endian_mark+"L",C)[0],A=y(this.endian_mark+m("H",S),this.tiftag.slice(I,I+S*2))):A=y(this.endian_mark+m("H",S),C.slice(0,S*2));else if(_==4)S>1?(I=y(this.endian_mark+"L",C)[0],A=y(this.endian_mark+m("L",S),this.tiftag.slice(I,I+S*4))):A=y(this.endian_mark+m("L",S),C);else if(_==5)if(I=y(this.endian_mark+"L",C)[0],S>1){A=[];for(var P=0;P<S;P++)A.push([y(this.endian_mark+"L",this.tiftag.slice(I+P*8,I+4+P*8))[0],y(this.endian_mark+"L",this.tiftag.slice(I+4+P*8,I+8+P*8))[0]])}else A=[y(this.endian_mark+"L",this.tiftag.slice(I,I+4))[0],y(this.endian_mark+"L",this.tiftag.slice(I+4,I+8))[0]];else if(_==7)S>4?(I=y(this.endian_mark+"L",C)[0],A=this.tiftag.slice(I,I+S)):A=C.slice(0,S);else if(_==9)S>1?(I=y(this.endian_mark+"L",C)[0],A=y(this.endian_mark+m("l",S),this.tiftag.slice(I,I+S*4))):A=y(this.endian_mark+m("l",S),C);else if(_==10)if(I=y(this.endian_mark+"L",C)[0],S>1){A=[];for(var P=0;P<S;P++)A.push([y(this.endian_mark+"l",this.tiftag.slice(I+P*8,I+4+P*8))[0],y(this.endian_mark+"l",this.tiftag.slice(I+4+P*8,I+8+P*8))[0]])}else A=[y(this.endian_mark+"l",this.tiftag.slice(I,I+4))[0],y(this.endian_mark+"l",this.tiftag.slice(I+4,I+8))[0]];else throw new Error("Exif might be wrong. Got incorrect value type to decode. type:"+_);return A instanceof Array&&A.length==1?A[0]:A}},typeof window<"u"&&typeof window.btoa=="function")var f=window.btoa;if(typeof f>"u")var f=function(A){for(var _="",S,C,I,P,j,N,L,$=0,R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";$<A.length;)S=A.charCodeAt($++),C=A.charCodeAt($++),I=A.charCodeAt($++),P=S>>2,j=(S&3)<<4|C>>4,N=(C&15)<<2|I>>6,L=I&63,isNaN(C)?N=L=64:isNaN(I)&&(L=64),_=_+R.charAt(P)+R.charAt(j)+R.charAt(N)+R.charAt(L);return _};if(typeof window<"u"&&typeof window.atob=="function")var d=window.atob;if(typeof d>"u")var d=function(A){var _="",S,C,I,P,j,N,L,$=0,R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";for(A=A.replace(/[^A-Za-z0-9\+\/\=]/g,"");$<A.length;)P=R.indexOf(A.charAt($++)),j=R.indexOf(A.charAt($++)),N=R.indexOf(A.charAt($++)),L=R.indexOf(A.charAt($++)),S=P<<2|j>>4,C=(j&15)<<4|N>>2,I=(N&3)<<6|L,_=_+String.fromCharCode(S),N!=64&&(_=_+String.fromCharCode(C)),L!=64&&(_=_+String.fromCharCode(I));return _};function p(w,A){if(!(A instanceof Array))throw new Error("'pack' error. Got invalid type argument.");if(w.length-1!=A.length)throw new Error("'pack' error. "+(w.length-1)+" marks, "+A.length+" elements.");var _;if(w[0]=="<")_=!0;else if(w[0]==">")_=!1;else throw new Error("");for(var S="",C=1,I=null,P=null,j=null;P=w[C];){if(P.toLowerCase()=="b"){if(I=A[C-1],P=="b"&&I<0&&(I+=256),I>255||I<0)throw new Error("'pack' error.");j=String.fromCharCode(I)}else if(P=="H"){if(I=A[C-1],I>65535||I<0)throw new Error("'pack' error.");j=String.fromCharCode(Math.floor(I%65536/256))+String.fromCharCode(I%256),_&&(j=j.split("").reverse().join(""))}else if(P.toLowerCase()=="l"){if(I=A[C-1],P=="l"&&I<0&&(I+=4294967296),I>4294967295||I<0)throw new Error("'pack' error.");j=String.fromCharCode(Math.floor(I/16777216))+String.fromCharCode(Math.floor(I%16777216/65536))+String.fromCharCode(Math.floor(I%65536/256))+String.fromCharCode(I%256),_&&(j=j.split("").reverse().join(""))}else throw new Error("'pack' error.");S+=j,C+=1}return S}function y(w,A){if(typeof A!="string")throw new Error("'unpack' error. Got invalid type argument.");for(var _=0,S=1;S<w.length;S++)if(w[S].toLowerCase()=="b")_+=1;else if(w[S].toLowerCase()=="h")_+=2;else if(w[S].toLowerCase()=="l")_+=4;else throw new Error("'unpack' error. Got invalid mark.");if(_!=A.length)throw new Error("'unpack' error. Mismatch between symbol and string length. "+_+":"+A.length);var C;if(w[0]=="<")C=!0;else if(w[0]==">")C=!1;else throw new Error("'unpack' error.");for(var I=[],P=0,j=1,N=null,L=null,$=null,R="";L=w[j];){if(L.toLowerCase()=="b")$=1,R=A.slice(P,P+$),N=R.charCodeAt(0),L=="b"&&N>=128&&(N-=256);else if(L=="H")$=2,R=A.slice(P,P+$),C&&(R=R.split("").reverse().join("")),N=R.charCodeAt(0)*256+R.charCodeAt(1);else if(L.toLowerCase()=="l")$=4,R=A.slice(P,P+$),C&&(R=R.split("").reverse().join("")),N=R.charCodeAt(0)*16777216+R.charCodeAt(1)*65536+R.charCodeAt(2)*256+R.charCodeAt(3),L=="l"&&N>=2147483648&&(N-=4294967296);else throw new Error("'unpack' error. "+L);I.push(N),P+=$,j+=1}return I}function m(w,A){for(var _="",S=0;S<A;S++)_+=w;return _}function x(w){if(w.slice(0,2)!="")throw new Error("Given data isn't JPEG.");for(var A=2,_=[""];;){if(w.slice(A,A+2)==""){_.push(w.slice(A));break}else{var S=y(">H",w.slice(A+2,A+4))[0],C=A+S+2;_.push(w.slice(A,C)),A=C}if(A>=w.length)throw new Error("Wrong JPEG data.")}return _}function g(w){for(var A,_=0;_<w.length;_++)if(A=w[_],A.slice(0,2)==""&&A.slice(4,10)=="Exif\0\0")return A;return null}function h(w,A){var _=!1,S=[];return w.forEach(function(C,I){C.slice(0,2)==""&&C.slice(4,10)=="Exif\0\0"&&(_?S.unshift(I):(w[I]=A,_=!0))}),S.forEach(function(C){w.splice(C,1)}),!_&&A&&(w=[w[0],A].concat(w.slice(1))),w.join("")}var v={Byte:1,Ascii:2,Short:3,Long:4,Rational:5,Undefined:7,SLong:9,SRational:10},E={Image:{11:{name:"ProcessingSoftware",type:"Ascii"},254:{name:"NewSubfileType",type:"Long"},255:{name:"SubfileType",type:"Short"},256:{name:"ImageWidth",type:"Long"},257:{name:"ImageLength",type:"Long"},258:{name:"BitsPerSample",type:"Short"},259:{name:"Compression",type:"Short"},262:{name:"PhotometricInterpretation",type:"Short"},263:{name:"Threshholding",type:"Short"},264:{name:"CellWidth",type:"Short"},265:{name:"CellLength",type:"Short"},266:{name:"FillOrder",type:"Short"},269:{name:"DocumentName",type:"Ascii"},270:{name:"ImageDescription",type:"Ascii"},271:{name:"Make",type:"Ascii"},272:{name:"Model",type:"Ascii"},273:{name:"StripOffsets",type:"Long"},274:{name:"Orientation",type:"Short"},277:{name:"SamplesPerPixel",type:"Short"},278:{name:"RowsPerStrip",type:"Long"},279:{name:"StripByteCounts",type:"Long"},282:{name:"XResolution",type:"Rational"},283:{name:"YResolution",type:"Rational"},284:{name:"PlanarConfiguration",type:"Short"},290:{name:"GrayResponseUnit",type:"Short"},291:{name:"GrayResponseCurve",type:"Short"},292:{name:"T4Options",type:"Long"},293:{name:"T6Options",type:"Long"},296:{name:"ResolutionUnit",type:"Short"},301:{name:"TransferFunction",type:"Short"},305:{name:"Software",type:"Ascii"},306:{name:"DateTime",type:"Ascii"},315:{name:"Artist",type:"Ascii"},316:{name:"HostComputer",type:"Ascii"},317:{name:"Predictor",type:"Short"},318:{name:"WhitePoint",type:"Rational"},319:{name:"PrimaryChromaticities",type:"Rational"},320:{name:"ColorMap",type:"Short"},321:{name:"HalftoneHints",type:"Short"},322:{name:"TileWidth",type:"Short"},323:{name:"TileLength",type:"Short"},324:{name:"TileOffsets",type:"Short"},325:{name:"TileByteCounts",type:"Short"},330:{name:"SubIFDs",type:"Long"},332:{name:"InkSet",type:"Short"},333:{name:"InkNames",type:"Ascii"},334:{name:"NumberOfInks",type:"Short"},336:{name:"DotRange",type:"Byte"},337:{name:"TargetPrinter",type:"Ascii"},338:{name:"ExtraSamples",type:"Short"},339:{name:"SampleFormat",type:"Short"},340:{name:"SMinSampleValue",type:"Short"},341:{name:"SMaxSampleValue",type:"Short"},342:{name:"TransferRange",type:"Short"},343:{name:"ClipPath",type:"Byte"},344:{name:"XClipPathUnits",type:"Long"},345:{name:"YClipPathUnits",type:"Long"},346:{name:"Indexed",type:"Short"},347:{name:"JPEGTables",type:"Undefined"},351:{name:"OPIProxy",type:"Short"},512:{name:"JPEGProc",type:"Long"},513:{name:"JPEGInterchangeFormat",type:"Long"},514:{name:"JPEGInterchangeFormatLength",type:"Long"},515:{name:"JPEGRestartInterval",type:"Short"},517:{name:"JPEGLosslessPredictors",type:"Short"},518:{name:"JPEGPointTransforms",type:"Short"},519:{name:"JPEGQTables",type:"Long"},520:{name:"JPEGDCTables",type:"Long"},521:{name:"JPEGACTables",type:"Long"},529:{name:"YCbCrCoefficients",type:"Rational"},530:{name:"YCbCrSubSampling",type:"Short"},531:{name:"YCbCrPositioning",type:"Short"},532:{name:"ReferenceBlackWhite",type:"Rational"},700:{name:"XMLPacket",type:"Byte"},18246:{name:"Rating",type:"Short"},18249:{name:"RatingPercent",type:"Short"},32781:{name:"ImageID",type:"Ascii"},33421:{name:"CFARepeatPatternDim",type:"Short"},33422:{name:"CFAPattern",type:"Byte"},33423:{name:"BatteryLevel",type:"Rational"},33432:{name:"Copyright",type:"Ascii"},33434:{name:"ExposureTime",type:"Rational"},34377:{name:"ImageResources",type:"Byte"},34665:{name:"ExifTag",type:"Long"},34675:{name:"InterColorProfile",type:"Undefined"},34853:{name:"GPSTag",type:"Long"},34857:{name:"Interlace",type:"Short"},34858:{name:"TimeZoneOffset",type:"Long"},34859:{name:"SelfTimerMode",type:"Short"},37387:{name:"FlashEnergy",type:"Rational"},37388:{name:"SpatialFrequencyResponse",type:"Undefined"},37389:{name:"Noise",type:"Undefined"},37390:{name:"FocalPlaneXResolution",type:"Rational"},37391:{name:"FocalPlaneYResolution",type:"Rational"},37392:{name:"FocalPlaneResolutionUnit",type:"Short"},37393:{name:"ImageNumber",type:"Long"},37394:{name:"SecurityClassification",type:"Ascii"},37395:{name:"ImageHistory",type:"Ascii"},37397:{name:"ExposureIndex",type:"Rational"},37398:{name:"TIFFEPStandardID",type:"Byte"},37399:{name:"SensingMethod",type:"Short"},40091:{name:"XPTitle",type:"Byte"},40092:{name:"XPComment",type:"Byte"},40093:{name:"XPAuthor",type:"Byte"},40094:{name:"XPKeywords",type:"Byte"},40095:{name:"XPSubject",type:"Byte"},50341:{name:"PrintImageMatching",type:"Undefined"},50706:{name:"DNGVersion",type:"Byte"},50707:{name:"DNGBackwardVersion",type:"Byte"},50708:{name:"UniqueCameraModel",type:"Ascii"},50709:{name:"LocalizedCameraModel",type:"Byte"},50710:{name:"CFAPlaneColor",type:"Byte"},50711:{name:"CFALayout",type:"Short"},50712:{name:"LinearizationTable",type:"Short"},50713:{name:"BlackLevelRepeatDim",type:"Short"},50714:{name:"BlackLevel",type:"Rational"},50715:{name:"BlackLevelDeltaH",type:"SRational"},50716:{name:"BlackLevelDeltaV",type:"SRational"},50717:{name:"WhiteLevel",type:"Short"},50718:{name:"DefaultScale",type:"Rational"},50719:{name:"DefaultCropOrigin",type:"Short"},50720:{name:"DefaultCropSize",type:"Short"},50721:{name:"ColorMatrix1",type:"SRational"},50722:{name:"ColorMatrix2",type:"SRational"},50723:{name:"CameraCalibration1",type:"SRational"},50724:{name:"CameraCalibration2",type:"SRational"},50725:{name:"ReductionMatrix1",type:"SRational"},50726:{name:"ReductionMatrix2",type:"SRational"},50727:{name:"AnalogBalance",type:"Rational"},50728:{name:"AsShotNeutral",type:"Short"},50729:{name:"AsShotWhiteXY",type:"Rational"},50730:{name:"BaselineExposure",type:"SRational"},50731:{name:"BaselineNoise",type:"Rational"},50732:{name:"BaselineSharpness",type:"Rational"},50733:{name:"BayerGreenSplit",type:"Long"},50734:{name:"LinearResponseLimit",type:"Rational"},50735:{name:"CameraSerialNumber",type:"Ascii"},50736:{name:"LensInfo",type:"Rational"},50737:{name:"ChromaBlurRadius",type:"Rational"},50738:{name:"AntiAliasStrength",type:"Rational"},50739:{name:"ShadowScale",type:"SRational"},50740:{name:"DNGPrivateData",type:"Byte"},50741:{name:"MakerNoteSafety",type:"Short"},50778:{name:"CalibrationIlluminant1",type:"Short"},50779:{name:"CalibrationIlluminant2",type:"Short"},50780:{name:"BestQualityScale",type:"Rational"},50781:{name:"RawDataUniqueID",type:"Byte"},50827:{name:"OriginalRawFileName",type:"Byte"},50828:{name:"OriginalRawFileData",type:"Undefined"},50829:{name:"ActiveArea",type:"Short"},50830:{name:"MaskedAreas",type:"Short"},50831:{name:"AsShotICCProfile",type:"Undefined"},50832:{name:"AsShotPreProfileMatrix",type:"SRational"},50833:{name:"CurrentICCProfile",type:"Undefined"},50834:{name:"CurrentPreProfileMatrix",type:"SRational"},50879:{name:"ColorimetricReference",type:"Short"},50931:{name:"CameraCalibrationSignature",type:"Byte"},50932:{name:"ProfileCalibrationSignature",type:"Byte"},50934:{name:"AsShotProfileName",type:"Byte"},50935:{name:"NoiseReductionApplied",type:"Rational"},50936:{name:"ProfileName",type:"Byte"},50937:{name:"ProfileHueSatMapDims",type:"Long"},50938:{name:"ProfileHueSatMapData1",type:"Float"},50939:{name:"ProfileHueSatMapData2",type:"Float"},50940:{name:"ProfileToneCurve",type:"Float"},50941:{name:"ProfileEmbedPolicy",type:"Long"},50942:{name:"ProfileCopyright",type:"Byte"},50964:{name:"ForwardMatrix1",type:"SRational"},50965:{name:"ForwardMatrix2",type:"SRational"},50966:{name:"PreviewApplicationName",type:"Byte"},50967:{name:"PreviewApplicationVersion",type:"Byte"},50968:{name:"PreviewSettingsName",type:"Byte"},50969:{name:"PreviewSettingsDigest",type:"Byte"},50970:{name:"PreviewColorSpace",type:"Long"},50971:{name:"PreviewDateTime",type:"Ascii"},50972:{name:"RawImageDigest",type:"Undefined"},50973:{name:"OriginalRawFileDigest",type:"Undefined"},50974:{name:"SubTileBlockSize",type:"Long"},50975:{name:"RowInterleaveFactor",type:"Long"},50981:{name:"ProfileLookTableDims",type:"Long"},50982:{name:"ProfileLookTableData",type:"Float"},51008:{name:"OpcodeList1",type:"Undefined"},51009:{name:"OpcodeList2",type:"Undefined"},51022:{name:"OpcodeList3",type:"Undefined"}},Exif:{33434:{name:"ExposureTime",type:"Rational"},33437:{name:"FNumber",type:"Rational"},34850:{name:"ExposureProgram",type:"Short"},34852:{name:"SpectralSensitivity",type:"Ascii"},34855:{name:"ISOSpeedRatings",type:"Short"},34856:{name:"OECF",type:"Undefined"},34864:{name:"SensitivityType",type:"Short"},34865:{name:"StandardOutputSensitivity",type:"Long"},34866:{name:"RecommendedExposureIndex",type:"Long"},34867:{name:"ISOSpeed",type:"Long"},34868:{name:"ISOSpeedLatitudeyyy",type:"Long"},34869:{name:"ISOSpeedLatitudezzz",type:"Long"},36864:{name:"ExifVersion",type:"Undefined"},36867:{name:"DateTimeOriginal",type:"Ascii"},36868:{name:"DateTimeDigitized",type:"Ascii"},37121:{name:"ComponentsConfiguration",type:"Undefined"},37122:{name:"CompressedBitsPerPixel",type:"Rational"},37377:{name:"ShutterSpeedValue",type:"SRational"},37378:{name:"ApertureValue",type:"Rational"},37379:{name:"BrightnessValue",type:"SRational"},37380:{name:"ExposureBiasValue",type:"SRational"},37381:{name:"MaxApertureValue",type:"Rational"},37382:{name:"SubjectDistance",type:"Rational"},37383:{name:"MeteringMode",type:"Short"},37384:{name:"LightSource",type:"Short"},37385:{name:"Flash",type:"Short"},37386:{name:"FocalLength",type:"Rational"},37396:{name:"SubjectArea",type:"Short"},37500:{name:"MakerNote",type:"Undefined"},37510:{name:"UserComment",type:"Ascii"},37520:{name:"SubSecTime",type:"Ascii"},37521:{name:"SubSecTimeOriginal",type:"Ascii"},37522:{name:"SubSecTimeDigitized",type:"Ascii"},40960:{name:"FlashpixVersion",type:"Undefined"},40961:{name:"ColorSpace",type:"Short"},40962:{name:"PixelXDimension",type:"Long"},40963:{name:"PixelYDimension",type:"Long"},40964:{name:"RelatedSoundFile",type:"Ascii"},40965:{name:"InteroperabilityTag",type:"Long"},41483:{name:"FlashEnergy",type:"Rational"},41484:{name:"SpatialFrequencyResponse",type:"Undefined"},41486:{name:"FocalPlaneXResolution",type:"Rational"},41487:{name:"FocalPlaneYResolution",type:"Rational"},41488:{name:"FocalPlaneResolutionUnit",type:"Short"},41492:{name:"SubjectLocation",type:"Short"},41493:{name:"ExposureIndex",type:"Rational"},41495:{name:"SensingMethod",type:"Short"},41728:{name:"FileSource",type:"Undefined"},41729:{name:"SceneType",type:"Undefined"},41730:{name:"CFAPattern",type:"Undefined"},41985:{name:"CustomRendered",type:"Short"},41986:{name:"ExposureMode",type:"Short"},41987:{name:"WhiteBalance",type:"Short"},41988:{name:"DigitalZoomRatio",type:"Rational"},41989:{name:"FocalLengthIn35mmFilm",type:"Short"},41990:{name:"SceneCaptureType",type:"Short"},41991:{name:"GainControl",type:"Short"},41992:{name:"Contrast",type:"Short"},41993:{name:"Saturation",type:"Short"},41994:{name:"Sharpness",type:"Short"},41995:{name:"DeviceSettingDescription",type:"Undefined"},41996:{name:"SubjectDistanceRange",type:"Short"},42016:{name:"ImageUniqueID",type:"Ascii"},42032:{name:"CameraOwnerName",type:"Ascii"},42033:{name:"BodySerialNumber",type:"Ascii"},42034:{name:"LensSpecification",type:"Rational"},42035:{name:"LensMake",type:"Ascii"},42036:{name:"LensModel",type:"Ascii"},42037:{name:"LensSerialNumber",type:"Ascii"},42240:{name:"Gamma",type:"Rational"}},GPS:{0:{name:"GPSVersionID",type:"Byte"},1:{name:"GPSLatitudeRef",type:"Ascii"},2:{name:"GPSLatitude",type:"Rational"},3:{name:"GPSLongitudeRef",type:"Ascii"},4:{name:"GPSLongitude",type:"Rational"},5:{name:"GPSAltitudeRef",type:"Byte"},6:{name:"GPSAltitude",type:"Rational"},7:{name:"GPSTimeStamp",type:"Rational"},8:{name:"GPSSatellites",type:"Ascii"},9:{name:"GPSStatus",type:"Ascii"},10:{name:"GPSMeasureMode",type:"Ascii"},11:{name:"GPSDOP",type:"Rational"},12:{name:"GPSSpeedRef",type:"Ascii"},13:{name:"GPSSpeed",type:"Rational"},14:{name:"GPSTrackRef",type:"Ascii"},15:{name:"GPSTrack",type:"Rational"},16:{name:"GPSImgDirectionRef",type:"Ascii"},17:{name:"GPSImgDirection",type:"Rational"},18:{name:"GPSMapDatum",type:"Ascii"},19:{name:"GPSDestLatitudeRef",type:"Ascii"},20:{name:"GPSDestLatitude",type:"Rational"},21:{name:"GPSDestLongitudeRef",type:"Ascii"},22:{name:"GPSDestLongitude",type:"Rational"},23:{name:"GPSDestBearingRef",type:"Ascii"},24:{name:"GPSDestBearing",type:"Rational"},25:{name:"GPSDestDistanceRef",type:"Ascii"},26:{name:"GPSDestDistance",type:"Rational"},27:{name:"GPSProcessingMethod",type:"Undefined"},28:{name:"GPSAreaInformation",type:"Undefined"},29:{name:"GPSDateStamp",type:"Ascii"},30:{name:"GPSDifferential",type:"Short"},31:{name:"GPSHPositioningError",type:"Rational"}},Interop:{1:{name:"InteroperabilityIndex",type:"Ascii"}}};E["0th"]=E.Image,E["1st"]=E.Image,n.TAGS=E,n.ImageIFD={ProcessingSoftware:11,NewSubfileType:254,SubfileType:255,ImageWidth:256,ImageLength:257,BitsPerSample:258,Compression:259,PhotometricInterpretation:262,Threshholding:263,CellWidth:264,CellLength:265,FillOrder:266,DocumentName:269,ImageDescription:270,Make:271,Model:272,StripOffsets:273,Orientation:274,SamplesPerPixel:277,RowsPerStrip:278,StripByteCounts:279,XResolution:282,YResolution:283,PlanarConfiguration:284,GrayResponseUnit:290,GrayResponseCurve:291,T4Options:292,T6Options:293,ResolutionUnit:296,TransferFunction:301,Software:305,DateTime:306,Artist:315,HostComputer:316,Predictor:317,WhitePoint:318,PrimaryChromaticities:319,ColorMap:320,HalftoneHints:321,TileWidth:322,TileLength:323,TileOffsets:324,TileByteCounts:325,SubIFDs:330,InkSet:332,InkNames:333,NumberOfInks:334,DotRange:336,TargetPrinter:337,ExtraSamples:338,SampleFormat:339,SMinSampleValue:340,SMaxSampleValue:341,TransferRange:342,ClipPath:343,XClipPathUnits:344,YClipPathUnits:345,Indexed:346,JPEGTables:347,OPIProxy:351,JPEGProc:512,JPEGInterchangeFormat:513,JPEGInterchangeFormatLength:514,JPEGRestartInterval:515,JPEGLosslessPredictors:517,JPEGPointTransforms:518,JPEGQTables:519,JPEGDCTables:520,JPEGACTables:521,YCbCrCoefficients:529,YCbCrSubSampling:530,YCbCrPositioning:531,ReferenceBlackWhite:532,XMLPacket:700,Rating:18246,RatingPercent:18249,ImageID:32781,CFARepeatPatternDim:33421,CFAPattern:33422,BatteryLevel:33423,Copyright:33432,ExposureTime:33434,ImageResources:34377,ExifTag:34665,InterColorProfile:34675,GPSTag:34853,Interlace:34857,TimeZoneOffset:34858,SelfTimerMode:34859,FlashEnergy:37387,SpatialFrequencyResponse:37388,Noise:37389,FocalPlaneXResolution:37390,FocalPlaneYResolution:37391,FocalPlaneResolutionUnit:37392,ImageNumber:37393,SecurityClassification:37394,ImageHistory:37395,ExposureIndex:37397,TIFFEPStandardID:37398,SensingMethod:37399,XPTitle:40091,XPComment:40092,XPAuthor:40093,XPKeywords:40094,XPSubject:40095,PrintImageMatching:50341,DNGVersion:50706,DNGBackwardVersion:50707,UniqueCameraModel:50708,LocalizedCameraModel:50709,CFAPlaneColor:50710,CFALayout:50711,LinearizationTable:50712,BlackLevelRepeatDim:50713,BlackLevel:50714,BlackLevelDeltaH:50715,BlackLevelDeltaV:50716,WhiteLevel:50717,DefaultScale:50718,DefaultCropOrigin:50719,DefaultCropSize:50720,ColorMatrix1:50721,ColorMatrix2:50722,CameraCalibration1:50723,CameraCalibration2:50724,ReductionMatrix1:50725,ReductionMatrix2:50726,AnalogBalance:50727,AsShotNeutral:50728,AsShotWhiteXY:50729,BaselineExposure:50730,BaselineNoise:50731,BaselineSharpness:50732,BayerGreenSplit:50733,LinearResponseLimit:50734,CameraSerialNumber:50735,LensInfo:50736,ChromaBlurRadius:50737,AntiAliasStrength:50738,ShadowScale:50739,DNGPrivateData:50740,MakerNoteSafety:50741,CalibrationIlluminant1:50778,CalibrationIlluminant2:50779,BestQualityScale:50780,RawDataUniqueID:50781,OriginalRawFileName:50827,OriginalRawFileData:50828,ActiveArea:50829,MaskedAreas:50830,AsShotICCProfile:50831,AsShotPreProfileMatrix:50832,CurrentICCProfile:50833,CurrentPreProfileMatrix:50834,ColorimetricReference:50879,CameraCalibrationSignature:50931,ProfileCalibrationSignature:50932,AsShotProfileName:50934,NoiseReductionApplied:50935,ProfileName:50936,ProfileHueSatMapDims:50937,ProfileHueSatMapData1:50938,ProfileHueSatMapData2:50939,ProfileToneCurve:50940,ProfileEmbedPolicy:50941,ProfileCopyright:50942,ForwardMatrix1:50964,ForwardMatrix2:50965,PreviewApplicationName:50966,PreviewApplicationVersion:50967,PreviewSettingsName:50968,PreviewSettingsDigest:50969,PreviewColorSpace:50970,PreviewDateTime:50971,RawImageDigest:50972,OriginalRawFileDigest:50973,SubTileBlockSize:50974,RowInterleaveFactor:50975,ProfileLookTableDims:50981,ProfileLookTableData:50982,OpcodeList1:51008,OpcodeList2:51009,OpcodeList3:51022,NoiseProfile:51041},n.ExifIFD={ExposureTime:33434,FNumber:33437,ExposureProgram:34850,SpectralSensitivity:34852,ISOSpeedRatings:34855,OECF:34856,SensitivityType:34864,StandardOutputSensitivity:34865,RecommendedExposureIndex:34866,ISOSpeed:34867,ISOSpeedLatitudeyyy:34868,ISOSpeedLatitudezzz:34869,ExifVersion:36864,DateTimeOriginal:36867,DateTimeDigitized:36868,ComponentsConfiguration:37121,CompressedBitsPerPixel:37122,ShutterSpeedValue:37377,ApertureValue:37378,BrightnessValue:37379,ExposureBiasValue:37380,MaxApertureValue:37381,SubjectDistance:37382,MeteringMode:37383,LightSource:37384,Flash:37385,FocalLength:37386,SubjectArea:37396,MakerNote:37500,UserComment:37510,SubSecTime:37520,SubSecTimeOriginal:37521,SubSecTimeDigitized:37522,FlashpixVersion:40960,ColorSpace:40961,PixelXDimension:40962,PixelYDimension:40963,RelatedSoundFile:40964,InteroperabilityTag:40965,FlashEnergy:41483,SpatialFrequencyResponse:41484,FocalPlaneXResolution:41486,FocalPlaneYResolution:41487,FocalPlaneResolutionUnit:41488,SubjectLocation:41492,ExposureIndex:41493,SensingMethod:41495,FileSource:41728,SceneType:41729,CFAPattern:41730,CustomRendered:41985,ExposureMode:41986,WhiteBalance:41987,DigitalZoomRatio:41988,FocalLengthIn35mmFilm:41989,SceneCaptureType:41990,GainControl:41991,Contrast:41992,Saturation:41993,Sharpness:41994,DeviceSettingDescription:41995,SubjectDistanceRange:41996,ImageUniqueID:42016,CameraOwnerName:42032,BodySerialNumber:42033,LensSpecification:42034,LensMake:42035,LensModel:42036,LensSerialNumber:42037,Gamma:42240},n.GPSIFD={GPSVersionID:0,GPSLatitudeRef:1,GPSLatitude:2,GPSLongitudeRef:3,GPSLongitude:4,GPSAltitudeRef:5,GPSAltitude:6,GPSTimeStamp:7,GPSSatellites:8,GPSStatus:9,GPSMeasureMode:10,GPSDOP:11,GPSSpeedRef:12,GPSSpeed:13,GPSTrackRef:14,GPSTrack:15,GPSImgDirectionRef:16,GPSImgDirection:17,GPSMapDatum:18,GPSDestLatitudeRef:19,GPSDestLatitude:20,GPSDestLongitudeRef:21,GPSDestLongitude:22,GPSDestBearingRef:23,GPSDestBearing:24,GPSDestDistanceRef:25,GPSDestDistance:26,GPSProcessingMethod:27,GPSAreaInformation:28,GPSDateStamp:29,GPSDifferential:30,GPSHPositioningError:31},n.InteropIFD={InteroperabilityIndex:1},n.GPSHelper={degToDmsRational:function(w){var A=Math.abs(w),_=A%1*60,S=_%1*60,C=Math.floor(A),I=Math.floor(_),P=Math.round(S*100);return[[C,1],[I,1],[P,100]]},dmsRationalToDeg:function(w,A){var _=A==="S"||A==="W"?-1:1,S=w[0][0]/w[0][1]+w[1][0]/w[1][1]/60+w[2][0]/w[2][1]/3600;return S*_}},e.exports&&(t=e.exports=n),t.piexif=n})()})(Rf,Rf.exports);var UI=Rf.exports;const QI=Al(UI),zI=new MI;async function GI(e){try{const t=await kv(e),n=QI.remove(t);return KI(n)}catch(t){return console.warn("EXIF stripping failed, using original:",t),e}}async function WI(e){const t=await VI(e);let{width:n,height:r}=t;const i=1024;(n>i||r>i)&&(n>r?(r=Math.round(r*i/n),n=i):(n=Math.round(n*i/r),r=i));const s=document.createElement("canvas");s.width=n,s.height=r,await zI.resize(t,s,{quality:3,alpha:!1,unsharpAmount:80,unsharpRadius:.6,unsharpThreshold:2});let a=.85,o=await Xm(s,"image/jpeg",a);const l=500*1024,u=.5;for(;o.size>l&&a>u;)a-=.05,o=await Xm(s,"image/jpeg",a);return console.log(`Image compressed: ${e.size} -> ${o.size} bytes (quality: ${a})`),o}async function HI(e){return(await kv(e)).split(",")[1]}function VI(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>t(r),r.onerror=n,r.src=URL.createObjectURL(e)})}function kv(e){return new Promise((t,n)=>{const r=new FileReader;r.onload=()=>t(r.result),r.onerror=n,r.readAsDataURL(e)})}function KI(e){const t=e.split(","),n=t[0].match(/:(.*?);/)[1],r=atob(t[1]);let i=r.length;const s=new Uint8Array(i);for(;i--;)s[i]=r.charCodeAt(i);return new Blob([s],{type:n})}function Xm(e,t,n){return new Promise((r,i)=>{e.toBlob(s=>{s?r(s):i(new Error("Canvas to blob conversion failed"))},t,n)})}async function XI(e){const t=await GI(e),n=await WI(t);return await HI(n)}const Pf="RFC3986",Bf={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:e=>String(e)},YI="RFC1738",qI=Array.isArray,Qt=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),Ku=1024,JI=(e,t,n,r,i)=>{if(e.length===0)return e;let s=e;if(typeof e=="symbol"?s=Symbol.prototype.toString.call(e):typeof e!="string"&&(s=String(e)),n==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(o){return"%26%23"+parseInt(o.slice(2),16)+"%3B"});let a="";for(let o=0;o<s.length;o+=Ku){const l=s.length>=Ku?s.slice(o,o+Ku):s,u=[];for(let c=0;c<l.length;++c){let f=l.charCodeAt(c);if(f===45||f===46||f===95||f===126||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||i===YI&&(f===40||f===41)){u[u.length]=l.charAt(c);continue}if(f<128){u[u.length]=Qt[f];continue}if(f<2048){u[u.length]=Qt[192|f>>6]+Qt[128|f&63];continue}if(f<55296||f>=57344){u[u.length]=Qt[224|f>>12]+Qt[128|f>>6&63]+Qt[128|f&63];continue}c+=1,f=65536+((f&1023)<<10|l.charCodeAt(c)&1023),u[u.length]=Qt[240|f>>18]+Qt[128|f>>12&63]+Qt[128|f>>6&63]+Qt[128|f&63]}a+=u.join("")}return a};function ZI(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}function Ym(e,t){if(qI(e)){const n=[];for(let r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)}const eb=Object.prototype.hasOwnProperty,Rv={brackets(e){return String(e)+"[]"},comma:"comma",indices(e,t){return String(e)+"["+t+"]"},repeat(e){return String(e)}},Ht=Array.isArray,tb=Array.prototype.push,Pv=function(e,t){tb.apply(e,Ht(t)?t:[t])},nb=Date.prototype.toISOString,Ce={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:JI,encodeValuesOnly:!1,format:Pf,formatter:Bf[Pf],indices:!1,serializeDate(e){return nb.call(e)},skipNulls:!1,strictNullHandling:!1};function rb(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"}const Xu={};function Bv(e,t,n,r,i,s,a,o,l,u,c,f,d,p,y,m,x,g){let h=e,v=g,E=0,w=!1;for(;(v=v.get(Xu))!==void 0&&!w;){const I=v.get(e);if(E+=1,typeof I<"u"){if(I===E)throw new RangeError("Cyclic object value");w=!0}typeof v.get(Xu)>"u"&&(E=0)}if(typeof u=="function"?h=u(t,h):h instanceof Date?h=d==null?void 0:d(h):n==="comma"&&Ht(h)&&(h=Ym(h,function(I){return I instanceof Date?d==null?void 0:d(I):I})),h===null){if(s)return l&&!m?l(t,Ce.encoder,x,"key",p):t;h=""}if(rb(h)||ZI(h)){if(l){const I=m?t:l(t,Ce.encoder,x,"key",p);return[(y==null?void 0:y(I))+"="+(y==null?void 0:y(l(h,Ce.encoder,x,"value",p)))]}return[(y==null?void 0:y(t))+"="+(y==null?void 0:y(String(h)))]}const A=[];if(typeof h>"u")return A;let _;if(n==="comma"&&Ht(h))m&&l&&(h=Ym(h,l)),_=[{value:h.length>0?h.join(",")||null:void 0}];else if(Ht(u))_=u;else{const I=Object.keys(h);_=c?I.sort(c):I}const S=o?String(t).replace(/\./g,"%2E"):String(t),C=r&&Ht(h)&&h.length===1?S+"[]":S;if(i&&Ht(h)&&h.length===0)return C+"[]";for(let I=0;I<_.length;++I){const P=_[I],j=typeof P=="object"&&typeof P.value<"u"?P.value:h[P];if(a&&j===null)continue;const N=f&&o?P.replace(/\./g,"%2E"):P,L=Ht(h)?typeof n=="function"?n(C,N):C:C+(f?"."+N:"["+N+"]");g.set(e,E);const $=new WeakMap;$.set(Xu,g),Pv(A,Bv(j,L,n,r,i,s,a,o,n==="comma"&&m&&Ht(h)?null:l,u,c,f,d,p,y,m,x,$))}return A}function ib(e=Ce){if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=e.charset||Ce.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=Pf;if(typeof e.format<"u"){if(!eb.call(Bf,e.format))throw new TypeError("Unknown format option provided.");n=e.format}const r=Bf[n];let i=Ce.filter;(typeof e.filter=="function"||Ht(e.filter))&&(i=e.filter);let s;if(e.arrayFormat&&e.arrayFormat in Rv?s=e.arrayFormat:"indices"in e?s=e.indices?"indices":"repeat":s=Ce.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const a=typeof e.allowDots>"u"?e.encodeDotInKeys?!0:Ce.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Ce.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Ce.allowEmptyArrays,arrayFormat:s,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Ce.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?Ce.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Ce.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:Ce.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:Ce.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Ce.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Ce.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Ce.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Ce.strictNullHandling}}function sb(e,t={}){let n=e;const r=ib(t);let i,s;typeof r.filter=="function"?(s=r.filter,n=s("",n)):Ht(r.filter)&&(s=r.filter,i=s);const a=[];if(typeof n!="object"||n===null)return"";const o=Rv[r.arrayFormat],l=o==="comma"&&r.commaRoundTrip;i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);const u=new WeakMap;for(let d=0;d<i.length;++d){const p=i[d];r.skipNulls&&n[p]===null||Pv(a,Bv(n[p],p,o,l,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,u))}const c=a.join(r.delimiter);let f=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?f+="utf8=%26%2310003%3B&":f+="utf8=%E2%9C%93&"),c.length>0?f+c:""}const Gr="4.104.0";let qm=!1,Rs,Ov,Tv,Of,Lv,$v,Nv,Dv,Fv;function ab(e,t={auto:!1}){if(qm)throw new Error(`you must \`import 'openai/shims/${e.kind}'\` before importing anything else from openai`);if(Rs)throw new Error(`can't \`import 'openai/shims/${e.kind}'\` after \`import 'openai/shims/${Rs}'\``);qm=t.auto,Rs=e.kind,Ov=e.fetch,Tv=e.FormData,Of=e.File,Lv=e.ReadableStream,$v=e.getMultipartRequestOptions,Nv=e.getDefaultAgent,Dv=e.fileFromPath,Fv=e.isFsReadStream}class ob{constructor(t){this.body=t}get[Symbol.toStringTag](){return"MultipartBody"}}function lb({manuallyImported:e}={}){const t=e?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,r,i,s;try{n=fetch,r=Request,i=Response,s=Headers}catch(a){throw new Error(`this environment is missing the following Web Fetch API type: ${a.message}. ${t}`)}return{kind:"web",fetch:n,Request:r,Response:i,Headers:s,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(a,o)=>({...o,body:new ob(a)}),getDefaultAgent:a=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:a=>!1}}const jv=()=>{Rs||ab(lb(),{auto:!0})};jv();class X extends Error{}class Fe extends X{constructor(t,n,r,i){super(`${Fe.makeMessage(t,n,r)}`),this.status=t,this.headers=i,this.request_id=i==null?void 0:i["x-request-id"],this.error=n;const s=n;this.code=s==null?void 0:s.code,this.param=s==null?void 0:s.param,this.type=s==null?void 0:s.type}static makeMessage(t,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,n,r,i){if(!t||!i)return new Hl({message:r,cause:Lf(n)});const s=n==null?void 0:n.error;return t===400?new Mv(t,s,r,i):t===401?new Uv(t,s,r,i):t===403?new Qv(t,s,r,i):t===404?new zv(t,s,r,i):t===409?new Gv(t,s,r,i):t===422?new Wv(t,s,r,i):t===429?new Hv(t,s,r,i):t>=500?new Vv(t,s,r,i):new Fe(t,s,r,i)}}class xt extends Fe{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Hl extends Fe{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class ch extends Hl{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Mv extends Fe{}class Uv extends Fe{}class Qv extends Fe{}class zv extends Fe{}class Gv extends Fe{}class Wv extends Fe{}class Hv extends Fe{}class Vv extends Fe{}class Kv extends X{constructor(){super("Could not parse response content as the length limit was reached")}}class Xv extends X{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var no=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},ar=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},ct;class Vl{constructor(){ct.set(this,void 0),this.buffer=new Uint8Array,no(this,ct,null,"f")}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?new TextEncoder().encode(t):t;let r=new Uint8Array(this.buffer.length+n.length);r.set(this.buffer),r.set(n,this.buffer.length),this.buffer=r;const i=[];let s;for(;(s=ub(this.buffer,ar(this,ct,"f")))!=null;){if(s.carriage&&ar(this,ct,"f")==null){no(this,ct,s.index,"f");continue}if(ar(this,ct,"f")!=null&&(s.index!==ar(this,ct,"f")+1||s.carriage)){i.push(this.decodeText(this.buffer.slice(0,ar(this,ct,"f")-1))),this.buffer=this.buffer.slice(ar(this,ct,"f")),no(this,ct,null,"f");continue}const a=ar(this,ct,"f")!==null?s.preceding-1:s.preceding,o=this.decodeText(this.buffer.slice(0,a));i.push(o),this.buffer=this.buffer.slice(s.index),no(this,ct,null,"f")}return i}decodeText(t){if(t==null)return"";if(typeof t=="string")return t;if(typeof Buffer<"u"){if(t instanceof Buffer)return t.toString();if(t instanceof Uint8Array)return Buffer.from(t).toString();throw new X(`Unexpected: received non-Uint8Array (${t.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(t instanceof Uint8Array||t instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(t);throw new X(`Unexpected: received non-Uint8Array/ArrayBuffer (${t.constructor.name}) in a web platform. Please report this error.`)}throw new X("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode(`
`):[]}}ct=new WeakMap;Vl.NEWLINE_CHARS=new Set([`
`,"\r"]);Vl.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function ub(e,t){for(let i=t??0;i<e.length;i++){if(e[i]===10)return{preceding:i,index:i+1,carriage:!1};if(e[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function cb(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}function Yv(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class Yt{constructor(t,n){this.iterator=t,this.controller=n}static fromSSEResponse(t,n){let r=!1;async function*i(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let s=!1;try{for await(const a of fb(t,n))if(!s){if(a.data.startsWith("[DONE]")){s=!0;continue}if(a.event===null||a.event.startsWith("response.")||a.event.startsWith("transcript.")){let o;try{o=JSON.parse(a.data)}catch(l){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),l}if(o&&o.error)throw new Fe(void 0,o.error,void 0,rw(t.headers));yield o}else{let o;try{o=JSON.parse(a.data)}catch(l){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),l}if(a.event=="error")throw new Fe(void 0,o.error,o.message,void 0);yield{event:a.event,data:o}}}s=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{s||n.abort()}}return new Yt(i,n)}static fromReadableStream(t,n){let r=!1;async function*i(){const a=new Vl,o=Yv(t);for await(const l of o)for(const u of a.decode(l))yield u;for(const l of a.flush())yield l}async function*s(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let a=!1;try{for await(const o of i())a||o&&(yield JSON.parse(o));a=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{a||n.abort()}}return new Yt(s,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),i=s=>({next:()=>{if(s.length===0){const a=r.next();t.push(a),n.push(a)}return s.shift()}});return[new Yt(()=>i(t),this.controller),new Yt(()=>i(n),this.controller)]}toReadableStream(){const t=this;let n;const r=new TextEncoder;return new Lv({async start(){n=t[Symbol.asyncIterator]()},async pull(i){try{const{value:s,done:a}=await n.next();if(a)return i.close();const o=r.encode(JSON.stringify(s)+`
`);i.enqueue(o)}catch(s){i.error(s)}},async cancel(){var i;await((i=n.return)==null?void 0:i.call(n))}})}}async function*fb(e,t){if(!e.body)throw t.abort(),new X("Attempted to iterate over a response with no body");const n=new hb,r=new Vl,i=Yv(e.body);for await(const s of db(i))for(const a of r.decode(s)){const o=n.decode(a);o&&(yield o)}for(const s of r.flush()){const a=n.decode(s);a&&(yield a)}}async function*db(e){let t=new Uint8Array;for await(const n of e){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let i=new Uint8Array(t.length+r.length);i.set(t),i.set(r,t.length),t=i;let s;for(;(s=cb(t))!==-1;)yield t.slice(0,s),t=t.slice(s)}t.length>0&&(yield t)}class hb{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,i]=pb(t,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function pb(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}const qv=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function",Jv=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&Kl(e),Kl=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",mb=e=>Jv(e)||qv(e)||Fv(e);async function Zv(e,t,n){var i;if(e=await e,Jv(e))return e;if(qv(e)){const s=await e.blob();t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file");const a=Kl(s)?[await s.arrayBuffer()]:[s];return new Of(a,t,n)}const r=await gb(e);if(t||(t=vb(e)??"unknown_file"),!(n!=null&&n.type)){const s=(i=r[0])==null?void 0:i.type;typeof s=="string"&&(n={...n,type:s})}return new Of(r,t,n)}async function gb(e){var n;let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(Kl(e))t.push(await e.arrayBuffer());else if(wb(e))for await(const r of e)t.push(r);else throw new Error(`Unexpected data type: ${typeof e}; constructor: ${(n=e==null?void 0:e.constructor)==null?void 0:n.name}; props: ${yb(e)}`);return t}function yb(e){return`[${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}function vb(e){var t;return Yu(e.name)||Yu(e.filename)||((t=Yu(e.path))==null?void 0:t.split(/[\\/]/).pop())}const Yu=e=>{if(typeof e=="string")return e;if(typeof Buffer<"u"&&e instanceof Buffer)return String(e)},wb=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",Jm=e=>e&&typeof e=="object"&&e.body&&e[Symbol.toStringTag]==="MultipartBody",Br=async e=>{const t=await Ab(e.body);return $v(t,e)},Ab=async e=>{const t=new Tv;return await Promise.all(Object.entries(e||{}).map(([n,r])=>Tf(t,n,r))),t},Tf=async(e,t,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")e.append(t,String(n));else if(mb(n)){const r=await Zv(n);e.append(t,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>Tf(e,t+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,i])=>Tf(e,`${t}[${r}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var pi={},_b=function(e,t,n,r,i){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n},xb=function(e,t,n,r){if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},ro;jv();async function ew(e){var a;const{response:t}=e;if(e.options.stream)return Hn("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):Yt.fromSSEResponse(t,e.controller);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const n=t.headers.get("content-type"),r=(a=n==null?void 0:n.split(";")[0])==null?void 0:a.trim();if((r==null?void 0:r.includes("application/json"))||(r==null?void 0:r.endsWith("+json"))){const o=await t.json();return Hn("response",t.status,t.url,t.headers,o),tw(o,t)}const s=await t.text();return Hn("response",t.status,t.url,t.headers,s),s}function tw(e,t){return!e||typeof e!="object"||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}class Xl extends Promise{constructor(t,n=ew){super(r=>{r(null)}),this.responsePromise=t,this.parseResponse=n}_thenUnwrap(t){return new Xl(this.responsePromise,async n=>tw(t(await this.parseResponse(n),n),n.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}class Eb{constructor({baseURL:t,maxRetries:n=2,timeout:r=6e5,httpAgent:i,fetch:s}){this.baseURL=t,this.maxRetries=qu("maxRetries",n),this.timeout=qu("timeout",r),this.httpAgent=i,this.fetch=s??Ov}authHeaders(t){return{}}defaultHeaders(t){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...kb(),...this.authHeaders(t)}}validateHeaders(t,n){}defaultIdempotencyKey(){return`stainless-node-retry-${Ob()}`}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(async i=>{const s=i&&Kl(i==null?void 0:i.body)?new DataView(await i.body.arrayBuffer()):(i==null?void 0:i.body)instanceof DataView?i.body:(i==null?void 0:i.body)instanceof ArrayBuffer?new DataView(i.body):i&&ArrayBuffer.isView(i==null?void 0:i.body)?new DataView(i.body.buffer):i==null?void 0:i.body;return{method:t,path:n,...i,body:s}}))}getAPIList(t,n,r){return this.requestAPIList(n,{method:"get",path:t,...r})}calculateContentLength(t){if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.byteLength(t,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(t).length.toString()}else if(ArrayBuffer.isView(t))return t.byteLength.toString();return null}buildRequest(t,{retryCount:n=0}={}){var m;const r={...t},{method:i,path:s,query:a,headers:o={}}=r,l=ArrayBuffer.isView(r.body)||r.__binaryRequest&&typeof r.body=="string"?r.body:Jm(r.body)?r.body.body:r.body?JSON.stringify(r.body,null,2):null,u=this.calculateContentLength(l),c=this.buildURL(s,a);"timeout"in r&&qu("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const f=r.httpAgent??this.httpAgent??Nv(c),d=r.timeout+1e3;typeof((m=f==null?void 0:f.options)==null?void 0:m.timeout)=="number"&&d>(f.options.timeout??0)&&(f.options.timeout=d),this.idempotencyHeader&&i!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=t.idempotencyKey);const p=this.buildHeaders({options:r,headers:o,contentLength:u,retryCount:n});return{req:{method:i,...l&&{body:l},headers:p,...f&&{agent:f},signal:r.signal??null},url:c,timeout:r.timeout}}buildHeaders({options:t,headers:n,contentLength:r,retryCount:i}){const s={};r&&(s["content-length"]=r);const a=this.defaultHeaders(t);return ng(s,a),ng(s,n),Jm(t.body)&&Rs!=="node"&&delete s["content-type"],so(a,"x-stainless-retry-count")===void 0&&so(n,"x-stainless-retry-count")===void 0&&(s["x-stainless-retry-count"]=String(i)),so(a,"x-stainless-timeout")===void 0&&so(n,"x-stainless-timeout")===void 0&&t.timeout&&(s["x-stainless-timeout"]=String(Math.trunc(t.timeout/1e3))),this.validateHeaders(s,n),s}async prepareOptions(t){}async prepareRequest(t,{url:n,options:r}){}parseHeaders(t){return t?Symbol.iterator in t?Object.fromEntries(Array.from(t).map(n=>[...n])):{...t}:{}}makeStatusError(t,n,r,i){return Fe.generate(t,n,r,i)}request(t,n=null){return new Xl(this.makeRequest(t,n))}async makeRequest(t,n){var f,d;const r=await t,i=r.maxRetries??this.maxRetries;n==null&&(n=i),await this.prepareOptions(r);const{req:s,url:a,timeout:o}=this.buildRequest(r,{retryCount:i-n});if(await this.prepareRequest(s,{url:a,options:r}),Hn("request",a,r,s.headers),(f=r.signal)!=null&&f.aborted)throw new xt;const l=new AbortController,u=await this.fetchWithTimeout(a,s,o,l).catch(Lf);if(u instanceof Error){if((d=r.signal)!=null&&d.aborted)throw new xt;if(n)return this.retryRequest(r,n);throw u.name==="AbortError"?new ch:new Hl({cause:u})}const c=rw(u.headers);if(!u.ok){if(n&&this.shouldRetry(u)){const h=`retrying, ${n} attempts remaining`;return Hn(`response (error; ${h})`,u.status,a,c),this.retryRequest(r,n,c)}const p=await u.text().catch(h=>Lf(h).message),y=Rb(p),m=y?void 0:p;throw Hn(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,u.status,a,c,m),this.makeStatusError(u.status,y,m,c)}return{response:u,options:r,controller:l}}requestAPIList(t,n){const r=this.makeRequest(n,null);return new Sb(this,r,t)}buildURL(t,n){const r=Bb(t)?new URL(t):new URL(this.baseURL+(this.baseURL.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),i=this.defaultQuery();return iw(i)||(n={...i,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new X(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(t,n,r,i){const{signal:s,...a}=n||{};s&&s.addEventListener("abort",()=>i.abort());const o=setTimeout(()=>i.abort(),r),l={signal:i.signal,...a};return l.method&&(l.method=l.method.toUpperCase()),this.fetch.call(void 0,t,l).finally(()=>{clearTimeout(o)})}shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r){let i;const s=r==null?void 0:r["retry-after-ms"];if(s){const o=parseFloat(s);Number.isNaN(o)||(i=o)}const a=r==null?void 0:r["retry-after"];if(a&&!i){const o=parseFloat(a);Number.isNaN(o)?i=Date.parse(a)-Date.now():i=o*1e3}if(!(i&&0<=i&&i<60*1e3)){const o=t.maxRetries??this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(n,o)}return await ga(i),this.makeRequest(t,n-1)}calculateDefaultRetryTimeoutMillis(t,n){const s=n-t,a=Math.min(.5*Math.pow(2,s),8),o=1-Math.random()*.25;return a*o*1e3}getUserAgent(){return`${this.constructor.name}/JS ${Gr}`}}class nw{constructor(t,n,r,i){ro.set(this,void 0),_b(this,ro,t),this.options=i,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const t=this.nextPageInfo();if(!t)throw new X("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in t&&typeof n.query=="object")n.query={...n.query,...t.params};else if("url"in t){const r=[...Object.entries(n.query||{}),...t.url.searchParams.entries()];for(const[i,s]of r)t.url.searchParams.set(i,s);n.query=void 0,n.path=t.url.toString()}return await xb(this,ro,"f").requestAPIList(this.constructor,n)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(ro=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const n of t.getPaginatedItems())yield n}}class Sb extends Xl{constructor(t,n,r){super(n,async i=>new r(t,i.response,await ew(i),i.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const n of t)yield n}}const rw=e=>new Proxy(Object.fromEntries(e.entries()),{get(t,n){const r=n.toString();return t[r.toLowerCase()]||t[r]}}),Cb={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},me=e=>typeof e=="object"&&e!==null&&!iw(e)&&Object.keys(e).every(t=>sw(Cb,t)),Ib=()=>{var t;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Gr,"X-Stainless-OS":eg(Deno.build.os),"X-Stainless-Arch":Zm(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((t=Deno.version)==null?void 0:t.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Gr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Gr,"X-Stainless-OS":eg(process.platform),"X-Stainless-Arch":Zm(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=bb();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Gr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Gr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function bb(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,s=r[2]||0,a=r[3]||0;return{browser:t,version:`${i}.${s}.${a}`}}}return null}const Zm=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",eg=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let tg;const kb=()=>tg??(tg=Ib()),Rb=e=>{try{return JSON.parse(e)}catch{return}},Pb=/^[a-z][a-z0-9+.-]*:/i,Bb=e=>Pb.test(e),ga=e=>new Promise(t=>setTimeout(t,e)),qu=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new X(`${e} must be an integer`);if(t<0)throw new X(`${e} must be a positive integer`);return t},Lf=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null)try{return new Error(JSON.stringify(e))}catch{}return new Error(e)},io=e=>{var t,n,r,i;if(typeof process<"u")return((t=pi==null?void 0:pi[e])==null?void 0:t.trim())??void 0;if(typeof Deno<"u")return(i=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,e))==null?void 0:i.trim()};function iw(e){if(!e)return!0;for(const t in e)return!1;return!0}function sw(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ng(e,t){for(const n in t){if(!sw(t,n))continue;const r=n.toLowerCase();if(!r)continue;const i=t[n];i===null?delete e[r]:i!==void 0&&(e[r]=i)}}const rg=new Set(["authorization","api-key"]);function Hn(e,...t){if(typeof process<"u"&&(pi==null?void 0:pi.DEBUG)==="true"){const n=t.map(r=>{if(!r)return r;if(r.headers){const s={...r,headers:{...r.headers}};for(const a in r.headers)rg.has(a.toLowerCase())&&(s.headers[a]="REDACTED");return s}let i=null;for(const s in r)rg.has(s.toLowerCase())&&(i??(i={...r}),i[s]="REDACTED");return i??r});console.log(`OpenAI:DEBUG:${e}`,...n)}}const Ob=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),Tb=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",Lb=e=>typeof(e==null?void 0:e.get)=="function",so=(e,t)=>{var r;const n=t.toLowerCase();if(Lb(e)){const i=((r=t[0])==null?void 0:r.toUpperCase())+t.substring(1).replace(/([^\w])(\w)/g,(s,a,o)=>a+o.toUpperCase());for(const s of[t,n,t.toUpperCase(),i]){const a=e.get(s);if(a)return a}}for(const[i,s]of Object.entries(e))if(i.toLowerCase()===n)return Array.isArray(s)?(s.length<=1||console.warn(`Received ${s.length} entries for the ${t} header, using the first entry.`),s[0]):s},$b=e=>{if(typeof Buffer<"u"){const t=Buffer.from(e,"base64");return Array.from(new Float32Array(t.buffer,t.byteOffset,t.length/Float32Array.BYTES_PER_ELEMENT))}else{const t=atob(e),n=t.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=t.charCodeAt(i);return Array.from(new Float32Array(r.buffer))}};function Ju(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}class Yl extends nw{constructor(t,n,r,i){super(t,n,r,i),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class Re extends nw{constructor(t,n,r,i){super(t,n,r,i),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){const t=this.nextPageInfo();if(!t)return null;if("params"in t)return t.params;const n=Object.fromEntries(t.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var r;const t=this.getPaginatedItems();if(!t.length)return null;const n=(r=t[t.length-1])==null?void 0:r.id;return n?{params:{after:n}}:null}}class q{constructor(t){this._client=t}}let aw=class extends q{list(t,n={},r){return me(n)?this.list(t,{},n):this._client.getAPIList(`/chat/completions/${t}/messages`,Nb,{query:n,...r})}},ql=class extends q{constructor(){super(...arguments),this.messages=new aw(this._client)}create(t,n){return this._client.post("/chat/completions",{body:t,...n,stream:t.stream??!1})}retrieve(t,n){return this._client.get(`/chat/completions/${t}`,n)}update(t,n,r){return this._client.post(`/chat/completions/${t}`,{body:n,...r})}list(t={},n){return me(t)?this.list({},t):this._client.getAPIList("/chat/completions",Jl,{query:t,...n})}del(t,n){return this._client.delete(`/chat/completions/${t}`,n)}};class Jl extends Re{}class Nb extends Re{}ql.ChatCompletionsPage=Jl;ql.Messages=aw;let Zl=class extends q{constructor(){super(...arguments),this.completions=new ql(this._client)}};Zl.Completions=ql;Zl.ChatCompletionsPage=Jl;class ow extends q{create(t,n){return this._client.post("/audio/speech",{body:t,...n,headers:{Accept:"application/octet-stream",...n==null?void 0:n.headers},__binaryResponse:!0})}}class lw extends q{create(t,n){return this._client.post("/audio/transcriptions",Br({body:t,...n,stream:t.stream??!1,__metadata:{model:t.model}}))}}class uw extends q{create(t,n){return this._client.post("/audio/translations",Br({body:t,...n,__metadata:{model:t.model}}))}}class ya extends q{constructor(){super(...arguments),this.transcriptions=new lw(this._client),this.translations=new uw(this._client),this.speech=new ow(this._client)}}ya.Transcriptions=lw;ya.Translations=uw;ya.Speech=ow;class fh extends q{create(t,n){return this._client.post("/batches",{body:t,...n})}retrieve(t,n){return this._client.get(`/batches/${t}`,n)}list(t={},n){return me(t)?this.list({},t):this._client.getAPIList("/batches",dh,{query:t,...n})}cancel(t,n){return this._client.post(`/batches/${t}/cancel`,n)}}class dh extends Re{}fh.BatchesPage=dh;var Rt=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},fe=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},$f,Bo,Oo,us,cs,To,fs,rn,ds,gl,yl,Wr,cw;class hh{constructor(){$f.add(this),this.controller=new AbortController,Bo.set(this,void 0),Oo.set(this,()=>{}),us.set(this,()=>{}),cs.set(this,void 0),To.set(this,()=>{}),fs.set(this,()=>{}),rn.set(this,{}),ds.set(this,!1),gl.set(this,!1),yl.set(this,!1),Wr.set(this,!1),Rt(this,Bo,new Promise((t,n)=>{Rt(this,Oo,t,"f"),Rt(this,us,n,"f")}),"f"),Rt(this,cs,new Promise((t,n)=>{Rt(this,To,t,"f"),Rt(this,fs,n,"f")}),"f"),fe(this,Bo,"f").catch(()=>{}),fe(this,cs,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},fe(this,$f,"m",cw).bind(this))},0)}_connected(){this.ended||(fe(this,Oo,"f").call(this),this._emit("connect"))}get ended(){return fe(this,ds,"f")}get errored(){return fe(this,gl,"f")}get aborted(){return fe(this,yl,"f")}abort(){this.controller.abort()}on(t,n){return(fe(this,rn,"f")[t]||(fe(this,rn,"f")[t]=[])).push({listener:n}),this}off(t,n){const r=fe(this,rn,"f")[t];if(!r)return this;const i=r.findIndex(s=>s.listener===n);return i>=0&&r.splice(i,1),this}once(t,n){return(fe(this,rn,"f")[t]||(fe(this,rn,"f")[t]=[])).push({listener:n,once:!0}),this}emitted(t){return new Promise((n,r)=>{Rt(this,Wr,!0,"f"),t!=="error"&&this.once("error",r),this.once(t,n)})}async done(){Rt(this,Wr,!0,"f"),await fe(this,cs,"f")}_emit(t,...n){if(fe(this,ds,"f"))return;t==="end"&&(Rt(this,ds,!0,"f"),fe(this,To,"f").call(this));const r=fe(this,rn,"f")[t];if(r&&(fe(this,rn,"f")[t]=r.filter(i=>!i.once),r.forEach(({listener:i})=>i(...n))),t==="abort"){const i=n[0];!fe(this,Wr,"f")&&!(r!=null&&r.length)&&Promise.reject(i),fe(this,us,"f").call(this,i),fe(this,fs,"f").call(this,i),this._emit("end");return}if(t==="error"){const i=n[0];!fe(this,Wr,"f")&&!(r!=null&&r.length)&&Promise.reject(i),fe(this,us,"f").call(this,i),fe(this,fs,"f").call(this,i),this._emit("end")}}_emitFinal(){}}Bo=new WeakMap,Oo=new WeakMap,us=new WeakMap,cs=new WeakMap,To=new WeakMap,fs=new WeakMap,rn=new WeakMap,ds=new WeakMap,gl=new WeakMap,yl=new WeakMap,Wr=new WeakMap,$f=new WeakSet,cw=function(t){if(Rt(this,gl,!0,"f"),t instanceof Error&&t.name==="AbortError"&&(t=new xt),t instanceof xt)return Rt(this,yl,!0,"f"),this._emit("abort",t);if(t instanceof X)return this._emit("error",t);if(t instanceof Error){const n=new X(t.message);return n.cause=t,this._emit("error",n)}return this._emit("error",new X(String(t)))};var W=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},ot=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},$e,Nf,Vt,Lo,Bt,mr,ii,cr,vl,ft,$o,No,Ps,hs,ps,ig,sg,ag,og,lg,ug,cg;class Lt extends hh{constructor(){super(...arguments),$e.add(this),Nf.set(this,[]),Vt.set(this,{}),Lo.set(this,{}),Bt.set(this,void 0),mr.set(this,void 0),ii.set(this,void 0),cr.set(this,void 0),vl.set(this,void 0),ft.set(this,void 0),$o.set(this,void 0),No.set(this,void 0),Ps.set(this,void 0)}[(Nf=new WeakMap,Vt=new WeakMap,Lo=new WeakMap,Bt=new WeakMap,mr=new WeakMap,ii=new WeakMap,cr=new WeakMap,vl=new WeakMap,ft=new WeakMap,$o=new WeakMap,No=new WeakMap,Ps=new WeakMap,$e=new WeakSet,Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("event",i=>{const s=n.shift();s?s.resolve(i):t.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,a)=>n.push({resolve:s,reject:a})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){const n=new Lt;return n._run(()=>n._fromReadableStream(t)),n}async _fromReadableStream(t,n){var s;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const i=Yt.fromReadableStream(t,this.controller);for await(const a of i)W(this,$e,"m",hs).call(this,a);if((s=i.controller.signal)!=null&&s.aborted)throw new xt;return this._addRun(W(this,$e,"m",ps).call(this))}toReadableStream(){return new Yt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,n,r,i,s){const a=new Lt;return a._run(()=>a._runToolAssistantStream(t,n,r,i,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createToolAssistantStream(t,n,r,i,s){var u;const a=s==null?void 0:s.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const o={...i,stream:!0},l=await t.submitToolOutputs(n,r,o,{...s,signal:this.controller.signal});this._connected();for await(const c of l)W(this,$e,"m",hs).call(this,c);if((u=l.controller.signal)!=null&&u.aborted)throw new xt;return this._addRun(W(this,$e,"m",ps).call(this))}static createThreadAssistantStream(t,n,r){const i=new Lt;return i._run(()=>i._threadAssistantStream(t,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}static createAssistantStream(t,n,r,i){const s=new Lt;return s._run(()=>s._runAssistantStream(t,n,r,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),s}currentEvent(){return W(this,$o,"f")}currentRun(){return W(this,No,"f")}currentMessageSnapshot(){return W(this,Bt,"f")}currentRunStepSnapshot(){return W(this,Ps,"f")}async finalRunSteps(){return await this.done(),Object.values(W(this,Vt,"f"))}async finalMessages(){return await this.done(),Object.values(W(this,Lo,"f"))}async finalRun(){if(await this.done(),!W(this,mr,"f"))throw Error("Final run was not received.");return W(this,mr,"f")}async _createThreadAssistantStream(t,n,r){var o;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const s={...n,stream:!0},a=await t.createAndRun(s,{...r,signal:this.controller.signal});this._connected();for await(const l of a)W(this,$e,"m",hs).call(this,l);if((o=a.controller.signal)!=null&&o.aborted)throw new xt;return this._addRun(W(this,$e,"m",ps).call(this))}async _createAssistantStream(t,n,r,i){var l;const s=i==null?void 0:i.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const a={...r,stream:!0},o=await t.create(n,a,{...i,signal:this.controller.signal});this._connected();for await(const u of o)W(this,$e,"m",hs).call(this,u);if((l=o.controller.signal)!=null&&l.aborted)throw new xt;return this._addRun(W(this,$e,"m",ps).call(this))}static accumulateDelta(t,n){for(const[r,i]of Object.entries(n)){if(!t.hasOwnProperty(r)){t[r]=i;continue}let s=t[r];if(s==null){t[r]=i;continue}if(r==="index"||r==="type"){t[r]=i;continue}if(typeof s=="string"&&typeof i=="string")s+=i;else if(typeof s=="number"&&typeof i=="number")s+=i;else if(Ju(s)&&Ju(i))s=this.accumulateDelta(s,i);else if(Array.isArray(s)&&Array.isArray(i)){if(s.every(a=>typeof a=="string"||typeof a=="number")){s.push(...i);continue}for(const a of i){if(!Ju(a))throw new Error(`Expected array delta entry to be an object but got: ${a}`);const o=a.index;if(o==null)throw console.error(a),new Error("Expected array delta entry to have an `index` property");if(typeof o!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${o}`);const l=s[o];l==null?s.push(a):s[o]=this.accumulateDelta(l,a)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${i}, accValue: ${s}`);t[r]=s}return t}_addRun(t){return t}async _threadAssistantStream(t,n,r){return await this._createThreadAssistantStream(n,t,r)}async _runAssistantStream(t,n,r,i){return await this._createAssistantStream(n,t,r,i)}async _runToolAssistantStream(t,n,r,i,s){return await this._createToolAssistantStream(r,t,n,i,s)}}hs=function(t){if(!this.ended)switch(ot(this,$o,t,"f"),W(this,$e,"m",ag).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":W(this,$e,"m",cg).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":W(this,$e,"m",sg).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":W(this,$e,"m",ig).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},ps=function(){if(this.ended)throw new X("stream has ended, this shouldn't happen");if(!W(this,mr,"f"))throw Error("Final run has not been received");return W(this,mr,"f")},ig=function(t){const[n,r]=W(this,$e,"m",lg).call(this,t,W(this,Bt,"f"));ot(this,Bt,n,"f"),W(this,Lo,"f")[n.id]=n;for(const i of r){const s=n.content[i.index];(s==null?void 0:s.type)=="text"&&this._emit("textCreated",s.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,n),t.data.delta.content)for(const i of t.data.delta.content){if(i.type=="text"&&i.text){let s=i.text,a=n.content[i.index];if(a&&a.type=="text")this._emit("textDelta",s,a.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(i.index!=W(this,ii,"f")){if(W(this,cr,"f"))switch(W(this,cr,"f").type){case"text":this._emit("textDone",W(this,cr,"f").text,W(this,Bt,"f"));break;case"image_file":this._emit("imageFileDone",W(this,cr,"f").image_file,W(this,Bt,"f"));break}ot(this,ii,i.index,"f")}ot(this,cr,n.content[i.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(W(this,ii,"f")!==void 0){const i=t.data.content[W(this,ii,"f")];if(i)switch(i.type){case"image_file":this._emit("imageFileDone",i.image_file,W(this,Bt,"f"));break;case"text":this._emit("textDone",i.text,W(this,Bt,"f"));break}}W(this,Bt,"f")&&this._emit("messageDone",t.data),ot(this,Bt,void 0,"f")}},sg=function(t){const n=W(this,$e,"m",og).call(this,t);switch(ot(this,Ps,n,"f"),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":const r=t.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const s of r.step_details.tool_calls)s.index==W(this,vl,"f")?this._emit("toolCallDelta",s,n.step_details.tool_calls[s.index]):(W(this,ft,"f")&&this._emit("toolCallDone",W(this,ft,"f")),ot(this,vl,s.index,"f"),ot(this,ft,n.step_details.tool_calls[s.index],"f"),W(this,ft,"f")&&this._emit("toolCallCreated",W(this,ft,"f")));this._emit("runStepDelta",t.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":ot(this,Ps,void 0,"f"),t.data.step_details.type=="tool_calls"&&W(this,ft,"f")&&(this._emit("toolCallDone",W(this,ft,"f")),ot(this,ft,void 0,"f")),this._emit("runStepDone",t.data,n);break}},ag=function(t){W(this,Nf,"f").push(t),this._emit("event",t)},og=function(t){switch(t.event){case"thread.run.step.created":return W(this,Vt,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let n=W(this,Vt,"f")[t.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=t.data;if(r.delta){const i=Lt.accumulateDelta(n,r.delta);W(this,Vt,"f")[t.data.id]=i}return W(this,Vt,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":W(this,Vt,"f")[t.data.id]=t.data;break}if(W(this,Vt,"f")[t.data.id])return W(this,Vt,"f")[t.data.id];throw new Error("No snapshot available")},lg=function(t,n){let r=[];switch(t.event){case"thread.message.created":return[t.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let i=t.data;if(i.delta.content)for(const s of i.delta.content)if(s.index in n.content){let a=n.content[s.index];n.content[s.index]=W(this,$e,"m",ug).call(this,s,a)}else n.content[s.index]=s,r.push(s);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},ug=function(t,n){return Lt.accumulateDelta(n,t)},cg=function(t){switch(ot(this,No,t.data,"f"),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":ot(this,mr,t.data,"f"),W(this,ft,"f")&&(this._emit("toolCallDone",W(this,ft,"f")),ot(this,ft,void 0,"f"));break}};class ph extends q{create(t,n){return this._client.post("/assistants",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/assistants/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/assistants/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(t={},n){return me(t)?this.list({},t):this._client.getAPIList("/assistants",mh,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,n){return this._client.delete(`/assistants/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class mh extends Re{}ph.AssistantsPage=mh;function fg(e){return typeof e.parse=="function"}const mi=e=>(e==null?void 0:e.role)==="assistant",fw=e=>(e==null?void 0:e.role)==="function",dw=e=>(e==null?void 0:e.role)==="tool";function gh(e){return(e==null?void 0:e.$brand)==="auto-parseable-response-format"}function va(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function Db(e,t){return!t||!hw(t)?{...e,choices:e.choices.map(n=>({...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:yh(e,t)}function yh(e,t){const n=e.choices.map(r=>{var i;if(r.finish_reason==="length")throw new Kv;if(r.finish_reason==="content_filter")throw new Xv;return{...r,message:{...r.message,...r.message.tool_calls?{tool_calls:((i=r.message.tool_calls)==null?void 0:i.map(s=>jb(t,s)))??void 0}:void 0,parsed:r.message.content&&!r.message.refusal?Fb(t,r.message.content):null}}});return{...e,choices:n}}function Fb(e,t){var n,r;return((n=e.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=e.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in e.response_format?e.response_format.$parseRaw(t):JSON.parse(t):null}function jb(e,t){var r;const n=(r=e.tools)==null?void 0:r.find(i=>{var s;return((s=i.function)==null?void 0:s.name)===t.function.name});return{...t,function:{...t.function,parsed_arguments:va(n)?n.$parseRaw(t.function.arguments):n!=null&&n.function.strict?JSON.parse(t.function.arguments):null}}}function Mb(e,t){var r;if(!e)return!1;const n=(r=e.tools)==null?void 0:r.find(i=>{var s;return((s=i.function)==null?void 0:s.name)===t.function.name});return va(n)||(n==null?void 0:n.function.strict)||!1}function hw(e){var t;return gh(e.response_format)?!0:((t=e.tools)==null?void 0:t.some(n=>va(n)||n.type==="function"&&n.function.strict===!0))??!1}function Ub(e){for(const t of e??[]){if(t.type!=="function")throw new X(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new X(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var tt=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Ue,Df,wl,Ff,jf,Mf,pw,Uf;const dg=10;class mw extends hh{constructor(){super(...arguments),Ue.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){var r;this._chatCompletions.push(t),this._emit("chatCompletion",t);const n=(r=t.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),t}_addMessage(t,n=!0){if("content"in t||(t.content=null),this.messages.push(t),n){if(this._emit("message",t),(fw(t)||dw(t))&&t.content)this._emit("functionCallResult",t.content);else if(mi(t)&&t.function_call)this._emit("functionCall",t.function_call);else if(mi(t)&&t.tool_calls)for(const r of t.tool_calls)r.type==="function"&&this._emit("functionCall",r.function)}}async finalChatCompletion(){await this.done();const t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new X("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),tt(this,Ue,"m",Df).call(this)}async finalMessage(){return await this.done(),tt(this,Ue,"m",wl).call(this)}async finalFunctionCall(){return await this.done(),tt(this,Ue,"m",Ff).call(this)}async finalFunctionCallResult(){return await this.done(),tt(this,Ue,"m",jf).call(this)}async totalUsage(){return await this.done(),tt(this,Ue,"m",Mf).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);const n=tt(this,Ue,"m",wl).call(this);n&&this._emit("finalMessage",n);const r=tt(this,Ue,"m",Df).call(this);r&&this._emit("finalContent",r);const i=tt(this,Ue,"m",Ff).call(this);i&&this._emit("finalFunctionCall",i);const s=tt(this,Ue,"m",jf).call(this);s!=null&&this._emit("finalFunctionCallResult",s),this._chatCompletions.some(a=>a.usage)&&this._emit("totalUsage",tt(this,Ue,"m",Mf).call(this))}async _createChatCompletion(t,n,r){const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),tt(this,Ue,"m",pw).call(this,n);const s=await t.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(yh(s,n))}async _runChatCompletion(t,n,r){for(const i of n.messages)this._addMessage(i,!1);return await this._createChatCompletion(t,n,r)}async _runFunctions(t,n,r){var d;const i="function",{function_call:s="auto",stream:a,...o}=n,l=typeof s!="string"&&(s==null?void 0:s.name),{maxChatCompletions:u=dg}=r||{},c={};for(const p of n.functions)c[p.name||p.function.name]=p;const f=n.functions.map(p=>({name:p.name||p.function.name,parameters:p.parameters,description:p.description}));for(const p of n.messages)this._addMessage(p,!1);for(let p=0;p<u;++p){const m=(d=(await this._createChatCompletion(t,{...o,function_call:s,functions:f,messages:[...this.messages]},r)).choices[0])==null?void 0:d.message;if(!m)throw new X("missing message in ChatCompletion response");if(!m.function_call)return;const{name:x,arguments:g}=m.function_call,h=c[x];if(h){if(l&&l!==x){const A=`Invalid function_call: ${JSON.stringify(x)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:i,name:x,content:A});continue}}else{const A=`Invalid function_call: ${JSON.stringify(x)}. Available options are: ${f.map(_=>JSON.stringify(_.name)).join(", ")}. Please try again`;this._addMessage({role:i,name:x,content:A});continue}let v;try{v=fg(h)?await h.parse(g):g}catch(A){this._addMessage({role:i,name:x,content:A instanceof Error?A.message:String(A)});continue}const E=await h.function(v,this),w=tt(this,Ue,"m",Uf).call(this,E);if(this._addMessage({role:i,name:x,content:w}),l)return}}async _runTools(t,n,r){var p,y,m;const i="tool",{tool_choice:s="auto",stream:a,...o}=n,l=typeof s!="string"&&((p=s==null?void 0:s.function)==null?void 0:p.name),{maxChatCompletions:u=dg}=r||{},c=n.tools.map(x=>{if(va(x)){if(!x.$callback)throw new X("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:x.$callback,name:x.function.name,description:x.function.description||"",parameters:x.function.parameters,parse:x.$parseRaw,strict:!0}}}return x}),f={};for(const x of c)x.type==="function"&&(f[x.function.name||x.function.function.name]=x.function);const d="tools"in n?c.map(x=>x.type==="function"?{type:"function",function:{name:x.function.name||x.function.function.name,parameters:x.function.parameters,description:x.function.description,strict:x.function.strict}}:x):void 0;for(const x of n.messages)this._addMessage(x,!1);for(let x=0;x<u;++x){const h=(y=(await this._createChatCompletion(t,{...o,tool_choice:s,tools:d,messages:[...this.messages]},r)).choices[0])==null?void 0:y.message;if(!h)throw new X("missing message in ChatCompletion response");if(!((m=h.tool_calls)!=null&&m.length))return;for(const v of h.tool_calls){if(v.type!=="function")continue;const E=v.id,{name:w,arguments:A}=v.function,_=f[w];if(_){if(l&&l!==w){const P=`Invalid tool_call: ${JSON.stringify(w)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:i,tool_call_id:E,content:P});continue}}else{const P=`Invalid tool_call: ${JSON.stringify(w)}. Available options are: ${Object.keys(f).map(j=>JSON.stringify(j)).join(", ")}. Please try again`;this._addMessage({role:i,tool_call_id:E,content:P});continue}let S;try{S=fg(_)?await _.parse(A):A}catch(P){const j=P instanceof Error?P.message:String(P);this._addMessage({role:i,tool_call_id:E,content:j});continue}const C=await _.function(S,this),I=tt(this,Ue,"m",Uf).call(this,C);if(this._addMessage({role:i,tool_call_id:E,content:I}),l)return}}}}Ue=new WeakSet,Df=function(){return tt(this,Ue,"m",wl).call(this).content??null},wl=function(){let t=this.messages.length;for(;t-- >0;){const n=this.messages[t];if(mi(n)){const{function_call:r,...i}=n,s={...i,content:n.content??null,refusal:n.refusal??null};return r&&(s.function_call=r),s}}throw new X("stream ended without producing a ChatCompletionMessage with role=assistant")},Ff=function(){var t,n;for(let r=this.messages.length-1;r>=0;r--){const i=this.messages[r];if(mi(i)&&(i!=null&&i.function_call))return i.function_call;if(mi(i)&&((t=i==null?void 0:i.tool_calls)!=null&&t.length))return(n=i.tool_calls.at(-1))==null?void 0:n.function}},jf=function(){for(let t=this.messages.length-1;t>=0;t--){const n=this.messages[t];if(fw(n)&&n.content!=null||dw(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>{var i;return r.role==="assistant"&&((i=r.tool_calls)==null?void 0:i.some(s=>s.type==="function"&&s.id===n.tool_call_id))}))return n.content}},Mf=function(){const t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(t.completion_tokens+=n.completion_tokens,t.prompt_tokens+=n.prompt_tokens,t.total_tokens+=n.total_tokens);return t},pw=function(t){if(t.n!=null&&t.n>1)throw new X("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Uf=function(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};class ia extends mw{static runFunctions(t,n,r){const i=new ia,s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return i._run(()=>i._runFunctions(t,n,s)),i}static runTools(t,n,r){const i=new ia,s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(t,n,s)),i}_addMessage(t,n=!0){super._addMessage(t,n),mi(t)&&t.content&&this._emit("content",t.content)}}const gw=1,yw=2,vw=4,ww=8,Aw=16,_w=32,xw=64,Ew=128,Sw=256,Cw=Ew|Sw,Iw=Aw|_w|Cw|xw,bw=gw|yw|Iw,kw=vw|ww,Qb=bw|kw,Pe={STR:gw,NUM:yw,ARR:vw,OBJ:ww,NULL:Aw,BOOL:_w,NAN:xw,INFINITY:Ew,MINUS_INFINITY:Sw,INF:Cw,SPECIAL:Iw,ATOM:bw,COLLECTION:kw,ALL:Qb};class zb extends Error{}class Gb extends Error{}function Wb(e,t=Pe.ALL){if(typeof e!="string")throw new TypeError(`expecting str, got ${typeof e}`);if(!e.trim())throw new Error(`${e} is empty`);return Hb(e.trim(),t)}const Hb=(e,t)=>{const n=e.length;let r=0;const i=d=>{throw new zb(`${d} at position ${r}`)},s=d=>{throw new Gb(`${d} at position ${r}`)},a=()=>(f(),r>=n&&i("Unexpected end of input"),e[r]==='"'?o():e[r]==="{"?l():e[r]==="["?u():e.substring(r,r+4)==="null"||Pe.NULL&t&&n-r<4&&"null".startsWith(e.substring(r))?(r+=4,null):e.substring(r,r+4)==="true"||Pe.BOOL&t&&n-r<4&&"true".startsWith(e.substring(r))?(r+=4,!0):e.substring(r,r+5)==="false"||Pe.BOOL&t&&n-r<5&&"false".startsWith(e.substring(r))?(r+=5,!1):e.substring(r,r+8)==="Infinity"||Pe.INFINITY&t&&n-r<8&&"Infinity".startsWith(e.substring(r))?(r+=8,1/0):e.substring(r,r+9)==="-Infinity"||Pe.MINUS_INFINITY&t&&1<n-r&&n-r<9&&"-Infinity".startsWith(e.substring(r))?(r+=9,-1/0):e.substring(r,r+3)==="NaN"||Pe.NAN&t&&n-r<3&&"NaN".startsWith(e.substring(r))?(r+=3,NaN):c()),o=()=>{const d=r;let p=!1;for(r++;r<n&&(e[r]!=='"'||p&&e[r-1]==="\\");)p=e[r]==="\\"?!p:!1,r++;if(e.charAt(r)=='"')try{return JSON.parse(e.substring(d,++r-Number(p)))}catch(y){s(String(y))}else if(Pe.STR&t)try{return JSON.parse(e.substring(d,r-Number(p))+'"')}catch{return JSON.parse(e.substring(d,e.lastIndexOf("\\"))+'"')}i("Unterminated string literal")},l=()=>{r++,f();const d={};try{for(;e[r]!=="}";){if(f(),r>=n&&Pe.OBJ&t)return d;const p=o();f(),r++;try{const y=a();Object.defineProperty(d,p,{value:y,writable:!0,enumerable:!0,configurable:!0})}catch(y){if(Pe.OBJ&t)return d;throw y}f(),e[r]===","&&r++}}catch{if(Pe.OBJ&t)return d;i("Expected '}' at end of object")}return r++,d},u=()=>{r++;const d=[];try{for(;e[r]!=="]";)d.push(a()),f(),e[r]===","&&r++}catch{if(Pe.ARR&t)return d;i("Expected ']' at end of array")}return r++,d},c=()=>{if(r===0){e==="-"&&Pe.NUM&t&&i("Not sure what '-' is");try{return JSON.parse(e)}catch(p){if(Pe.NUM&t)try{return e[e.length-1]==="."?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch{}s(String(p))}}const d=r;for(e[r]==="-"&&r++;e[r]&&!",]}".includes(e[r]);)r++;r==n&&!(Pe.NUM&t)&&i("Unterminated number literal");try{return JSON.parse(e.substring(d,r))}catch{e.substring(d,r)==="-"&&Pe.NUM&t&&i("Not sure what '-' is");try{return JSON.parse(e.substring(d,e.lastIndexOf("e")))}catch(y){s(String(y))}}},f=()=>{for(;r<n&&` 
\r	`.includes(e[r]);)r++};return a()},hg=e=>Wb(e,Pe.ALL^Pe.NUM);var jr=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},ne=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Ee,nn,Mr,En,Zu,ao,ec,tc,nc,oo,rc,pg;class sa extends mw{constructor(t){super(),Ee.add(this),nn.set(this,void 0),Mr.set(this,void 0),En.set(this,void 0),jr(this,nn,t,"f"),jr(this,Mr,[],"f")}get currentChatCompletionSnapshot(){return ne(this,En,"f")}static fromReadableStream(t){const n=new sa(null);return n._run(()=>n._fromReadableStream(t)),n}static createChatCompletion(t,n,r){const i=new sa(n);return i._run(()=>i._runChatCompletion(t,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createChatCompletion(t,n,r){var a;super._createChatCompletion;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),ne(this,Ee,"m",Zu).call(this);const s=await t.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const o of s)ne(this,Ee,"m",ec).call(this,o);if((a=s.controller.signal)!=null&&a.aborted)throw new xt;return this._addChatCompletion(ne(this,Ee,"m",oo).call(this))}async _fromReadableStream(t,n){var a;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),ne(this,Ee,"m",Zu).call(this),this._connected();const i=Yt.fromReadableStream(t,this.controller);let s;for await(const o of i)s&&s!==o.id&&this._addChatCompletion(ne(this,Ee,"m",oo).call(this)),ne(this,Ee,"m",ec).call(this,o),s=o.id;if((a=i.controller.signal)!=null&&a.aborted)throw new xt;return this._addChatCompletion(ne(this,Ee,"m",oo).call(this))}[(nn=new WeakMap,Mr=new WeakMap,En=new WeakMap,Ee=new WeakSet,Zu=function(){this.ended||jr(this,En,void 0,"f")},ao=function(n){let r=ne(this,Mr,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},ne(this,Mr,"f")[n.index]=r,r)},ec=function(n){var i,s,a,o,l,u,c,f,d,p,y,m,x,g,h;if(this.ended)return;const r=ne(this,Ee,"m",pg).call(this,n);this._emit("chunk",n,r);for(const v of n.choices){const E=r.choices[v.index];v.delta.content!=null&&((i=E.message)==null?void 0:i.role)==="assistant"&&((s=E.message)!=null&&s.content)&&(this._emit("content",v.delta.content,E.message.content),this._emit("content.delta",{delta:v.delta.content,snapshot:E.message.content,parsed:E.message.parsed})),v.delta.refusal!=null&&((a=E.message)==null?void 0:a.role)==="assistant"&&((o=E.message)!=null&&o.refusal)&&this._emit("refusal.delta",{delta:v.delta.refusal,snapshot:E.message.refusal}),((l=v.logprobs)==null?void 0:l.content)!=null&&((u=E.message)==null?void 0:u.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(c=v.logprobs)==null?void 0:c.content,snapshot:((f=E.logprobs)==null?void 0:f.content)??[]}),((d=v.logprobs)==null?void 0:d.refusal)!=null&&((p=E.message)==null?void 0:p.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(y=v.logprobs)==null?void 0:y.refusal,snapshot:((m=E.logprobs)==null?void 0:m.refusal)??[]});const w=ne(this,Ee,"m",ao).call(this,E);E.finish_reason&&(ne(this,Ee,"m",nc).call(this,E),w.current_tool_call_index!=null&&ne(this,Ee,"m",tc).call(this,E,w.current_tool_call_index));for(const A of v.delta.tool_calls??[])w.current_tool_call_index!==A.index&&(ne(this,Ee,"m",nc).call(this,E),w.current_tool_call_index!=null&&ne(this,Ee,"m",tc).call(this,E,w.current_tool_call_index)),w.current_tool_call_index=A.index;for(const A of v.delta.tool_calls??[]){const _=(x=E.message.tool_calls)==null?void 0:x[A.index];_!=null&&_.type&&((_==null?void 0:_.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(g=_.function)==null?void 0:g.name,index:A.index,arguments:_.function.arguments,parsed_arguments:_.function.parsed_arguments,arguments_delta:((h=A.function)==null?void 0:h.arguments)??""}):(_==null||_.type,void 0))}}},tc=function(n,r){var a,o,l;if(ne(this,Ee,"m",ao).call(this,n).done_tool_calls.has(r))return;const s=(a=n.message.tool_calls)==null?void 0:a[r];if(!s)throw new Error("no tool call snapshot");if(!s.type)throw new Error("tool call snapshot missing `type`");if(s.type==="function"){const u=(l=(o=ne(this,nn,"f"))==null?void 0:o.tools)==null?void 0:l.find(c=>c.type==="function"&&c.function.name===s.function.name);this._emit("tool_calls.function.arguments.done",{name:s.function.name,index:r,arguments:s.function.arguments,parsed_arguments:va(u)?u.$parseRaw(s.function.arguments):u!=null&&u.function.strict?JSON.parse(s.function.arguments):null})}else s.type},nc=function(n){var i,s;const r=ne(this,Ee,"m",ao).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const a=ne(this,Ee,"m",rc).call(this);this._emit("content.done",{content:n.message.content,parsed:a?a.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(i=n.logprobs)!=null&&i.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(s=n.logprobs)!=null&&s.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},oo=function(){if(this.ended)throw new X("stream has ended, this shouldn't happen");const n=ne(this,En,"f");if(!n)throw new X("request ended without sending any chunks");return jr(this,En,void 0,"f"),jr(this,Mr,[],"f"),Vb(n,ne(this,nn,"f"))},rc=function(){var r;const n=(r=ne(this,nn,"f"))==null?void 0:r.response_format;return gh(n)?n:null},pg=function(n){var r,i,s,a;let o=ne(this,En,"f");const{choices:l,...u}=n;o?Object.assign(o,u):o=jr(this,En,{...u,choices:[]},"f");for(const{delta:c,finish_reason:f,index:d,logprobs:p=null,...y}of n.choices){let m=o.choices[d];if(m||(m=o.choices[d]={finish_reason:f,index:d,message:{},logprobs:p,...y}),p)if(!m.logprobs)m.logprobs=Object.assign({},p);else{const{content:A,refusal:_,...S}=p;Object.assign(m.logprobs,S),A&&((r=m.logprobs).content??(r.content=[]),m.logprobs.content.push(...A)),_&&((i=m.logprobs).refusal??(i.refusal=[]),m.logprobs.refusal.push(..._))}if(f&&(m.finish_reason=f,ne(this,nn,"f")&&hw(ne(this,nn,"f")))){if(f==="length")throw new Kv;if(f==="content_filter")throw new Xv}if(Object.assign(m,y),!c)continue;const{content:x,refusal:g,function_call:h,role:v,tool_calls:E,...w}=c;if(Object.assign(m.message,w),g&&(m.message.refusal=(m.message.refusal||"")+g),v&&(m.message.role=v),h&&(m.message.function_call?(h.name&&(m.message.function_call.name=h.name),h.arguments&&((s=m.message.function_call).arguments??(s.arguments=""),m.message.function_call.arguments+=h.arguments)):m.message.function_call=h),x&&(m.message.content=(m.message.content||"")+x,!m.message.refusal&&ne(this,Ee,"m",rc).call(this)&&(m.message.parsed=hg(m.message.content))),E){m.message.tool_calls||(m.message.tool_calls=[]);for(const{index:A,id:_,type:S,function:C,...I}of E){const P=(a=m.message.tool_calls)[A]??(a[A]={});Object.assign(P,I),_&&(P.id=_),S&&(P.type=S),C&&(P.function??(P.function={name:C.name??"",arguments:""})),C!=null&&C.name&&(P.function.name=C.name),C!=null&&C.arguments&&(P.function.arguments+=C.arguments,Mb(ne(this,nn,"f"),P)&&(P.function.parsed_arguments=hg(P.function.arguments)))}}}return o},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("chunk",i=>{const s=n.shift();s?s.resolve(i):t.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,a)=>n.push({resolve:s,reject:a})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Yt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function Vb(e,t){const{id:n,choices:r,created:i,model:s,system_fingerprint:a,...o}=e,l={...o,id:n,choices:r.map(({message:u,finish_reason:c,index:f,logprobs:d,...p})=>{if(!c)throw new X(`missing finish_reason for choice ${f}`);const{content:y=null,function_call:m,tool_calls:x,...g}=u,h=u.role;if(!h)throw new X(`missing role for choice ${f}`);if(m){const{arguments:v,name:E}=m;if(v==null)throw new X(`missing function_call.arguments for choice ${f}`);if(!E)throw new X(`missing function_call.name for choice ${f}`);return{...p,message:{content:y,function_call:{arguments:v,name:E},role:h,refusal:u.refusal??null},finish_reason:c,index:f,logprobs:d}}return x?{...p,index:f,finish_reason:c,logprobs:d,message:{...g,role:h,content:y,refusal:u.refusal??null,tool_calls:x.map((v,E)=>{const{function:w,type:A,id:_,...S}=v,{arguments:C,name:I,...P}=w||{};if(_==null)throw new X(`missing choices[${f}].tool_calls[${E}].id
${lo(e)}`);if(A==null)throw new X(`missing choices[${f}].tool_calls[${E}].type
${lo(e)}`);if(I==null)throw new X(`missing choices[${f}].tool_calls[${E}].function.name
${lo(e)}`);if(C==null)throw new X(`missing choices[${f}].tool_calls[${E}].function.arguments
${lo(e)}`);return{...S,id:_,type:A,function:{...P,name:I,arguments:C}}})}}:{...p,message:{...g,content:y,role:h,refusal:u.refusal??null},finish_reason:c,index:f,logprobs:d}}),created:i,model:s,object:"chat.completion",...a?{system_fingerprint:a}:{}};return Db(l,t)}function lo(e){return JSON.stringify(e)}class gi extends sa{static fromReadableStream(t){const n=new gi(null);return n._run(()=>n._fromReadableStream(t)),n}static runFunctions(t,n,r){const i=new gi(null),s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return i._run(()=>i._runFunctions(t,n,s)),i}static runTools(t,n,r){const i=new gi(n),s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(t,n,s)),i}}let Rw=class extends q{parse(t,n){return Ub(t.tools),this._client.chat.completions.create(t,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(r=>yh(r,t))}runFunctions(t,n){return t.stream?gi.runFunctions(this._client,t,n):ia.runFunctions(this._client,t,n)}runTools(t,n){return t.stream?gi.runTools(this._client,t,n):ia.runTools(this._client,t,n)}stream(t,n){return sa.createChatCompletion(this._client,t,n)}};class Qf extends q{constructor(){super(...arguments),this.completions=new Rw(this._client)}}(function(e){e.Completions=Rw})(Qf||(Qf={}));class Pw extends q{create(t,n){return this._client.post("/realtime/sessions",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class Bw extends q{create(t,n){return this._client.post("/realtime/transcription_sessions",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class eu extends q{constructor(){super(...arguments),this.sessions=new Pw(this._client),this.transcriptionSessions=new Bw(this._client)}}eu.Sessions=Pw;eu.TranscriptionSessions=Bw;class vh extends q{create(t,n,r){return this._client.post(`/threads/${t}/messages`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/threads/${t}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,n,r,i){return this._client.post(`/threads/${t}/messages/${n}`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(t,n={},r){return me(n)?this.list(t,{},n):this._client.getAPIList(`/threads/${t}/messages`,wh,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n,r){return this._client.delete(`/threads/${t}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class wh extends Re{}vh.MessagesPage=wh;class Ah extends q{retrieve(t,n,r,i={},s){return me(i)?this.retrieve(t,n,r,{},i):this._client.get(`/threads/${t}/runs/${n}/steps/${r}`,{query:i,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(t,n,r={},i){return me(r)?this.list(t,n,{},r):this._client.getAPIList(`/threads/${t}/runs/${n}/steps`,_h,{query:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}}class _h extends Re{}Ah.RunStepsPage=_h;let wa=class extends q{constructor(){super(...arguments),this.steps=new Ah(this._client)}create(t,n,r){const{include:i,...s}=n;return this._client.post(`/threads/${t}/runs`,{query:{include:i},body:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:n.stream??!1})}retrieve(t,n,r){return this._client.get(`/threads/${t}/runs/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,n,r,i){return this._client.post(`/threads/${t}/runs/${n}`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(t,n={},r){return me(n)?this.list(t,{},n):this._client.getAPIList(`/threads/${t}/runs`,xh,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(t,n,r){return this._client.post(`/threads/${t}/runs/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){const i=await this.create(t,n,r);return await this.poll(t,i.id,r)}createAndStream(t,n,r){return Lt.createAssistantStream(t,this._client.beta.threads.runs,n,r)}async poll(t,n,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:s,response:a}=await this.retrieve(t,n,{...r,headers:{...r==null?void 0:r.headers,...i}}).withResponse();switch(s.status){case"queued":case"in_progress":case"cancelling":let o=5e3;if(r!=null&&r.pollIntervalMs)o=r.pollIntervalMs;else{const l=a.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(o=u)}}await ga(o);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return s}}}stream(t,n,r){return Lt.createAssistantStream(t,this._client.beta.threads.runs,n,r)}submitToolOutputs(t,n,r,i){return this._client.post(`/threads/${t}/runs/${n}/submit_tool_outputs`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers},stream:r.stream??!1})}async submitToolOutputsAndPoll(t,n,r,i){const s=await this.submitToolOutputs(t,n,r,i);return await this.poll(t,s.id,i)}submitToolOutputsStream(t,n,r,i){return Lt.createToolAssistantStream(t,n,this._client.beta.threads.runs,r,i)}};class xh extends Re{}wa.RunsPage=xh;wa.Steps=Ah;wa.RunStepsPage=_h;class Li extends q{constructor(){super(...arguments),this.runs=new wa(this._client),this.messages=new vh(this._client)}create(t={},n){return me(t)?this.create({},t):this._client.post("/threads",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/threads/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/threads/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n){return this._client.delete(`/threads/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}createAndRun(t,n){return this._client.post("/threads/runs",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:t.stream??!1})}async createAndRunPoll(t,n){const r=await this.createAndRun(t,n);return await this.runs.poll(r.thread_id,r.id,n)}createAndRunStream(t,n){return Lt.createThreadAssistantStream(t,this._client.beta.threads,n)}}Li.Runs=wa;Li.RunsPage=xh;Li.Messages=vh;Li.MessagesPage=wh;class $i extends q{constructor(){super(...arguments),this.realtime=new eu(this._client),this.chat=new Qf(this._client),this.assistants=new ph(this._client),this.threads=new Li(this._client)}}$i.Realtime=eu;$i.Assistants=ph;$i.AssistantsPage=mh;$i.Threads=Li;class Ow extends q{create(t,n){return this._client.post("/completions",{body:t,...n,stream:t.stream??!1})}}class Tw extends q{retrieve(t,n,r){return this._client.get(`/containers/${t}/files/${n}/content`,{...r,headers:{Accept:"application/binary",...r==null?void 0:r.headers},__binaryResponse:!0})}}let tu=class extends q{constructor(){super(...arguments),this.content=new Tw(this._client)}create(t,n,r){return this._client.post(`/containers/${t}/files`,Br({body:n,...r}))}retrieve(t,n,r){return this._client.get(`/containers/${t}/files/${n}`,r)}list(t,n={},r){return me(n)?this.list(t,{},n):this._client.getAPIList(`/containers/${t}/files`,Eh,{query:n,...r})}del(t,n,r){return this._client.delete(`/containers/${t}/files/${n}`,{...r,headers:{Accept:"*/*",...r==null?void 0:r.headers}})}};class Eh extends Re{}tu.FileListResponsesPage=Eh;tu.Content=Tw;class Aa extends q{constructor(){super(...arguments),this.files=new tu(this._client)}create(t,n){return this._client.post("/containers",{body:t,...n})}retrieve(t,n){return this._client.get(`/containers/${t}`,n)}list(t={},n){return me(t)?this.list({},t):this._client.getAPIList("/containers",Sh,{query:t,...n})}del(t,n){return this._client.delete(`/containers/${t}`,{...n,headers:{Accept:"*/*",...n==null?void 0:n.headers}})}}class Sh extends Re{}Aa.ContainerListResponsesPage=Sh;Aa.Files=tu;Aa.FileListResponsesPage=Eh;class Lw extends q{create(t,n){const r=!!t.encoding_format;let i=r?t.encoding_format:"base64";r&&Hn("Request","User defined encoding_format:",t.encoding_format);const s=this._client.post("/embeddings",{body:{...t,encoding_format:i},...n});return r?s:(Hn("response","Decoding base64 embeddings to float32 array"),s._thenUnwrap(a=>(a&&a.data&&a.data.forEach(o=>{const l=o.embedding;o.embedding=$b(l)}),a)))}}class Ch extends q{retrieve(t,n,r,i){return this._client.get(`/evals/${t}/runs/${n}/output_items/${r}`,i)}list(t,n,r={},i){return me(r)?this.list(t,n,{},r):this._client.getAPIList(`/evals/${t}/runs/${n}/output_items`,Ih,{query:r,...i})}}class Ih extends Re{}Ch.OutputItemListResponsesPage=Ih;class _a extends q{constructor(){super(...arguments),this.outputItems=new Ch(this._client)}create(t,n,r){return this._client.post(`/evals/${t}/runs`,{body:n,...r})}retrieve(t,n,r){return this._client.get(`/evals/${t}/runs/${n}`,r)}list(t,n={},r){return me(n)?this.list(t,{},n):this._client.getAPIList(`/evals/${t}/runs`,bh,{query:n,...r})}del(t,n,r){return this._client.delete(`/evals/${t}/runs/${n}`,r)}cancel(t,n,r){return this._client.post(`/evals/${t}/runs/${n}`,r)}}class bh extends Re{}_a.RunListResponsesPage=bh;_a.OutputItems=Ch;_a.OutputItemListResponsesPage=Ih;class xa extends q{constructor(){super(...arguments),this.runs=new _a(this._client)}create(t,n){return this._client.post("/evals",{body:t,...n})}retrieve(t,n){return this._client.get(`/evals/${t}`,n)}update(t,n,r){return this._client.post(`/evals/${t}`,{body:n,...r})}list(t={},n){return me(t)?this.list({},t):this._client.getAPIList("/evals",kh,{query:t,...n})}del(t,n){return this._client.delete(`/evals/${t}`,n)}}class kh extends Re{}xa.EvalListResponsesPage=kh;xa.Runs=_a;xa.RunListResponsesPage=bh;let Rh=class extends q{create(t,n){return this._client.post("/files",Br({body:t,...n}))}retrieve(t,n){return this._client.get(`/files/${t}`,n)}list(t={},n){return me(t)?this.list({},t):this._client.getAPIList("/files",Ph,{query:t,...n})}del(t,n){return this._client.delete(`/files/${t}`,n)}content(t,n){return this._client.get(`/files/${t}/content`,{...n,headers:{Accept:"application/binary",...n==null?void 0:n.headers},__binaryResponse:!0})}retrieveContent(t,n){return this._client.get(`/files/${t}/content`,n)}async waitForProcessing(t,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const i=new Set(["processed","error","deleted"]),s=Date.now();let a=await this.retrieve(t);for(;!a.status||!i.has(a.status);)if(await ga(n),a=await this.retrieve(t),Date.now()-s>r)throw new ch({message:`Giving up on waiting for file ${t} to finish processing after ${r} milliseconds.`});return a}};class Ph extends Re{}Rh.FileObjectsPage=Ph;class $w extends q{}let Nw=class extends q{run(t,n){return this._client.post("/fine_tuning/alpha/graders/run",{body:t,...n})}validate(t,n){return this._client.post("/fine_tuning/alpha/graders/validate",{body:t,...n})}};class Bh extends q{constructor(){super(...arguments),this.graders=new Nw(this._client)}}Bh.Graders=Nw;class Oh extends q{create(t,n,r){return this._client.getAPIList(`/fine_tuning/checkpoints/${t}/permissions`,Th,{body:n,method:"post",...r})}retrieve(t,n={},r){return me(n)?this.retrieve(t,{},n):this._client.get(`/fine_tuning/checkpoints/${t}/permissions`,{query:n,...r})}del(t,n,r){return this._client.delete(`/fine_tuning/checkpoints/${t}/permissions/${n}`,r)}}class Th extends Yl{}Oh.PermissionCreateResponsesPage=Th;let nu=class extends q{constructor(){super(...arguments),this.permissions=new Oh(this._client)}};nu.Permissions=Oh;nu.PermissionCreateResponsesPage=Th;class Lh extends q{list(t,n={},r){return me(n)?this.list(t,{},n):this._client.getAPIList(`/fine_tuning/jobs/${t}/checkpoints`,$h,{query:n,...r})}}class $h extends Re{}Lh.FineTuningJobCheckpointsPage=$h;class Ni extends q{constructor(){super(...arguments),this.checkpoints=new Lh(this._client)}create(t,n){return this._client.post("/fine_tuning/jobs",{body:t,...n})}retrieve(t,n){return this._client.get(`/fine_tuning/jobs/${t}`,n)}list(t={},n){return me(t)?this.list({},t):this._client.getAPIList("/fine_tuning/jobs",Nh,{query:t,...n})}cancel(t,n){return this._client.post(`/fine_tuning/jobs/${t}/cancel`,n)}listEvents(t,n={},r){return me(n)?this.listEvents(t,{},n):this._client.getAPIList(`/fine_tuning/jobs/${t}/events`,Dh,{query:n,...r})}pause(t,n){return this._client.post(`/fine_tuning/jobs/${t}/pause`,n)}resume(t,n){return this._client.post(`/fine_tuning/jobs/${t}/resume`,n)}}class Nh extends Re{}class Dh extends Re{}Ni.FineTuningJobsPage=Nh;Ni.FineTuningJobEventsPage=Dh;Ni.Checkpoints=Lh;Ni.FineTuningJobCheckpointsPage=$h;class rr extends q{constructor(){super(...arguments),this.methods=new $w(this._client),this.jobs=new Ni(this._client),this.checkpoints=new nu(this._client),this.alpha=new Bh(this._client)}}rr.Methods=$w;rr.Jobs=Ni;rr.FineTuningJobsPage=Nh;rr.FineTuningJobEventsPage=Dh;rr.Checkpoints=nu;rr.Alpha=Bh;class Dw extends q{}class Fh extends q{constructor(){super(...arguments),this.graderModels=new Dw(this._client)}}Fh.GraderModels=Dw;class Fw extends q{createVariation(t,n){return this._client.post("/images/variations",Br({body:t,...n}))}edit(t,n){return this._client.post("/images/edits",Br({body:t,...n}))}generate(t,n){return this._client.post("/images/generations",{body:t,...n})}}class jh extends q{retrieve(t,n){return this._client.get(`/models/${t}`,n)}list(t){return this._client.getAPIList("/models",Mh,t)}del(t,n){return this._client.delete(`/models/${t}`,n)}}class Mh extends Yl{}jh.ModelsPage=Mh;class jw extends q{create(t,n){return this._client.post("/moderations",{body:t,...n})}}function Kb(e,t){return!t||!Yb(t)?{...e,output_parsed:null,output:e.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(r=>({...r,parsed:null}))}:n)}:Mw(e,t)}function Mw(e,t){const n=e.output.map(i=>{if(i.type==="function_call")return{...i,parsed_arguments:Zb(t,i)};if(i.type==="message"){const s=i.content.map(a=>a.type==="output_text"?{...a,parsed:Xb(t,a.text)}:a);return{...i,content:s}}return i}),r=Object.assign({},e,{output:n});return Object.getOwnPropertyDescriptor(e,"output_text")||Uw(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const i of r.output)if(i.type==="message"){for(const s of i.content)if(s.type==="output_text"&&s.parsed!==null)return s.parsed}return null}}),r}function Xb(e,t){var n,r,i,s;return((r=(n=e.text)==null?void 0:n.format)==null?void 0:r.type)!=="json_schema"?null:"$parseRaw"in((i=e.text)==null?void 0:i.format)?((s=e.text)==null?void 0:s.format).$parseRaw(t):JSON.parse(t)}function Yb(e){var t;return!!gh((t=e.text)==null?void 0:t.format)}function qb(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function Jb(e,t){return e.find(n=>n.type==="function"&&n.name===t)}function Zb(e,t){const n=Jb(e.tools??[],t.name);return{...t,...t,parsed_arguments:qb(n)?n.$parseRaw(t.arguments):n!=null&&n.strict?JSON.parse(t.arguments):null}}function Uw(e){const t=[];for(const n of e.output)if(n.type==="message")for(const r of n.content)r.type==="output_text"&&t.push(r.text);e.output_text=t.join("")}class Qw extends q{list(t,n={},r){return me(n)?this.list(t,{},n):this._client.getAPIList(`/responses/${t}/input_items`,tk,{query:n,...r})}}var Ur=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},Sn=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Qr,uo,Cn,co,mg,gg,yg,vg;class Uh extends hh{constructor(t){super(),Qr.add(this),uo.set(this,void 0),Cn.set(this,void 0),co.set(this,void 0),Ur(this,uo,t,"f")}static createResponse(t,n,r){const i=new Uh(n);return i._run(()=>i._createOrRetrieveResponse(t,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createOrRetrieveResponse(t,n,r){var o;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),Sn(this,Qr,"m",mg).call(this);let s,a=null;"response_id"in n?(s=await t.responses.retrieve(n.response_id,{stream:!0},{...r,signal:this.controller.signal,stream:!0}),a=n.starting_after??null):s=await t.responses.create({...n,stream:!0},{...r,signal:this.controller.signal}),this._connected();for await(const l of s)Sn(this,Qr,"m",gg).call(this,l,a);if((o=s.controller.signal)!=null&&o.aborted)throw new xt;return Sn(this,Qr,"m",yg).call(this)}[(uo=new WeakMap,Cn=new WeakMap,co=new WeakMap,Qr=new WeakSet,mg=function(){this.ended||Ur(this,Cn,void 0,"f")},gg=function(n,r){if(this.ended)return;const i=(a,o)=>{(r==null||o.sequence_number>r)&&this._emit(a,o)},s=Sn(this,Qr,"m",vg).call(this,n);switch(i("event",n),n.type){case"response.output_text.delta":{const a=s.output[n.output_index];if(!a)throw new X(`missing output at index ${n.output_index}`);if(a.type==="message"){const o=a.content[n.content_index];if(!o)throw new X(`missing content at index ${n.content_index}`);if(o.type!=="output_text")throw new X(`expected content to be 'output_text', got ${o.type}`);i("response.output_text.delta",{...n,snapshot:o.text})}break}case"response.function_call_arguments.delta":{const a=s.output[n.output_index];if(!a)throw new X(`missing output at index ${n.output_index}`);a.type==="function_call"&&i("response.function_call_arguments.delta",{...n,snapshot:a.arguments});break}default:i(n.type,n);break}},yg=function(){if(this.ended)throw new X("stream has ended, this shouldn't happen");const n=Sn(this,Cn,"f");if(!n)throw new X("request ended without sending any events");Ur(this,Cn,void 0,"f");const r=ek(n,Sn(this,uo,"f"));return Ur(this,co,r,"f"),r},vg=function(n){let r=Sn(this,Cn,"f");if(!r){if(n.type!=="response.created")throw new X(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return r=Ur(this,Cn,n.response,"f"),r}switch(n.type){case"response.output_item.added":{r.output.push(n.item);break}case"response.content_part.added":{const i=r.output[n.output_index];if(!i)throw new X(`missing output at index ${n.output_index}`);i.type==="message"&&i.content.push(n.part);break}case"response.output_text.delta":{const i=r.output[n.output_index];if(!i)throw new X(`missing output at index ${n.output_index}`);if(i.type==="message"){const s=i.content[n.content_index];if(!s)throw new X(`missing content at index ${n.content_index}`);if(s.type!=="output_text")throw new X(`expected content to be 'output_text', got ${s.type}`);s.text+=n.delta}break}case"response.function_call_arguments.delta":{const i=r.output[n.output_index];if(!i)throw new X(`missing output at index ${n.output_index}`);i.type==="function_call"&&(i.arguments+=n.delta);break}case"response.completed":{Ur(this,Cn,n.response,"f");break}}return r},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("event",i=>{const s=n.shift();s?s.resolve(i):t.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,a)=>n.push({resolve:s,reject:a})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const t=Sn(this,co,"f");if(!t)throw new X("stream ended without producing a ChatCompletion");return t}}function ek(e,t){return Kb(e,t)}class Qh extends q{constructor(){super(...arguments),this.inputItems=new Qw(this._client)}create(t,n){return this._client.post("/responses",{body:t,...n,stream:t.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&Uw(r),r))}retrieve(t,n={},r){return this._client.get(`/responses/${t}`,{query:n,...r,stream:(n==null?void 0:n.stream)??!1})}del(t,n){return this._client.delete(`/responses/${t}`,{...n,headers:{Accept:"*/*",...n==null?void 0:n.headers}})}parse(t,n){return this._client.responses.create(t,n)._thenUnwrap(r=>Mw(r,t))}stream(t,n){return Uh.createResponse(this._client,t,n)}cancel(t,n){return this._client.post(`/responses/${t}/cancel`,{...n,headers:{Accept:"*/*",...n==null?void 0:n.headers}})}}class tk extends Re{}Qh.InputItems=Qw;class zw extends q{create(t,n,r){return this._client.post(`/uploads/${t}/parts`,Br({body:n,...r}))}}class zh extends q{constructor(){super(...arguments),this.parts=new zw(this._client)}create(t,n){return this._client.post("/uploads",{body:t,...n})}cancel(t,n){return this._client.post(`/uploads/${t}/cancel`,n)}complete(t,n,r){return this._client.post(`/uploads/${t}/complete`,{body:n,...r})}}zh.Parts=zw;const nk=async e=>{const t=await Promise.allSettled(e),n=t.filter(i=>i.status==="rejected");if(n.length){for(const i of n)console.error(i.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const i of t)i.status==="fulfilled"&&r.push(i.value);return r};class ru extends q{create(t,n,r){return this._client.post(`/vector_stores/${t}/files`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/vector_stores/${t}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,n,r,i){return this._client.post(`/vector_stores/${t}/files/${n}`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(t,n={},r){return me(n)?this.list(t,{},n):this._client.getAPIList(`/vector_stores/${t}/files`,iu,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n,r){return this._client.delete(`/vector_stores/${t}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){const i=await this.create(t,n,r);return await this.poll(t,i.id,r)}async poll(t,n,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const s=await this.retrieve(t,n,{...r,headers:i}).withResponse(),a=s.data;switch(a.status){case"in_progress":let o=5e3;if(r!=null&&r.pollIntervalMs)o=r.pollIntervalMs;else{const l=s.response.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(o=u)}}await ga(o);break;case"failed":case"completed":return a}}}async upload(t,n,r){const i=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(t,{file_id:i.id},r)}async uploadAndPoll(t,n,r){const i=await this.upload(t,n,r);return await this.poll(t,i.id,r)}content(t,n,r){return this._client.getAPIList(`/vector_stores/${t}/files/${n}/content`,Gh,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class iu extends Re{}class Gh extends Yl{}ru.VectorStoreFilesPage=iu;ru.FileContentResponsesPage=Gh;class Gw extends q{create(t,n,r){return this._client.post(`/vector_stores/${t}/file_batches`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/vector_stores/${t}/file_batches/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(t,n,r){return this._client.post(`/vector_stores/${t}/file_batches/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){const i=await this.create(t,n);return await this.poll(t,i.id,r)}listFiles(t,n,r={},i){return me(r)?this.listFiles(t,n,{},r):this._client.getAPIList(`/vector_stores/${t}/file_batches/${n}/files`,iu,{query:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}async poll(t,n,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:s,response:a}=await this.retrieve(t,n,{...r,headers:i}).withResponse();switch(s.status){case"in_progress":let o=5e3;if(r!=null&&r.pollIntervalMs)o=r.pollIntervalMs;else{const l=a.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(o=u)}}await ga(o);break;case"failed":case"cancelled":case"completed":return s}}}async uploadAndPoll(t,{files:n,fileIds:r=[]},i){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const s=(i==null?void 0:i.maxConcurrency)??5,a=Math.min(s,n.length),o=this._client,l=n.values(),u=[...r];async function c(d){for(let p of d){const y=await o.files.create({file:p,purpose:"assistants"},i);u.push(y.id)}}const f=Array(a).fill(l).map(c);return await nk(f),await this.createAndPoll(t,{file_ids:u})}}class ir extends q{constructor(){super(...arguments),this.files=new ru(this._client),this.fileBatches=new Gw(this._client)}create(t,n){return this._client.post("/vector_stores",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/vector_stores/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/vector_stores/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(t={},n){return me(t)?this.list({},t):this._client.getAPIList("/vector_stores",Wh,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,n){return this._client.delete(`/vector_stores/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}search(t,n,r){return this._client.getAPIList(`/vector_stores/${t}/search`,Hh,{body:n,method:"post",...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class Wh extends Re{}class Hh extends Yl{}ir.VectorStoresPage=Wh;ir.VectorStoreSearchResponsesPage=Hh;ir.Files=ru;ir.VectorStoreFilesPage=iu;ir.FileContentResponsesPage=Gh;ir.FileBatches=Gw;var Ww;class J extends Eb{constructor({baseURL:t=io("OPENAI_BASE_URL"),apiKey:n=io("OPENAI_API_KEY"),organization:r=io("OPENAI_ORG_ID")??null,project:i=io("OPENAI_PROJECT_ID")??null,...s}={}){if(n===void 0)throw new X("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const a={apiKey:n,organization:r,project:i,...s,baseURL:t||"https://api.openai.com/v1"};if(!a.dangerouslyAllowBrowser&&Tb())throw new X(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:a.baseURL,timeout:a.timeout??6e5,httpAgent:a.httpAgent,maxRetries:a.maxRetries,fetch:a.fetch}),this.completions=new Ow(this),this.chat=new Zl(this),this.embeddings=new Lw(this),this.files=new Rh(this),this.images=new Fw(this),this.audio=new ya(this),this.moderations=new jw(this),this.models=new jh(this),this.fineTuning=new rr(this),this.graders=new Fh(this),this.vectorStores=new ir(this),this.beta=new $i(this),this.batches=new fh(this),this.uploads=new zh(this),this.responses=new Qh(this),this.evals=new xa(this),this.containers=new Aa(this),this._options=a,this.apiKey=n,this.organization=r,this.project=i}defaultQuery(){return this._options.defaultQuery}defaultHeaders(t){return{...super.defaultHeaders(t),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(t){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(t){return sb(t,{arrayFormat:"brackets"})}}Ww=J;J.OpenAI=Ww;J.DEFAULT_TIMEOUT=6e5;J.OpenAIError=X;J.APIError=Fe;J.APIConnectionError=Hl;J.APIConnectionTimeoutError=ch;J.APIUserAbortError=xt;J.NotFoundError=zv;J.ConflictError=Gv;J.RateLimitError=Hv;J.BadRequestError=Mv;J.AuthenticationError=Uv;J.InternalServerError=Vv;J.PermissionDeniedError=Qv;J.UnprocessableEntityError=Wv;J.toFile=Zv;J.fileFromPath=Dv;J.Completions=Ow;J.Chat=Zl;J.ChatCompletionsPage=Jl;J.Embeddings=Lw;J.Files=Rh;J.FileObjectsPage=Ph;J.Images=Fw;J.Audio=ya;J.Moderations=jw;J.Models=jh;J.ModelsPage=Mh;J.FineTuning=rr;J.Graders=Fh;J.VectorStores=ir;J.VectorStoresPage=Wh;J.VectorStoreSearchResponsesPage=Hh;J.Beta=$i;J.Batches=fh;J.BatchesPage=dh;J.Uploads=zh;J.Responses=Qh;J.Evals=xa;J.EvalListResponsesPage=kh;J.Containers=Aa;J.ContainerListResponsesPage=Sh;async function rk(e,t){if(!t)throw new Error("API key is required. Please configure it in Settings.");if(!t.startsWith("sk-"))throw new Error('Invalid API key format. Key must start with "sk-".');const n=new J({apiKey:t,dangerouslyAllowBrowser:!0}),r=`Analyze this food photo. Return a JSON object with an 'items' array. Each item should have: 'name' (string, food name), 'grams' (number, estimated portion in grams), 'calories' (number, estimated calories), 'confidence' (string: 'high', 'medium', or 'low'). Return up to 10 food items. If no food is detected, return an empty array. Example: {"items": [{"name": "White Rice", "grams": 180, "calories": 230, "confidence": "high"}]}`;try{const i=await Promise.race([n.chat.completions.create({model:"gpt-4o-mini",messages:[{role:"user",content:[{type:"text",text:r},{type:"image_url",image_url:{url:`data:image/jpeg;base64,${e}`}}]}],response_format:{type:"json_object"},max_tokens:500}),new Promise((s,a)=>setTimeout(()=>a(new Error("Request timeout - please try again")),3e4))]);return ik(i)}catch(i){throw sk(i)}}function ik(e){var t,n;try{const r=(n=(t=e.choices[0])==null?void 0:t.message)==null?void 0:n.content;if(!r)throw new Error("Empty response from AI");const i=JSON.parse(r);if(!i.items||!Array.isArray(i.items))throw new Error("Invalid response format from AI");return i.items.map((a,o)=>{if(!a.name||typeof a.name!="string")throw new Error(`Item ${o}: missing or invalid name`);if(!a.grams||typeof a.grams!="number"||a.grams<1)throw new Error(`Item ${o}: grams must be >= 1`);if(typeof a.calories!="number"||a.calories<0)throw new Error(`Item ${o}: calories must be non-negative`);if(!["high","medium","low"].includes(a.confidence))throw new Error(`Item ${o}: confidence must be high, medium, or low`);return{name:a.name.substring(0,100),grams:Math.round(a.grams),calories:Math.round(a.calories),confidence:a.confidence}})}catch(r){throw console.error("AI response parsing error:",r),new Error(`Failed to parse AI response: ${r.message}`)}}function sk(e){var t,n,r,i,s;return console.error("OpenAI API error:",e),e.status===401||(t=e.message)!=null&&t.includes("Incorrect API key")?new Error("Invalid API key. Please check your API key in Settings."):e.status===429||(n=e.message)!=null&&n.includes("Rate limit")?new Error("Rate limit exceeded. Please wait a moment and try again."):e.status>=500?new Error("OpenAI service is currently unavailable. Please try again later."):(r=e.message)!=null&&r.includes("timeout")?new Error("Request timeout. Please check your connection and try again."):(i=e.message)!=null&&i.includes("fetch")||(s=e.message)!=null&&s.includes("network")?new Error("Network error. Please check your internet connection."):new Error(e.message||"An unexpected error occurred. Please try again.")}function ak(){const[e,t]=F.useState("select"),[n,r]=F.useState(null),[i,s]=F.useState(null),{setCurrentMeal:a,setCurrentImage:o}=th(),l=Pi(),u=y=>{r(y),t("preview")},c=y=>{r(y),t("preview")},f=()=>{r(null),s(null),t("select")},d=async()=>{t("analyzing"),s(null);try{const y=await vv();if(!y)throw new Error("No API key configured. Please set up your API key in Settings.");const m=await XI(n),x=await rk(m,y);o(URL.createObjectURL(n)),a({foodItems:x,timestamp:Date.now(),date:new Date().toISOString().split("T")[0]}),l("/results")}catch(y){console.error("AI analysis error:",y),s(y.message),t("preview")}},p=y=>{s(y)};return b.jsxs("div",{style:bt.container,children:[e==="select"&&b.jsxs("div",{style:bt.selectMode,children:[b.jsx("h1",{style:bt.title,children:"MealLens"}),b.jsx("p",{style:bt.subtitle,children:"Capture or upload a food photo"}),b.jsxs("div",{style:bt.buttonGroup,children:[b.jsx("button",{onClick:()=>t("camera"),style:bt.primaryButton,children:" Take Photo"}),b.jsx(NI,{onUpload:c,onError:p})]}),i&&b.jsxs("div",{style:bt.error,children:[" ",i]})]}),e==="camera"&&b.jsx($I,{onCapture:u,onError:p}),e==="preview"&&n&&b.jsx(DI,{imageBlob:n,onRetake:f,onConfirm:d}),e==="analyzing"&&b.jsx(FI,{message:"Analyzing photo... This may take 5-10 seconds"}),i&&e==="preview"&&b.jsx("div",{style:bt.errorOverlay,children:b.jsxs("div",{style:bt.errorBox,children:[b.jsxs("p",{style:bt.errorText,children:[" ",i]}),b.jsx("button",{onClick:()=>s(null),style:bt.errorButton,children:"OK"})]})})]})}const bt={container:{width:"100%",minHeight:"100vh",backgroundColor:"#FAFAFA"},selectMode:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",padding:"20px"},title:{fontSize:"36px",color:"#2ECC71",marginBottom:"10px",fontWeight:"bold"},subtitle:{fontSize:"18px",color:"#6B7280",marginBottom:"40px"},buttonGroup:{display:"flex",flexDirection:"column",gap:"20px",alignItems:"center"},primaryButton:{padding:"15px 40px",fontSize:"18px",backgroundColor:"#2ECC71",color:"white",border:"none",borderRadius:"50px",cursor:"pointer",fontWeight:"bold"},error:{marginTop:"20px",padding:"10px 20px",backgroundColor:"#FEE",color:"#E74C3C",borderRadius:"5px"},errorOverlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},errorBox:{backgroundColor:"white",padding:"30px",borderRadius:"10px",maxWidth:"400px",textAlign:"center"},errorText:{fontSize:"16px",marginBottom:"20px",color:"#1F2933"},errorButton:{padding:"10px 30px",fontSize:"16px",backgroundColor:"#2ECC71",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"}};function ok({item:e,index:t}){const{name:n,grams:r,calories:i,confidence:s}=e,a={high:"#2ECC71",medium:"#F39C12",low:"#E74C3C"},o={high:"High",medium:"Medium",low:"Low"};return b.jsxs("div",{style:kt.card,children:[b.jsxs("div",{style:kt.header,children:[b.jsx("h3",{style:kt.name,children:n}),b.jsx("span",{style:{...kt.confidenceBadge,backgroundColor:a[s]},children:o[s]})]}),b.jsxs("div",{style:kt.details,children:[b.jsxs("div",{style:kt.detailItem,children:[b.jsx("span",{style:kt.label,children:"Portion:"}),b.jsxs("span",{style:kt.value,children:[r,"g"]})]}),b.jsxs("div",{style:kt.detailItem,children:[b.jsx("span",{style:kt.label,children:"Calories:"}),b.jsxs("span",{style:kt.value,children:[i," kcal"]})]})]})]})}const kt={card:{backgroundColor:"white",borderRadius:"10px",padding:"15px",marginBottom:"10px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},name:{fontSize:"18px",color:"#1F2933",margin:0},confidenceBadge:{padding:"4px 12px",borderRadius:"12px",color:"white",fontSize:"12px",fontWeight:"bold"},details:{display:"flex",gap:"20px"},detailItem:{display:"flex",flexDirection:"column"},label:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},value:{fontSize:"16px",color:"#1F2933",fontWeight:"500"}};function lk({items:e}){const t=e.reduce((n,r)=>n+r.calories,0);return b.jsxs("div",{style:ic.container,children:[b.jsx("div",{style:ic.label,children:"Total Calories"}),b.jsxs("div",{style:ic.value,children:[t," kcal"]})]})}const ic={container:{backgroundColor:"#F39C12",color:"white",padding:"20px",borderRadius:"10px",textAlign:"center",marginTop:"20px"},label:{fontSize:"14px",opacity:.9,marginBottom:"5px"},value:{fontSize:"32px",fontWeight:"bold"}};function uk({item:e,onSave:t,onCancel:n}){const[r,i]=F.useState(e.name),[s,a]=F.useState(e.grams),[o,l]=F.useState(e.calories),[u,c]=F.useState({}),f=e.grams>0?e.calories/e.grams:0,d=m=>{const x=parseInt(m,10)||1;if(a(x),f>0){const g=Math.round(x*f);l(g)}},p=()=>{const m={};return!r||r.trim().length===0?m.name="Name is required":r.length>100&&(m.name="Name must be 100 characters or less"),s<1&&(m.grams="Portion must be at least 1 gram"),o<0&&(m.calories="Calories cannot be negative"),c(m),Object.keys(m).length===0},y=()=>{p()&&t({...e,name:r.trim(),grams:parseInt(s,10),calories:parseInt(o,10)})};return b.jsx("div",{style:ge.overlay,children:b.jsxs("div",{style:ge.modal,children:[b.jsx("h2",{style:ge.title,children:"Edit Food Item"}),b.jsxs("div",{style:ge.formGroup,children:[b.jsx("label",{style:ge.label,children:"Food Name"}),b.jsx("input",{type:"text",value:r,onChange:m=>i(m.target.value),style:ge.input,placeholder:"e.g., White Rice",maxLength:100}),u.name&&b.jsx("span",{style:ge.error,children:u.name})]}),b.jsxs("div",{style:ge.formGroup,children:[b.jsx("label",{style:ge.label,children:"Portion (grams)"}),b.jsxs("div",{style:ge.sliderContainer,children:[b.jsx("input",{type:"range",min:"1",max:Math.max(s*2,500),value:s,onChange:m=>d(m.target.value),style:ge.slider}),b.jsx("input",{type:"number",min:"1",value:s,onChange:m=>d(m.target.value),style:ge.numberInput}),b.jsx("span",{style:ge.unit,children:"g"})]}),u.grams&&b.jsx("span",{style:ge.error,children:u.grams})]}),b.jsxs("div",{style:ge.formGroup,children:[b.jsx("label",{style:ge.label,children:"Calories"}),b.jsx("input",{type:"number",min:"0",value:o,onChange:m=>l(parseInt(m.target.value,10)||0),style:ge.input}),u.calories&&b.jsx("span",{style:ge.error,children:u.calories})]}),b.jsx("div",{style:ge.info,children:" Adjusting portion size will automatically recalculate calories"}),b.jsxs("div",{style:ge.actions,children:[b.jsx("button",{onClick:n,style:ge.cancelButton,children:"Cancel"}),b.jsx("button",{onClick:y,style:ge.saveButton,children:"Save Changes"})]})]})})}const ge={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,padding:"20px"},modal:{backgroundColor:"white",borderRadius:"10px",padding:"25px",maxWidth:"500px",width:"100%",maxHeight:"90vh",overflowY:"auto"},title:{fontSize:"20px",fontWeight:"bold",marginBottom:"20px",color:"#1F2933"},formGroup:{marginBottom:"20px"},label:{display:"block",fontSize:"14px",fontWeight:"bold",marginBottom:"8px",color:"#6B7280"},input:{width:"100%",padding:"10px",fontSize:"16px",border:"1px solid #E5E7EB",borderRadius:"5px",boxSizing:"border-box"},sliderContainer:{display:"flex",alignItems:"center",gap:"10px"},slider:{flex:1,height:"6px"},numberInput:{width:"80px",padding:"8px",fontSize:"16px",border:"1px solid #E5E7EB",borderRadius:"5px",textAlign:"center"},unit:{fontSize:"14px",color:"#6B7280",minWidth:"15px"},info:{backgroundColor:"#FEF3E2",padding:"10px",borderRadius:"5px",fontSize:"13px",color:"#B87503",marginBottom:"20px"},error:{display:"block",color:"#E74C3C",fontSize:"12px",marginTop:"5px"},actions:{display:"flex",gap:"10px",marginTop:"20px"},cancelButton:{flex:1,padding:"12px",fontSize:"16px",backgroundColor:"#6B7280",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontWeight:"bold"},saveButton:{flex:1,padding:"12px",fontSize:"16px",backgroundColor:"#2ECC71",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontWeight:"bold"}};function ck({onRemove:e,itemName:t}){const[n,r]=F.useState(!1),i=()=>{r(!0)},s=()=>{r(!1),e()},a=()=>{r(!1)};return n?b.jsxs("div",{style:ts.confirmContainer,children:[b.jsxs("span",{style:ts.confirmText,children:["Remove ",t,"?"]}),b.jsx("button",{onClick:s,style:ts.confirmButton,children:"Yes"}),b.jsx("button",{onClick:a,style:ts.cancelButton,children:"No"})]}):b.jsx("button",{onClick:i,style:ts.removeButton,title:"Remove item",children:""})}const ts={removeButton:{background:"transparent",border:"none",fontSize:"20px",cursor:"pointer",padding:"5px 10px",opacity:.7,transition:"opacity 0.2s"},confirmContainer:{display:"flex",alignItems:"center",gap:"10px",padding:"5px"},confirmText:{fontSize:"13px",color:"#E74C3C",fontWeight:"bold"},confirmButton:{padding:"5px 15px",fontSize:"12px",backgroundColor:"#E74C3C",color:"white",border:"none",borderRadius:"3px",cursor:"pointer",fontWeight:"bold"},cancelButton:{padding:"5px 15px",fontSize:"12px",backgroundColor:"#6B7280",color:"white",border:"none",borderRadius:"3px",cursor:"pointer",fontWeight:"bold"}};function fk({value:e,onChange:t}){const n=["Breakfast","Lunch","Dinner","Snack"];return b.jsxs("div",{style:ns.container,children:[b.jsx("label",{style:ns.label,children:"Meal Type"}),b.jsx("div",{style:ns.options,children:n.map(r=>b.jsxs("button",{onClick:()=>t(r),style:{...ns.option,...e===r?ns.optionSelected:{}},children:[dk(r)," ",r]},r))})]})}function dk(e){return{Breakfast:"",Lunch:"",Dinner:"",Snack:""}[e]||""}const ns={container:{marginBottom:"20px"},label:{display:"block",fontSize:"14px",fontWeight:"bold",marginBottom:"10px",color:"#6B7280"},options:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"10px"},option:{padding:"12px",fontSize:"14px",backgroundColor:"#FAFAFA",color:"#1F2933",border:"2px solid #E5E7EB",borderRadius:"8px",cursor:"pointer",fontWeight:"500",transition:"all 0.2s"},optionSelected:{backgroundColor:"#2ECC71",color:"white",borderColor:"#2ECC71",fontWeight:"bold"}};function hk(e=new Date){const t=e.getHours();return t>=5&&t<11?"Breakfast":t>=11&&t<16?"Lunch":t>=16&&t<21?"Dinner":"Snack"}function pk(){const{currentMeal:e,currentImage:t}=th(),n=Pi(),[r,i]=F.useState(!1),[s,a]=F.useState(null),[o,l]=F.useState((e==null?void 0:e.foodItems)||[]),[u,c]=F.useState(null),[f,d]=F.useState(hk()),[p,y]=F.useState(!1);if(!e||!e.foodItems)return b.jsx("div",{style:Se.container,children:b.jsxs("div",{style:Se.emptyState,children:[b.jsx("p",{children:"No detection results available"}),b.jsx("a",{href:"/camera",style:Se.link,children:"Take a photo"})]})});if(o.length===0)return b.jsx("div",{style:Se.container,children:b.jsxs("div",{style:Se.emptyState,children:[b.jsx("h2",{children:"No food items"}),b.jsx("p",{children:"The AI couldn't identify any food in this photo, or all items were removed."}),b.jsx("p",{children:"Try taking another photo with better lighting or a clearer view of the food."}),b.jsx("a",{href:"/camera",style:Se.link,children:b.jsx("button",{style:Se.retryButton,children:" Try Again"})})]})});const m=o.every(w=>w.confidence==="low"),x=w=>{c(w)},g=w=>{const A=[...o];A[u]=w,l(A),c(null)},h=()=>{c(null)},v=w=>{const A=o.filter((_,S)=>S!==w);l(A)},E=async()=>{if(!p){y(!0);return}i(!0),a(null);try{const w=o.reduce((_,S)=>_+S.calories,0),A={timestamp:e.timestamp||Date.now(),date:e.date||new Date().toISOString().split("T")[0],type:f,totalCalories:w};await _E(A,o),n("/log")}catch(w){console.error("Failed to save meal:",w),a(w.message),i(!1)}};return b.jsxs("div",{style:Se.container,children:[b.jsxs("div",{style:Se.header,children:[b.jsx("h1",{style:Se.title,children:"Detection Results"}),t&&b.jsx("img",{src:t,alt:"Food",style:Se.thumbnail})]}),m&&b.jsx("div",{style:Se.warning,children:" Poor image quality detected. Results may be inaccurate. Consider retaking the photo."}),b.jsx("div",{style:Se.itemsList,children:o.map((w,A)=>b.jsxs("div",{style:Se.itemWrapper,children:[b.jsx("div",{onClick:()=>x(A),style:{cursor:"pointer",flex:1},children:b.jsx(ok,{item:w,index:A})}),b.jsx(ck,{onRemove:()=>v(A),itemName:w.name})]},A))}),b.jsx(lk,{items:o}),p&&b.jsx(fk,{value:f,onChange:d}),b.jsxs("div",{style:Se.actions,children:[b.jsx(vr,{to:"/camera",style:Se.link,children:b.jsx("button",{style:Se.secondaryButton,disabled:r,children:" Retry"})}),b.jsx("button",{style:Se.primaryButton,onClick:E,disabled:r,children:r?" Saving...":p?" Save to Log":" Continue"})]}),s&&b.jsxs("div",{style:Se.errorMessage,children:[" Failed to save: ",s]}),u!==null&&b.jsx(uk,{item:o[u],onSave:g,onCancel:h})]})}const Se={container:{maxWidth:"600px",margin:"0 auto",padding:"20px",fontFamily:"sans-serif"},header:{textAlign:"center",marginBottom:"20px"},title:{fontSize:"24px",color:"#1F2933",marginBottom:"15px"},thumbnail:{width:"100%",maxHeight:"200px",objectFit:"cover",borderRadius:"10px"},emptyState:{textAlign:"center",padding:"60px 20px"},warning:{backgroundColor:"#FEF3E2",border:"1px solid #F39C12",color:"#B87503",padding:"12px",borderRadius:"5px",marginBottom:"20px",fontSize:"14px"},itemsList:{marginBottom:"20px"},itemWrapper:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px"},actions:{display:"flex",gap:"10px",marginTop:"20px"},link:{textDecoration:"none",flex:1},primaryButton:{flex:1,padding:"15px",fontSize:"16px",backgroundColor:"#2ECC71",color:"white",border:"none",borderRadius:"10px",cursor:"pointer",fontWeight:"bold"},secondaryButton:{width:"100%",padding:"15px",fontSize:"16px",backgroundColor:"#6B7280",color:"white",border:"none",borderRadius:"10px"},errorMessage:{backgroundColor:"#FEE",border:"1px solid #E74C3C",color:"#C0392B",padding:"12px",borderRadius:"5px",marginTop:"15px",textAlign:"center",cursor:"pointer",fontWeight:"bold"},retryButton:{padding:"15px 30px",fontSize:"16px",backgroundColor:"#2ECC71",color:"white",border:"none",borderRadius:"10px",cursor:"pointer",fontWeight:"bold"}};function mk(){const[e,t]=F.useState(""),[n,r]=F.useState(!1),[i,s]=F.useState(null),[a,o]=F.useState(!0),[l,u]=F.useState(!1),c=Pi();F.useEffect(()=>{f()},[]);const f=async()=>{try{const m=await vv();m&&t(m)}catch(m){console.error("Failed to load API key:",m)}finally{o(!1)}},d=async()=>{if(s(null),!e.trim()){s({type:"error",text:"Please enter an API key"});return}if(!e.startsWith("sk-")){s({type:"error",text:'Invalid API key format. Key must start with "sk-"'});return}try{await bE(e),s({type:"success",text:"API key saved successfully!"})}catch(m){s({type:"error",text:`Failed to save API key: ${m.message}`})}},p=async()=>{try{await Rm("apiKey"),await Rm("apiKeySalt"),t(""),s({type:"success",text:"API key deleted"}),u(!1)}catch(m){s({type:"error",text:`Failed to delete API key: ${m.message}`})}},y=async()=>{if(window.confirm(" This will delete ALL data including meals and settings. Are you sure?"))try{await SE(),t(""),s({type:"success",text:"All data deleted. App reset complete."}),setTimeout(()=>c("/"),2e3)}catch(m){s({type:"error",text:`Factory reset failed: ${m.message}`})}};return a?b.jsx("div",{style:re.container,children:"Loading..."}):b.jsxs("div",{style:re.container,children:[b.jsxs("div",{style:re.header,children:[b.jsx("button",{onClick:()=>c("/"),style:re.backButton,children:" Back"}),b.jsx("h1",{style:re.title,children:"Settings"})]}),b.jsxs("div",{style:re.section,children:[b.jsx("h2",{style:re.sectionTitle,children:"OpenAI API Key"}),b.jsx("p",{style:re.description,children:"Your API key is stored locally and encrypted. It's never transmitted except to OpenAI."}),b.jsxs("div",{style:re.inputGroup,children:[b.jsx("input",{type:n?"text":"password",value:e,onChange:m=>t(m.target.value),placeholder:"sk-...",style:re.input}),b.jsx("button",{onClick:()=>r(!n),style:re.toggleButton,children:n?" Hide":" Show"})]}),b.jsxs("div",{style:re.buttonGroup,children:[b.jsx("button",{onClick:d,style:re.primaryButton,children:" Save API Key"}),e&&b.jsx("button",{onClick:()=>u(!0),style:re.dangerButton,children:" Delete Key"})]}),l&&b.jsxs("div",{style:re.confirmBox,children:[b.jsx("p",{children:"Delete API key?"}),b.jsxs("div",{style:re.confirmButtons,children:[b.jsx("button",{onClick:p,style:re.confirmYes,children:"Yes"}),b.jsx("button",{onClick:()=>u(!1),style:re.confirmNo,children:"No"})]})]}),b.jsxs("div",{style:re.helpText,children:[b.jsxs("p",{children:[" Get an API key at ",b.jsx("a",{href:"https://platform.openai.com",target:"_blank",rel:"noopener noreferrer",style:re.link,children:"platform.openai.com"})]}),b.jsx("p",{children:" You pay for your own OpenAI usage (~$0.01-0.03 per photo)"})]})]}),b.jsxs("div",{style:re.section,children:[b.jsx("h2",{style:re.sectionTitle,children:"Privacy"}),b.jsxs("ul",{style:re.privacyList,children:[b.jsx("li",{children:" All data stored locally on your device"}),b.jsx("li",{children:" API key encrypted using browser crypto"}),b.jsx("li",{children:" EXIF metadata stripped from photos"}),b.jsx("li",{children:" Images never stored (memory-only during analysis)"}),b.jsx("li",{children:" No backend server, no data collection"})]})]}),b.jsxs("div",{style:re.section,children:[b.jsx("h2",{style:re.sectionTitle,children:"Danger Zone"}),b.jsx("button",{onClick:y,style:re.dangerButton,children:" Factory Reset (Delete All Data)"}),b.jsx("p",{style:re.warningText,children:"This will permanently delete all meals, settings, and your API key."})]}),i&&b.jsx("div",{style:{...re.message,backgroundColor:i.type==="success"?"#D5F5E3":"#FADBD8",color:i.type==="success"?"#1E8449":"#E74C3C"},children:i.text})]})}const re={container:{maxWidth:"600px",margin:"0 auto",padding:"20px",fontFamily:"sans-serif"},header:{display:"flex",alignItems:"center",marginBottom:"30px",gap:"15px"},backButton:{padding:"8px 15px",backgroundColor:"#FAFAFA",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"14px"},title:{fontSize:"28px",color:"#1F2933",margin:0},section:{backgroundColor:"white",padding:"20px",borderRadius:"10px",marginBottom:"20px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},sectionTitle:{fontSize:"20px",color:"#1F2933",marginTop:0,marginBottom:"10px"},description:{color:"#6B7280",fontSize:"14px",marginBottom:"15px"},inputGroup:{display:"flex",gap:"10px",marginBottom:"15px"},input:{flex:1,padding:"12px",fontSize:"16px",border:"1px solid #E5E7EB",borderRadius:"5px",fontFamily:"monospace"},toggleButton:{padding:"12px 20px",backgroundColor:"#FAFAFA",border:"1px solid #E5E7EB",borderRadius:"5px",cursor:"pointer",fontSize:"14px"},buttonGroup:{display:"flex",gap:"10px",marginBottom:"15px"},primaryButton:{flex:1,padding:"12px",fontSize:"16px",backgroundColor:"#2ECC71",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontWeight:"bold"},dangerButton:{padding:"12px 20px",fontSize:"16px",backgroundColor:"#E74C3C",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontWeight:"bold",width:"100%"},confirmBox:{backgroundColor:"#FEF3E2",padding:"15px",borderRadius:"5px",marginTop:"10px"},confirmButtons:{display:"flex",gap:"10px",marginTop:"10px"},confirmYes:{flex:1,padding:"8px",backgroundColor:"#E74C3C",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},confirmNo:{flex:1,padding:"8px",backgroundColor:"#6B7280",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},helpText:{marginTop:"15px",fontSize:"14px",color:"#6B7280"},link:{color:"#2ECC71",textDecoration:"none"},privacyList:{listStyle:"none",padding:0,margin:0},warningText:{fontSize:"14px",color:"#6B7280",marginTop:"10px"},message:{position:"fixed",bottom:"20px",left:"50%",transform:"translateX(-50%)",padding:"15px 30px",borderRadius:"5px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",zIndex:9999,maxWidth:"90%",textAlign:"center"}};function gk({meal:e,expanded:t,onToggleExpand:n}){Pi();const r=eh(()=>t?EE(e.id):Promise.resolve([]),[e.id,t],[]),i=async()=>{if(confirm(`Delete this ${e.type||"meal"}?`))try{await xE(e.id)}catch(o){console.error("Failed to delete meal:",o),alert("Failed to delete meal: "+o.message)}},s=o=>new Date(o).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),a=o=>({Breakfast:"",Lunch:"",Dinner:"",Snack:""})[o]||"";return b.jsxs("div",{style:Te.card,children:[b.jsxs("div",{style:Te.header,onClick:n,children:[b.jsxs("div",{style:Te.headerLeft,children:[b.jsx("span",{style:Te.icon,children:a(e.type)}),b.jsxs("div",{children:[b.jsx("div",{style:Te.type,children:e.type||"Meal"}),b.jsx("div",{style:Te.time,children:s(e.timestamp)})]})]}),b.jsxs("div",{style:Te.headerRight,children:[b.jsxs("div",{style:Te.calories,children:[e.totalCalories," kcal"]}),b.jsx("div",{style:Te.expandIcon,children:t?"":""})]})]}),t&&b.jsxs("div",{style:Te.details,children:[r.length===0?b.jsx("div",{style:Te.loading,children:"Loading items..."}):b.jsx("div",{style:Te.itemsList,children:r.map((o,l)=>b.jsxs("div",{style:Te.item,children:[b.jsx("span",{style:Te.itemName,children:o.name}),b.jsxs("span",{style:Te.itemDetails,children:[o.grams,"g  ",o.calories," kcal"]})]},l))}),b.jsx("div",{style:Te.actions,children:b.jsx("button",{onClick:i,style:Te.deleteButton,children:" Delete Meal"})})]})]})}const Te={card:{backgroundColor:"white",border:"1px solid #E5E7EB",borderRadius:"10px",marginBottom:"15px",overflow:"hidden",boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"15px",cursor:"pointer",userSelect:"none"},headerLeft:{display:"flex",alignItems:"center",gap:"12px"},icon:{fontSize:"28px"},type:{fontSize:"16px",fontWeight:"bold",color:"#1F2933"},time:{fontSize:"12px",color:"#6B7280",marginTop:"2px"},headerRight:{display:"flex",alignItems:"center",gap:"15px"},calories:{fontSize:"18px",fontWeight:"bold",color:"#F39C12"},expandIcon:{fontSize:"14px",color:"#6B7280"},details:{borderTop:"1px solid #E5E7EB",padding:"15px",backgroundColor:"#FAFAFA"},loading:{textAlign:"center",padding:"10px",color:"#6B7280",fontSize:"14px"},itemsList:{marginBottom:"15px"},item:{display:"flex",justifyContent:"space-between",padding:"8px 0",borderBottom:"1px solid #E5E7EB"},itemName:{fontSize:"14px",color:"#1F2933"},itemDetails:{fontSize:"13px",color:"#6B7280"},actions:{display:"flex",gap:"10px",marginTop:"10px"},deleteButton:{padding:"8px 15px",fontSize:"13px",backgroundColor:"#E74C3C",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontWeight:"bold"}};function yk({meals:e,date:t}){if(!e||e.length===0)return b.jsx("div",{style:lt.container,children:b.jsxs("div",{style:lt.emptyState,children:[b.jsx("p",{children:"No meals logged yet"}),b.jsx("p",{style:lt.hint,children:"Start tracking your meals to see your daily summary"})]})});const n=e.reduce((s,a)=>s+(a.totalCalories||0),0),r=e.length,i=s=>{const a=new Date(s+"T00:00:00"),o=new Date;o.setHours(0,0,0,0);const l=new Date(o);return l.setDate(l.getDate()-1),a.getTime()===o.getTime()?"Today":a.getTime()===l.getTime()?"Yesterday":a.toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"})};return b.jsxs("div",{style:lt.container,children:[b.jsx("div",{style:lt.dateHeader,children:i(t)}),b.jsxs("div",{style:lt.stats,children:[b.jsxs("div",{style:lt.stat,children:[b.jsx("div",{style:lt.statValue,children:n}),b.jsx("div",{style:lt.statLabel,children:"Total Calories"})]}),b.jsx("div",{style:lt.divider}),b.jsxs("div",{style:lt.stat,children:[b.jsx("div",{style:lt.statValue,children:r}),b.jsx("div",{style:lt.statLabel,children:"Meals Logged"})]})]})]})}const lt={container:{backgroundColor:"white",border:"2px solid #2ECC71",borderRadius:"10px",padding:"20px",marginBottom:"25px",boxShadow:"0 2px 6px rgba(46, 204, 113, 0.1)"},dateHeader:{fontSize:"18px",fontWeight:"bold",color:"#2ECC71",marginBottom:"15px",textAlign:"center"},stats:{display:"flex",justifyContent:"space-around",alignItems:"center"},stat:{textAlign:"center",flex:1},statValue:{fontSize:"32px",fontWeight:"bold",color:"#1F2933",marginBottom:"5px"},statLabel:{fontSize:"13px",color:"#6B7280",textTransform:"uppercase",letterSpacing:"0.5px"},divider:{width:"1px",height:"60px",backgroundColor:"#E5E7EB"},emptyState:{textAlign:"center",padding:"10px"},hint:{fontSize:"13px",color:"#6B7280",marginTop:"5px"}};function vk(){const[e,t]=F.useState(new Date().toISOString().split("T")[0]),n=eh(()=>AE(e),[e],[]),[r,i]=F.useState(null),s=a=>{i(r===a?null:a)};return b.jsxs("div",{style:Ve.container,children:[b.jsx("h1",{style:Ve.title,children:"Meal Log"}),b.jsxs("div",{style:Ve.dateSelector,children:[b.jsx("label",{style:Ve.dateLabel,children:"Date:"}),b.jsx("input",{type:"date",value:e,onChange:a=>t(a.target.value),style:Ve.dateInput,max:new Date().toISOString().split("T")[0]})]}),b.jsx(yk,{meals:n,date:e}),n?n.length===0?b.jsxs("div",{style:Ve.emptyState,children:[b.jsxs("p",{children:[" No meals logged for ",e]}),b.jsx(vr,{to:"/camera",style:Ve.link,children:b.jsx("button",{style:Ve.addButton,children:" Add First Meal"})})]}):b.jsx("div",{style:Ve.mealsList,children:n.map(a=>b.jsx(gk,{meal:a,expanded:r===a.id,onToggleExpand:()=>s(a.id)},a.id))}):b.jsx("div",{style:Ve.loading,children:"Loading..."}),b.jsxs("div",{style:Ve.footer,children:[b.jsx(vr,{to:"/camera",style:Ve.link,children:b.jsx("button",{style:Ve.addButton,children:" Add Meal"})}),b.jsx(vr,{to:"/",style:Ve.link,children:b.jsx("button",{style:Ve.homeButton,children:" Home"})})]})]})}const Ve={container:{maxWidth:"600px",margin:"0 auto",padding:"20px",fontFamily:"sans-serif"},title:{fontSize:"28px",fontWeight:"bold",color:"#1F2933",marginBottom:"20px",textAlign:"center"},dateSelector:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"20px",padding:"10px",backgroundColor:"#FAFAFA",borderRadius:"8px"},dateLabel:{fontSize:"14px",fontWeight:"bold",color:"#6B7280"},dateInput:{flex:1,padding:"8px",fontSize:"14px",border:"1px solid #E5E7EB",borderRadius:"5px"},loading:{textAlign:"center",padding:"40px",color:"#6B7280",fontSize:"16px"},emptyState:{textAlign:"center",padding:"60px 20px",color:"#6B7280"},mealsList:{marginBottom:"20px"},footer:{display:"flex",gap:"10px",marginTop:"30px"},link:{textDecoration:"none",flex:1},addButton:{width:"100%",padding:"15px",fontSize:"16px",backgroundColor:"#2ECC71",color:"white",border:"none",borderRadius:"10px",cursor:"pointer",fontWeight:"bold"},homeButton:{width:"100%",padding:"15px",fontSize:"16px",backgroundColor:"#6B7280",color:"white",border:"none",borderRadius:"10px",cursor:"pointer",fontWeight:"bold"}},wk=()=>b.jsxs("div",{style:{padding:"20px",textAlign:"center",marginTop:"100px"},children:[b.jsx("h1",{style:{color:"#2ECC71",fontSize:"48px"},children:"MealLens"}),b.jsx("p",{style:{fontSize:"18px",color:"#6B7280",marginBottom:"30px"},children:"AI-powered calorie tracking from food photos"}),b.jsxs("div",{style:{display:"flex",gap:"20px",justifyContent:"center",flexWrap:"wrap"},children:[b.jsx(vr,{to:"/camera",style:{textDecoration:"none"},children:b.jsx("button",{style:{padding:"15px 40px",fontSize:"18px",backgroundColor:"#2ECC71",color:"white",border:"none",borderRadius:"50px",cursor:"pointer",fontWeight:"bold"},children:" Take Photo"})}),b.jsx(vr,{to:"/log",style:{textDecoration:"none"},children:b.jsx("button",{style:{padding:"15px 40px",fontSize:"18px",backgroundColor:"#F39C12",color:"white",border:"none",borderRadius:"50px",cursor:"pointer",fontWeight:"bold"},children:" View Log"})}),b.jsx(vr,{to:"/settings",style:{textDecoration:"none"},children:b.jsx("button",{style:{padding:"15px 40px",fontSize:"18px",backgroundColor:"#6B7280",color:"white",border:"none",borderRadius:"50px",cursor:"pointer",fontWeight:"bold"},children:" Settings"})})]})]});function Ak(){const[e,t]=F.useState(null),[n,r]=F.useState(!1);return F.useEffect(()=>{CI().then(i=>{i.shouldShowNotification&&t({version:i.latestVersion,updateUrl:i.updateUrl})}).catch(i=>{console.warn("Version check failed:",i)})},[]),b.jsx(PE,{children:b.jsx(RE,{children:b.jsxs(Ex,{basename:"/MealLens",children:[e&&b.jsx(OI,{version:e.version,onDismiss:()=>t(null),onClick:()=>r(!0)}),n&&e&&b.jsx(TI,{version:e.version,updateUrl:e.updateUrl,onClose:()=>r(!1)}),b.jsx(BE,{}),b.jsxs(gx,{children:[b.jsx(ur,{path:"/",element:b.jsx(wk,{})}),b.jsx(ur,{path:"/camera",element:b.jsx(ak,{})}),b.jsx(ur,{path:"/results",element:b.jsx(pk,{})}),b.jsx(ur,{path:"/log",element:b.jsx(vk,{})}),b.jsx(ur,{path:"/settings",element:b.jsx(mk,{})}),b.jsx(ur,{path:"*",element:b.jsx(px,{to:"/",replace:!0})})]})]})})})}sc.createRoot(document.getElementById("root")).render(b.jsx(Pn.StrictMode,{children:b.jsx(Ak,{})}));
